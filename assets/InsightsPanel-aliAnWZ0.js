import{a as k,j as n}from"./index-B1t-YrB5.js";import{a as h}from"./vendor-cytoscape-hdah7_Xt.js";import{h as y,i as v}from"./data-courses-aYLqO-5R.js";import"./vendor-firebase-BQvzIQYL.js";function E({onNavigate:a}){const{courses:t}=k(),[o,f]=h.useState(!0),l=h.useMemo(()=>{const s=[],g=[{name:"Blueprints",keywords:["blueprint","visual scripting","bp"]},{name:"Materials",keywords:["material","shader","texture"]},{name:"Niagara",keywords:["niagara","particle","vfx"]},{name:"Lighting",keywords:["light","lumen","raytracing"]},{name:"Animation",keywords:["animation","skeletal","rigging"]},{name:"UI/UMG",keywords:["ui","umg","widget","hud"]},{name:"Audio",keywords:["audio","sound","metasound"]},{name:"Landscape",keywords:["landscape","terrain","foliage"]}].map(e=>{const i=t.filter(u=>{const C=[...u.gemini_system_tags||[],...u.ai_tags||[],u.title||""].map(m=>m.toLowerCase());return e.keywords.some(m=>C.some(x=>x.includes(m)))});return{...e,courseCount:i.length}});g.filter(e=>e.courseCount>0&&e.courseCount<10).sort((e,i)=>e.courseCount-i.courseCount).slice(0,2).forEach(e=>{s.push({type:"gap",icon:"ğŸ“ˆ",title:`${e.name} has limited coverage`,description:`Only ${e.courseCount} courses cover ${e.name}. This may be an opportunity to expand.`,source:`Searched for "${e.keywords.join('", "')}" in course tags and titles`,priority:"medium",skillName:e.name,actionable:!0})}),g.filter(e=>e.courseCount>=15).sort((e,i)=>i.courseCount-e.courseCount).slice(0,1).forEach(e=>{s.push({type:"strength",icon:"âœ…",title:`Strong ${e.name} coverage`,description:`${e.courseCount} courses covering ${e.name}â€”well above average library depth.`,source:`Counted ${e.courseCount} courses matching ${e.name} keywords`,priority:"info",skillName:e.name,actionable:!0})});const c=e=>e.gemini_skill_level?e.gemini_skill_level.toLowerCase():e.tags?.level&&typeof e.tags.level=="string"?e.tags.level.toLowerCase():"",r={beginner:t.filter(e=>c(e).includes("beginner")).length,intermediate:t.filter(e=>c(e).includes("intermediate")).length,advanced:t.filter(e=>c(e).includes("advanced")).length};r.advanced<5&&r.beginner>20&&s.push({type:"level",icon:"ğŸ“",title:"Advanced content gap",description:`Only ${r.advanced} advanced courses vs ${r.beginner} beginner. Consider creating expert-level content.`,source:`Analyzed gemini_skill_level tags: ${r.beginner} beginner, ${r.intermediate} intermediate, ${r.advanced} advanced`,priority:"medium"});const d=t.filter(e=>(e.duration_minutes||30)<30).length;return d>t.length*.7&&s.push({type:"duration",icon:"â±ï¸",title:"Content format opportunity",description:`${Math.round(d/t.length*100)}% of courses are under 30 min. Consider adding deeper workshop-style content.`,source:`${d} of ${t.length} courses have duration_minutes < 30`,priority:"low"}),y?.insights&&y.insights.forEach(e=>{s.push({type:e.type||"curator",icon:e.icon||"ğŸ¯",title:e.title,description:e.description,source:e.source,priority:e.priority||"medium"})}),v?.insights&&v.insights.forEach(e=>{s.push({type:e.type||"external",icon:e.icon||"ğŸ“Š",title:e.title,description:e.description,source:e.source,priority:e.priority||"low"})}),s.slice(0,8)},[t]);return l.length===0?null:n.jsxs("div",{className:`insights-panel ${o?"expanded":"collapsed"}`,children:[n.jsxs("div",{className:"insights-header",onClick:()=>f(!o),children:[n.jsxs("h3",{children:["ğŸ’¡ Insights & Recommendations",n.jsx("span",{className:"insight-count",children:l.length})]}),n.jsx("button",{className:"toggle-btn",children:o?"â–¼":"â–¶"})]}),o&&n.jsx("div",{className:"insights-list",children:l.map((s,p)=>n.jsxs("div",{className:`insight-card priority-${s.priority}`,children:[n.jsx("span",{className:"insight-icon",children:s.icon}),n.jsxs("div",{className:"insight-content",children:[n.jsx("strong",{children:s.title}),n.jsx("p",{children:s.description}),s.source&&n.jsxs("span",{className:"insight-source",children:["ğŸ“Š ",s.source]}),s.actionable&&s.skillName&&a&&n.jsxs("div",{className:"insight-actions",children:[n.jsx("button",{className:"insight-action-btn primary",onClick:()=>a("builder",s.skillName),children:"ğŸ¯ Start Path"}),n.jsx("button",{className:"insight-action-btn secondary",onClick:()=>a("builder",s.skillName),children:"ğŸ“š View Courses"})]})]})]},p))})]})}export{E as default};
