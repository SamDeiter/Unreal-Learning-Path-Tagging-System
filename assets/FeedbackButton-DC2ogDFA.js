const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feedbackService-Ca5lPyMI.js","assets/logger-CDyjTpW_.js","assets/createLucideIcon-YhyuTmrv.js","assets/vendor-cytoscape-hdah7_Xt.js","assets/vendor-firebase-DNc0QRT5.js","assets/index-hLcBtnOG.js","assets/data-courses-CecwKQwF.js","assets/index-mDwnIhn8.css"])))=>i.map(i=>d[i]);
import{j as e,_ as C}from"./index-hLcBtnOG.js";import{a as t,P as y}from"./vendor-cytoscape-hdah7_Xt.js";import{L as z,d as R}from"./logger-CDyjTpW_.js";import{X as v}from"./x-HbUnH9yy.js";import{c as b}from"./createLucideIcon-YhyuTmrv.js";import{M as p}from"./message-square-B9rM_FIo.js";import"./vendor-firebase-DNc0QRT5.js";import"./data-courses-CecwKQwF.js";const q=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],L=b("bug",q);const I=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T=b("circle-check-big",I);const w=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],A=b("upload",w);function N({isOpen:n,onClose:c}){const[i,l]=t.useState("bug"),[m,h]=t.useState(""),[o,r]=t.useState([]),[f,k]=t.useState(!1),[F,x]=t.useState(!1),g=t.useRef(null);if(!n)return null;const M=s=>{s.target.files&&r(a=>[...a,...Array.from(s.target.files)])},S=s=>{r(a=>a.filter((j,d)=>d!==s))},_=async s=>{s.preventDefault(),k(!0);try{const{recordFormFeedback:a}=await C(async()=>{const{recordFormFeedback:u}=await import("./feedbackService-Ca5lPyMI.js");return{recordFormFeedback:u}},__vite__mapDeps([0,1,2,3,4,5,6,7])),j=o.map(u=>u.name),d=a(i,m,j);R("ðŸ“ Feedback saved:",d)}catch{}x(!0),k(!1),setTimeout(()=>{x(!1),h(""),r([]),l("bug"),c()},2e3)};return e.jsx("div",{className:"feedback-overlay",onClick:c,children:e.jsxs("div",{className:"feedback-modal",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"feedback-close",onClick:c,children:e.jsx(v,{size:20})}),F?e.jsxs("div",{className:"feedback-success",children:[e.jsx(T,{size:48,className:"success-icon"}),e.jsx("h3",{children:"Thank You!"}),e.jsx("p",{children:"Your feedback helps us improve the learning path."})]}):e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"feedback-header",children:[e.jsxs("h2",{children:[e.jsx(p,{size:24,className:"icon-inline"})," Send Feedback"]}),e.jsx("p",{children:"Found a bug or have an idea? Let us know."})]}),e.jsxs("div",{className:"feedback-type-selector",children:[e.jsxs("button",{type:"button",className:`type-btn ${i==="bug"?"active":""}`,onClick:()=>l("bug"),children:[e.jsx(L,{size:16})," Bug Report"]}),e.jsxs("button",{type:"button",className:`type-btn ${i==="feature"?"active":""}`,onClick:()=>l("feature"),children:[e.jsx(z,{size:16})," Feature Request"]}),e.jsxs("button",{type:"button",className:`type-btn ${i==="general"?"active":""}`,onClick:()=>l("general"),children:[e.jsx(p,{size:16})," General"]})]}),e.jsxs("div",{className:"feedback-form-group",children:[e.jsx("label",{htmlFor:"feedback-desc",children:i==="bug"?"Describe the issue and steps to reproduce:":"Tell us about your suggestion:"}),e.jsx("textarea",{id:"feedback-desc",value:m,onChange:s=>h(s.target.value),placeholder:i==="bug"?"e.g., When I click 'Next', the screen goes black...":"e.g., It would be great if we could...",required:!0,rows:5})]}),e.jsxs("div",{className:"feedback-form-group",children:[e.jsxs("label",{className:"file-upload-label",children:[e.jsx("span",{className:"label-text",children:"Attachments (Screenshots/Logs)"}),e.jsxs("button",{type:"button",className:"upload-trigger-btn",onClick:()=>g.current?.click(),children:[e.jsx(A,{size:14})," Add Files"]}),e.jsx("input",{ref:g,type:"file",multiple:!0,accept:"image/*,.log,.txt",onChange:M,style:{display:"none"}})]}),o.length>0&&e.jsx("div",{className:"file-list",children:o.map((s,a)=>e.jsxs("div",{className:"file-item",children:[e.jsx("span",{className:"file-name",children:s.name}),e.jsx("button",{type:"button",className:"file-remove",onClick:()=>S(a),children:e.jsx(v,{size:12})})]},a))})]}),e.jsx("div",{className:"feedback-actions",children:e.jsx("button",{type:"submit",className:"feedback-submit",disabled:f,children:f?"Sending...":"Submit Feedback"})})]})]})})}N.propTypes={isOpen:y.bool.isRequired,onClose:y.func.isRequired};function Y(){const[n,c]=t.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"feedback-fab",onClick:()=>c(!0),"aria-label":"Send Feedback",title:"Report a bug or suggestion",children:[e.jsx(p,{size:20}),e.jsx("span",{className:"feedback-label",children:"Feedback"})]}),e.jsx(N,{isOpen:n,onClose:()=>c(!1)})]})}export{Y as default};
