import{j as e}from"./index-LqiYqjRw.js";import{a as o}from"./vendor-cytoscape-hdah7_Xt.js";import{b as q,g as N}from"./PersonaService-D9aA7hNj.js";import"./vendor-firebase-BEnYNivV.js";import"./data-courses-Cfgu6N5t.js";const k="ue5_persona_id",m=[{id:"industry",title:"What's your focus area?",subtitle:"Pick the industry closest to your work",options:[{id:"games",emoji:"üéÆ",label:"Game Development",personaWeights:{indie_isaac:4,logic_liam:4}},{id:"film",emoji:"üé¨",label:"Film / Animation",personaWeights:{animator_alex:5,rigger_regina:4}},{id:"cpg",emoji:"üíé",label:"Product Viz / Marketing",personaWeights:{designer_cpg:5}},{id:"archviz",emoji:"üèõÔ∏è",label:"Architecture",personaWeights:{architect_amy:5}},{id:"industrial",emoji:"üîß",label:"Industrial / Defense",personaWeights:{simulation_sam:5}},{id:"vfx",emoji:"‚ú®",label:"VFX / Effects",personaWeights:{vfx_victor:5}},{id:"automotive",emoji:"üöó",label:"Automotive",personaWeights:{automotive_andy:5}}]},{id:"depth",title:"How deep do you want to go?",subtitle:"This shapes the technical level of your path",options:[{id:"low",emoji:"üöÄ",label:"Get results fast ‚Äî skip theory",personaWeights:{designer_cpg:3,architect_amy:2,automotive_andy:1}},{id:"medium",emoji:"‚öñÔ∏è",label:"Balanced ‚Äî understand + build",personaWeights:{indie_isaac:3,animator_alex:3,automotive_andy:2,vfx_victor:1}},{id:"high",emoji:"üî¨",label:"Deep ‚Äî show me why it works",personaWeights:{logic_liam:3,rigger_regina:3,simulation_sam:3,vfx_victor:2}}]},{id:"workflow",title:"What describes your workflow?",subtitle:"This helps us tailor course recommendations",options:[{id:"visual",emoji:"üé®",label:"Visual-first ‚Äî I think in images",personaWeights:{animator_alex:3,designer_cpg:3,architect_amy:2,automotive_andy:2,vfx_victor:2}},{id:"blueprint",emoji:"üß©",label:"Blueprint ‚Äî visual logic, no code",personaWeights:{indie_isaac:4,animator_alex:1}},{id:"engineering",emoji:"‚öôÔ∏è",label:"Systems ‚Äî under-the-hood engineering",personaWeights:{logic_liam:4,rigger_regina:3,simulation_sam:3}}]}];function I({onComplete:h}){const[a,d]=o.useState(0),[u,g]=o.useState({}),[i,p]=o.useState(null),b=o.useCallback((s,t)=>{const j={...u,[s]:t};if(g(j),a<m.length-1)setTimeout(()=>d(a+1),300);else{const r={};q().forEach(n=>{r[n.id]=0}),Object.values(j).forEach(n=>{Object.entries(n.personaWeights||{}).forEach(([c,y])=>{r[c]=(r[c]||0)+y})});const f=Object.entries(r).sort((n,c)=>c[1]-n[1])[0][0],z=N(f);p(z)}},[u,a]),x=o.useCallback(()=>{i&&(localStorage.setItem(k,i.id),h(i.id))},[i,h]),_=o.useCallback(()=>{d(0),g({}),p(null)},[]);if(i)return e.jsx("div",{className:"quiz-overlay",children:e.jsxs("div",{className:"quiz-modal quiz-result-modal",children:[e.jsx("div",{className:"quiz-result-emoji",children:i.emoji}),e.jsx("h2",{className:"quiz-result-name",children:i.name}),e.jsx("p",{className:"quiz-result-industry",children:i.industry}),e.jsx("p",{className:"quiz-result-desc",children:i.description}),i.onboardingMessaging?.length>0&&e.jsx("ul",{className:"quiz-result-messaging",children:i.onboardingMessaging.map((s,t)=>e.jsx("li",{children:s},t))}),e.jsxs("div",{className:"quiz-result-actions",children:[e.jsx("button",{className:"quiz-confirm-btn",onClick:x,children:"Start My Path ‚Üí"}),e.jsx("button",{className:"quiz-retake-btn",onClick:_,children:"Change My Role"})]})]})});const l=m[a],v=u[l.id]?.id;return e.jsx("div",{className:"quiz-overlay",children:e.jsxs("div",{className:"quiz-modal",children:[e.jsx("div",{className:"quiz-progress",children:m.map((s,t)=>e.jsx("div",{className:`quiz-progress-dot ${t<=a?"active":""} ${t<a?"done":""}`},t))}),e.jsx("h2",{className:"quiz-title",children:l.title}),e.jsx("p",{className:"quiz-subtitle",children:l.subtitle}),e.jsx("div",{className:"quiz-options",children:l.options.map(s=>e.jsxs("button",{className:`quiz-option ${v===s.id?"selected":""}`,onClick:()=>b(l.id,s),children:[e.jsx("span",{className:"quiz-option-emoji",children:s.emoji}),e.jsx("span",{className:"quiz-option-label",children:s.label})]},s.id))}),a>0&&e.jsx("button",{className:"quiz-back-btn",onClick:()=>d(a-1),children:"‚Üê Back"})]})})}export{k as STORAGE_KEY,I as default};
