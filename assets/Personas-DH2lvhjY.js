import{g as te,a as ue,j as e}from"./index-BPCOxfhb.js";import{a as x}from"./vendor-cytoscape-hdah7_Xt.js";import{p as me}from"./data-courses-Y_tFOtPD.js";import{s as pe,B as he,A as ge,G as ye,b as Y}from"./segmentSearchService-BK14lOI1.js";import{n as ne,m as ie}from"./vendor-firebase-DNc0QRT5.js";import{d as z,a as U}from"./logger-CDyjTpW_.js";import{a as ve,S as V,C as fe}from"./sparkles-BiYYl4ru.js";import{c as p}from"./createLucideIcon-YhyuTmrv.js";import{C as xe}from"./check-eCXpKYRG.js";import"./feedbackService-CFWLT2DQ.js";import"./x-HbUnH9yy.js";const ke=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],we=p("arrow-left",ke);const be=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Ne=p("car",be);const je=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],Ae=p("chart-no-axes-column-increasing",je);const _e=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Me=p("gamepad-2",_e);const Ce=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Se=p("house",Ce);const ze=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Re=p("loader",ze);const Le=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Pe=p("map",Le);const Ge=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ie=p("play",Ge);const Te=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$e=p("refresh-cw",Te);const qe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],J=p("rocket",qe);const Ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Oe=p("target",Ee);const He=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],We=p("trophy",He);const De=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Fe=p("wand-sparkles",De);const Be=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ue=p("wrench",Be);const Ve=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qe=p("zap",Ve);function Ye(){return me.personas}function K(m){return m?{animator_alex:["âœ¨ No more waiting for renders - see results in real-time!","ðŸŽ¬ Your Maya/Blender skills transfer directly","ðŸŽ­ Focus on the art, not the tech"],architect_amy:["ðŸ›ï¸ Photorealistic quality in real-time","ðŸ“ Walk clients through designs interactively","ðŸŽ¨ Materials that match your specifications"],gamedev_gary:["ðŸŽ® Industry-standard for AAA and indie games","âš¡ Blueprint visual scripting - no C++ required to start","ðŸŒ Deploy to PC, console, and mobile"],simulation_sam:["ðŸ”§ Connect real-world data to digital twins","ðŸ“Š Enterprise-grade accuracy and compliance","ðŸŽ¯ Training simulations that save lives"],vfx_victor:["âœ¨ Real-time preview of complex effects","ðŸŽ¬ Integrates with your existing pipeline","ðŸ”¥ Niagara gives you Houdini-level control"],automotive_andy:["ðŸš— Material accuracy to physical specifications","ðŸ’¡ Studio lighting setups made easy","âš™ï¸ Real-time configurators for showrooms"]}[m.id]||[]:[]}async function Q(m){try{const c=te(),j=ne(c);await ie(j,"logTelemetry")({type:"onboarding_rag",...m}),z("[OnboardingTelemetry] Logged:",m.outcome,m)}catch(c){U("[OnboardingTelemetry] Failed to log:",c.message)}}const B="idle",X="planning",Z="searching",ee="assembling",ae="done",se="error";function Je(){const[m,c]=x.useState(B),[j,l]=x.useState(null),[$,v]=x.useState(null),R=x.useCallback(async q=>{c(X),l(null),v(null);const f=te(),D=ne(f),h=ie(D,"queryLearningPath"),L=Date.now();try{z("[OnboardingRAG] Step 1 â€” Calling Planner CF...");const u=(await h({persona:q,mode:"onboarding",onboardingStep:"plan"})).data;if(!u?.success)throw new Error(u?.error||"Planner failed");const{searchQueries:P=[],archetype:G="unknown"}=u;z("[OnboardingRAG] Planner returned:",{searchQueries:P,archetype:G}),c(Z),z("[OnboardingRAG] Step 2 â€” Running local segment search...");let b=[];for(const A of P.slice(0,5))try{const a=(await pe(A,null,[],4)).map(n=>({videoTitle:n.videoTitle||n.courseTitle||"Unknown",courseCode:n.courseCode||"unknown",videoId:n.videoKey||n.videoId||"",timestamp:n.timestamp||"0:00",text:n.topSegments?.[0]?.preview||n.text||""}));b.push(...a)}catch(_){U(`[OnboardingRAG] Search failed for "${A}":`,_.message)}const I=new Set;b=b.filter(A=>{const _=`${A.courseCode}::${A.videoId}`;return I.has(_)?!1:(I.add(_),!0)}),z(`[OnboardingRAG] Retrieved ${b.length} unique passages`),c(ee),z("[OnboardingRAG] Step 3 â€” Calling Assembler CF...");const N=(await h({persona:q,mode:"onboarding",onboardingStep:"assemble",archetype:G,passages:b.slice(0,15)})).data;if(!N?.success)throw new Error(N?.error||"Assembler failed");return z("[OnboardingRAG] Curriculum ready:",N.curriculum?.title),Q({outcome:"rag_success",archetype:G,passagesFound:b.length,modulesReturned:(N.curriculum?.modules||[]).length,searchQueries:P.length,pipelineDurationMs:Date.now()-L}),l(N),c(ae),N}catch(w){return U("[OnboardingRAG] Pipeline error:",w.message),Q({outcome:"rag_fallback",errorMessage:w.message||"Unknown error",pipelineDurationMs:Date.now()-L}),v(w.message||"Something went wrong"),c(se),null}},[]),W=x.useCallback(()=>{c(B),l(null),v(null)},[]);return{generateRAGPath:R,resetRAG:W,ragState:m,ragResult:j,ragError:$,RAG_STATES:{IDLE:B,PLANNING:X,SEARCHING:Z,ASSEMBLING:ee,DONE:ae,ERROR:se}}}const y=[{id:"industry",question:"What industry are you coming from?",options:[{value:"animation",label:"Animation / Film",icon:ve,persona:"animator_alex"},{value:"architecture",label:"Architecture / ArchViz",icon:Se,persona:"architect_amy"},{value:"games",label:"Game Development",icon:Me,persona:"gamedev_gary"},{value:"vfx",label:"VFX / Compositing",icon:Fe,persona:"vfx_victor"},{value:"automotive",label:"Automotive / Product Viz",icon:Ne,persona:"automotive_andy"},{value:"other",label:"Industrial / Simulation / Other",icon:Ue,persona:"simulation_sam"}]},{id:"experience",question:"What's your experience with 3D software?",options:[{value:"none",label:"Brand new to 3D",icon:V},{value:"some",label:"Used Maya, Blender, or similar",icon:()=>e.jsx("div",{className:"icon-placeholder",children:"â—"})},{value:"experienced",label:"Professional 3D artist/developer",icon:()=>e.jsx("div",{className:"icon-placeholder",children:"â—â—"})}]},{id:"goal",question:"What do you want to achieve in your first 10 hours?",options:[{value:"explore",label:"Just explore and understand UE5",icon:Pe},{value:"project",label:"Start a specific project",icon:Oe},{value:"skill",label:"Learn a specific skill (lighting, animation, etc.)",icon:he}]}];function ca(){const{courses:m}=ue(),[c,j]=x.useState(0),[l,$]=x.useState({industry:null,experience:null,goal:null}),[v,R]=x.useState(null),{generateRAGPath:W,resetRAG:q,ragState:f,ragError:D,RAG_STATES:h}=Je(),L=[h.PLANNING,h.SEARCHING,h.ASSEMBLING].includes(f),w=x.useMemo(()=>Ye(),[]),u=x.useMemo(()=>{const a=l.industry;if(!a)return null;const n=y[0].options.find(o=>o.value===a);return n?w.find(o=>o.id===n.persona):null},[l.industry,w]),P=()=>{const a=y[0].options.find(d=>d.value===l.industry)?.label||l.industry,n=y[1].options.find(d=>d.value===l.experience)?.label||l.experience,o=y[2].options.find(d=>d.value===l.goal)?.label||l.goal;return`Industry: ${a}. Experience: ${n}. Goal: ${o}.`},G=async()=>{const a=P(),n=await W(a);if(n?.curriculum){const o=(n.curriculum.modules||[]).map((i,O)=>{let s=null;if(i.videoId&&m&&(s=m.find(S=>S.videos?.some(r=>r.drive_id&&(r.title===i.videoId||r.name===i.videoId)))),!s&&m){const S=(i.title||"").toLowerCase().replace(/[^a-z0-9\s]/g,"");s=m.find(r=>{const k=(r.title||r.name||"").toLowerCase().replace(/[^a-z0-9\s]/g,"");return(k.includes(S)||S.includes(k))&&r.videos?.length>0&&r.videos[0]?.drive_id})}const t=s?.duration||45,C=s?Y(s.videos,s.ai_tags):i.description||"";return{...s||{},title:i.title||s?.title||"Untitled",description:i.description||"",videoId:i.videoId||"",timestamp:i.timestamp||0,citation:i.citation||"",order:O+1,duration:t,cumulativeTime:0,quickWin:O<2,milestone:null,learningOutcome:C}});let d=0;for(const i of o)d+=i.duration,i.cumulativeTime=d;const M=o.filter(i=>i.videos?.length>0&&i.videos[0]?.drive_id).length;Q({outcome:"enrichment",modulesEnriched:M,modulesTotal:o.length,archetype:n.archetype||"unknown"}),R({persona:u,courses:o,totalTime:d,messaging:K(u),isRAG:!0,archetype:n.archetype||"unknown"});return}b()},b=()=>{if(!u||!m)return;const o=m.filter(s=>{const t=(s.tags?.level||"").toLowerCase();return t==="beginner"||t===""||t==="general"}).filter(s=>s.videos?.length>0&&s.videos[0]?.drive_id).map(s=>{let t=0;const C=[...Array.isArray(s.ai_tags)?s.ai_tags:[],...Array.isArray(s.canonical_tags)?s.canonical_tags:[]];s.tags?.topic&&C.push(s.tags.topic),s.tags?.industry&&C.push(s.tags.industry);const S=C.map(g=>typeof g=="string"?g.toLowerCase():""),r=(s.title||s.name||"").toLowerCase(),k=`${r} ${S.join(" ")}`;for(const g of u.keywords)r.includes(g.toLowerCase())&&(t+=5),S.some(T=>T.includes(g.toLowerCase()))&&(t+=3);const oe=w.filter(g=>g.id!==u.id);for(const g of oe)for(const T of g.keywords)r.includes(T.toLowerCase())&&(["animation","character","lighting","material","blueprint"].includes(T.toLowerCase())||(t-=8));u.id!=="automotive_andy"&&(k.includes("hmi")||k.includes("automotive")||k.includes("vehicle")||k.includes("car configurator"))&&(t-=15),u.id!=="architect_amy"&&(k.includes("archviz")||k.includes("architectural"))&&(t-=15);const H=(s.tags?.industry||"general").toLowerCase(),F={gamedev_gary:"games",animator_alex:"animation",vfx_victor:"vfx",architect_amy:"architecture",automotive_andy:"automotive",simulation_sam:"simulation"}[u.id]||"general";H!=="general"&&H!==F&&(t-=50),H===F&&H!=="general"&&(t+=15),(r.includes("executive")||r.includes("leadership")||r.includes("management overview"))&&(t-=30);const re=[{match:["legacy production","virtual production","broadcast","live action","compositing","stage operator","icvfx","ndisplay","cinematography","film production","in-camera","on-set"],allowPersonas:["animation","vfx","film","media"]},{match:["for automotive","automotive","vehicle design","configurator","car paint","vred"],allowPersonas:["automotive"]},{match:["archviz","architectural","twinmotion","for architecture","for design","aeco"],allowPersonas:["architecture","design"]},{match:["digital twin","crowd simulation"],allowPersonas:["simulation","enterprise"]},{match:["manufacturing","factory","assembly line"],allowPersonas:["manufacturing","enterprise"]}];for(const g of re)if(g.match.some(de=>r.includes(de))&&!g.allowPersonas.includes(F)){t-=60;break}const le=["multiplayer","networking","dedicated server","optimization","profiling","c++ programming","source control","version control","packaging","deployment"];for(const g of le)k.includes(g)&&(t-=15);s.code?.startsWith("100")&&(t+=40),r.includes("introduction")&&(t+=50),r.includes("intro")&&!r.includes("introduction")&&(t+=40),(r.includes("quickstart")||r.includes("your first"))&&(t+=35),r.includes("getting started")&&(t+=30),r.includes("fundamental")&&t>=0&&(t+=10);const ce=Y(s.videos,s.ai_tags);return{...s,relevanceScore:t,learningOutcome:ce}}).sort((s,t)=>t.relevanceScore-s.relevanceScore),d=new Set,M=o.filter(s=>{const t=(s.title||s.name||"").toLowerCase().replace(/\s+for\s+(games|automotive|aec|architecture|simulation|film).*$/i,"").replace(/[^a-z0-9]/g,"").replace(/\d+$/g,"");return d.has(t)?!1:(d.add(t),!0)}).slice(0,8);let i=0;const O=M.map((s,t)=>{const C=s.duration||45;return i+=C,{...s,order:t+1,cumulativeTime:i,milestone:i>=120&&i<180?"2hr":i>=300&&i<360?"5hr":i>=600?"10hr":null,quickWin:t<2}});R({persona:u,courses:O,totalTime:i,messaging:K(u)})},[I,E]=x.useState(null),N=(a,n)=>{$(o=>({...o,[a]:n})),c<y.length-1&&j(o=>o+1)},A=()=>{j(0),$({industry:null,experience:null,goal:null}),R(null),q()},_=l.industry&&l.experience&&l.goal;return e.jsxs("div",{className:"personas-page",children:[e.jsxs("header",{className:"personas-header",children:[e.jsxs("h1",{children:[e.jsx(J,{size:24,className:"icon-inline"})," New to UE5? Let's Get You Started"]}),e.jsx("p",{className:"personas-subtitle",children:"Answer 3 quick questions and we'll create your personalized first 10-hour learning path"})]}),L?e.jsx("section",{className:"quiz-section rag-loading",children:e.jsxs("div",{className:"rag-loader",children:[e.jsx(Re,{size:40,className:"spin-icon"}),e.jsxs("h2",{children:[f===h.PLANNING&&"Analyzing your profile...",f===h.SEARCHING&&"Searching course library...",f===h.ASSEMBLING&&"Building your curriculum..."]}),e.jsxs("p",{className:"rag-loader-sub",children:[f===h.PLANNING&&"Our AI is understanding your learning goals",f===h.SEARCHING&&"Finding the most relevant video segments",f===h.ASSEMBLING&&"Crafting a personalized learning path"]}),e.jsx("div",{className:"rag-progress-bar",children:e.jsx("div",{className:"rag-progress-fill",style:{width:f===h.PLANNING?"33%":f===h.SEARCHING?"66%":"90%"}})})]})}):v?I?e.jsx("div",{className:"guided-player-breakout",children:e.jsx(ye,{courses:[I],problemSummary:`New to UE5 â€” ${y[0].options.find(a=>a.value===l.industry)?.label||"General"}, ${y[1].options.find(a=>a.value===l.experience)?.label||""}, wants to ${y[2].options.find(a=>a.value===l.goal)?.label||"explore"}`,pathSummary:{path_summary:`A personalized learning path for ${v.persona.name}. This path covers foundational UE5 skills tailored to your background, starting with the essentials and building toward hands-on projects.`,topics_covered:v.courses.map(a=>a.title||a.name)},onComplete:()=>E(null),onExit:()=>E(null)})}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"generated-path",children:[e.jsxs("div",{className:"path-header",children:[e.jsx("span",{className:"path-icon",children:e.jsx(J,{size:40})}),e.jsxs("div",{children:[e.jsx("h2",{children:"Your Personalized 10-Hour Path"}),e.jsxs("p",{children:["Optimized for ",v.persona.name]})]}),e.jsxs("button",{className:"reset-btn",onClick:A,children:[e.jsx($e,{size:16})," Start Over"]})]}),e.jsx("div",{className:"motivation-messages",children:v.messaging.map((a,n)=>e.jsx("div",{className:"motivation-card",children:a},n))}),e.jsx("div",{className:"path-courses",children:v.courses.map((a,n)=>e.jsxs("div",{className:`path-course ${a.quickWin?"quick-win":""}`,children:[a.milestone&&e.jsxs("div",{className:"milestone-marker",children:[e.jsx(We,{size:12,className:"icon-inline-small"})," ",a.milestone," ","Milestone!"]}),e.jsx("div",{className:"course-order",children:a.order}),e.jsxs("div",{className:"course-info",children:[e.jsx("h3",{title:(a.title||a.name||"").replace(/_/g," "),children:(()=>{let o=(a.title||a.name||"").replace(/_/g," ");const d=o.split(/\s+/),M=d[0],i=d.length>2?`${d[0]} ${d[1]}`:"";return i&&o.indexOf(i,i.length)>0?o=o.substring(i.length).trim():d.length>2&&o.toLowerCase().indexOf(M.toLowerCase(),M.length)>0&&(o=o.substring(M.length).trim()),o=o.replace(/^(\w+)\s+\1\b/i,"$1"),o.length>45?`${o.substring(0,45)}...`:o})()}),e.jsxs("div",{className:"course-meta",children:[e.jsxs("span",{children:[e.jsx(fe,{size:12})," ",a.duration||45," min"]}),e.jsxs("span",{children:[e.jsx(Ae,{size:12})," ",Math.round(a.cumulativeTime/60*10)/10,"hr total"]}),a.quickWin&&e.jsxs("span",{className:"quick-win-badge",children:[e.jsx(Qe,{size:10})," Quick Win"]})]}),a.learningOutcome&&e.jsx("p",{className:"course-why",children:a.learningOutcome}),a.videos?.length>0&&a.videos[0]?.drive_id&&e.jsxs("button",{className:"course-watch-btn",onClick:()=>E(a),children:[e.jsx(Ie,{size:14})," Watch Course"]})]})]},a.code||n))}),e.jsx("div",{className:"path-summary",children:e.jsxs("p",{children:["Total time:"," ",e.jsxs("strong",{children:[Math.round(v.totalTime/60*10)/10," hours"]})]})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"quiz-progress",children:y.map((a,n)=>e.jsx("div",{className:`progress-step ${n<=c?"active":""} ${l[a.id]?"completed":""}`,children:l[a.id]?e.jsx(xe,{size:16}):n+1},a.id))}),D&&e.jsx("div",{className:"rag-error-banner",children:"âš ï¸ AI personalization unavailable â€” using local recommendations instead."}),e.jsxs("section",{className:"quiz-section",children:[e.jsx("h2",{children:y[c].question}),e.jsx("div",{className:"quiz-options",children:y[c].options.map(a=>{const n=a.icon||V;return e.jsxs("button",{className:`quiz-option ${l[y[c].id]===a.value?"selected":""}`,onClick:()=>N(y[c].id,a.value),children:[e.jsx("span",{className:"option-icon-wrapper",children:e.jsx(n,{size:18})}),e.jsx("span",{className:"option-label",children:a.label})]},a.value)})}),e.jsxs("div",{className:"quiz-nav",children:[c>0&&e.jsxs("button",{className:"quiz-back",onClick:()=>j(a=>a-1),children:[e.jsx(we,{size:16})," Back"]}),_&&e.jsxs("button",{className:"quiz-generate",onClick:G,disabled:L,children:["Generate My Path ",e.jsx(ge,{size:16})]})]})]}),u&&e.jsxs("div",{className:"persona-preview",children:[e.jsx("span",{className:"preview-icon",children:e.jsx(V,{size:32})}),e.jsxs("div",{className:"preview-text",children:[e.jsx("strong",{children:u.name}),e.jsx("p",{children:u.description})]})]})]})]})}export{ca as default};
