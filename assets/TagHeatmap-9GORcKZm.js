import{a as p,j as s}from"./index-Dh3eRpJs.js";import{a as g}from"./vendor-cytoscape-hdah7_Xt.js";import"./vendor-firebase-BQvzIQYL.js";import"./data-courses-aYLqO-5R.js";function f(){const{tags:d,courses:h}=p(),c=g.useMemo(()=>{const a=new Map;d.forEach(e=>{const r=e.id.split(".")[0]||"other";a.has(r)||a.set(r,[]),a.get(r).push({id:e.id,label:e.label,count:e.count||0})});const t=Array.from(a.entries()).map(([e,r])=>({name:e,displayName:e.charAt(0).toUpperCase()+e.slice(1),tags:r.sort((n,m)=>m.count-n.count).slice(0,8)})).filter(e=>e.tags.length>0).sort((e,r)=>{const n=e.tags.reduce((i,o)=>i+o.count,0);return r.tags.reduce((i,o)=>i+o.count,0)-n}).slice(0,6),l=Math.max(...t.flatMap(e=>e.tags.map(r=>r.count)),1);return{categories:t,maxCount:l,totalCourses:h.length}},[d,h]),u=(a,t)=>{if(a===0)return"rgba(33, 38, 45, 0.8)";const l=a/t;return l<.2?"rgba(88, 166, 255, 0.2)":l<.4?"rgba(88, 166, 255, 0.4)":l<.6?"rgba(88, 166, 255, 0.6)":l<.8?"rgba(88, 166, 255, 0.8)":"rgba(88, 166, 255, 1)"};return s.jsxs("div",{className:"tag-heatmap",children:[s.jsxs("div",{className:"heatmap-header",children:[s.jsxs("h3",{children:["ðŸ·ï¸ Tag Usage Heatmap",s.jsxs("span",{className:"info-tooltip",children:["â“˜",s.jsxs("span",{className:"tooltip-content",children:[s.jsx("strong",{children:"What this shows:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Tags grouped by category"}),s.jsx("li",{children:"Darker cells = more courses use that tag"}),s.jsx("li",{children:"Sorted by popularity within each category"})]}),s.jsx("strong",{children:"How to use:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Identify your most-used tags"}),s.jsx("li",{children:"Spot underutilized categories"})]})]})]})]}),s.jsx("p",{className:"heatmap-hint",children:"Darker = more courses with this tag"})]}),s.jsx("div",{className:"tag-heatmap-grid",children:c.categories.map(a=>s.jsxs("div",{className:"category-row",children:[s.jsx("div",{className:"category-label",children:a.displayName}),s.jsx("div",{className:"tag-cells",children:a.tags.map(t=>s.jsxs("div",{className:"tag-cell",style:{backgroundColor:u(t.count,c.maxCount)},title:`${t.label}: ${t.count} courses`,children:[s.jsx("span",{className:"tag-name",children:t.label}),s.jsx("span",{className:"tag-count",children:t.count})]},t.id))})]},a.name))}),s.jsxs("div",{className:"heatmap-legend",children:[s.jsx("span",{className:"legend-label",children:"0"}),s.jsx("div",{className:"legend-gradient"}),s.jsxs("span",{className:"legend-label",children:[c.maxCount,"+"]})]})]})}export{f as default};
