import{a as u,j as s}from"./index-CZ1bYuqj.js";import{a as x}from"./vendor-cytoscape-hdah7_Xt.js";import"./vendor-firebase-BQvzIQYL.js";import"./data-courses-aYLqO-5R.js";function v(){const{courses:o}=u(),t=x.useMemo(()=>[{label:"< 15 min",min:0,max:15},{label:"15-30 min",min:15,max:30},{label:"30-60 min",min:30,max:60},{label:"1-2 hours",min:60,max:120},{label:"2+ hours",min:120,max:1/0}].map(r=>{const n=o.filter(e=>{const i=e.duration_minutes||30;return i>=r.min&&i<r.max}),c=new Map;n.forEach(e=>{[...e.gemini_system_tags||[],...e.ai_tags||[]].forEach(m=>{c.set(m,(c.get(m)||0)+1)})});const d=[...c.entries()].sort((e,i)=>i[1]-e[1]).slice(0,5).map(([e,i])=>({tag:e,count:i}));return{...r,courseCount:n.length,topTags:d,avgDuration:n.length>0?Math.round(n.reduce((e,i)=>e+(i.duration_minutes||0),0)/n.length):0}}),[o]),h=Math.max(...t.map(a=>a.courseCount),1);return s.jsxs("div",{className:"tag-timeline",children:[s.jsxs("div",{className:"timeline-header",children:[s.jsxs("h3",{children:["⏱️ Tag Distribution by Duration",s.jsxs("span",{className:"info-tooltip",children:["ⓘ",s.jsxs("span",{className:"tooltip-content",children:[s.jsx("strong",{children:"What this shows:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Bar height = number of courses"}),s.jsx("li",{children:"Grouped by course duration"}),s.jsx("li",{children:"Top tags shown for each duration range"})]}),s.jsx("strong",{children:"How to use:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"See which topics suit quick tutorials vs deep dives"}),s.jsx("li",{children:"Identify content length patterns"})]})]})]})]}),s.jsx("p",{className:"timeline-hint",children:"Which topics are covered in short vs long courses"})]}),s.jsx("div",{className:"timeline-chart",children:t.map(a=>s.jsxs("div",{className:"timeline-column",children:[s.jsx("div",{className:"column-bar-container",children:s.jsx("div",{className:"column-bar",style:{height:`${a.courseCount/h*100}%`},children:s.jsx("span",{className:"bar-count",children:a.courseCount})})}),s.jsx("div",{className:"column-label",children:a.label}),s.jsx("div",{className:"column-tags",children:a.topTags.slice(0,3).map(({tag:l})=>s.jsx("span",{className:"mini-tag",children:l},l))})]},a.label))}),s.jsxs("div",{className:"timeline-insights",children:[s.jsxs("div",{className:"insight-item",children:[s.jsx("span",{className:"insight-label",children:"Quick learns (<15m):"}),s.jsx("span",{className:"insight-value",children:t[0]?.topTags[0]?.tag||"N/A"})]}),s.jsxs("div",{className:"insight-item",children:[s.jsx("span",{className:"insight-label",children:"Deep dives (2h+):"}),s.jsx("span",{className:"insight-value",children:t[4]?.topTags[0]?.tag||"N/A"})]})]})]})}export{v as default};
