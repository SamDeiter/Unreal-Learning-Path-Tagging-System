WEBVTT

1
00:00:00.000 --> 00:00:04.840
To change path tracer settings, we have a couple of options.

2
00:00:04.840 --> 00:00:08.040
We can adjust the parameters through a post-processing volume,

3
00:00:08.040 --> 00:00:10.080
as well as through CVars.

4
00:00:10.080 --> 00:00:14.560
To start, we're going to drop a post-processing volume in our scene and

5
00:00:14.560 --> 00:00:18.200
break down the common parameters you'll likely change for your project.

6
00:00:18.200 --> 00:00:21.520
So inside the project, I have duplicated our level, and

7
00:00:21.520 --> 00:00:27.560
I've simply just disabled path tracer, and I've disabled the post-processing volume.

8
00:00:27.560 --> 00:00:29.920
So before we turn on path tracer, let's go ahead and

9
00:00:29.920 --> 00:00:35.560
go over to our Place Actors tab and search for a post-processing volume.

10
00:00:35.560 --> 00:00:39.440
I'll drag that into our scene, and I'm gonna make a couple quick changes so

11
00:00:39.440 --> 00:00:42.240
we can see the effect of the post-processing volume.

12
00:00:43.280 --> 00:00:46.120
So in the Details panel, I'm gonna scroll down, and

13
00:00:46.120 --> 00:00:49.680
I'm going to look for infinite extent unbound.

14
00:00:49.680 --> 00:00:53.760
Simply check that, and then we're gonna go back to the top, and

15
00:00:53.800 --> 00:00:59.040
I'm going to look for our exposure and check my Exposure Compensation and

16
00:00:59.040 --> 00:01:00.840
my Min and Max EV.

17
00:01:00.840 --> 00:01:03.200
Now in this case, I just want to clamp it,

18
00:01:03.200 --> 00:01:06.720
although the default results are probably fine.

19
00:01:06.720 --> 00:01:11.480
If you find that the exposure is ramping up and down too much, we can set our Min

20
00:01:11.480 --> 00:01:16.120
and Max EV to something like zero, and then adjust our Exposure Compensation.

21
00:01:16.120 --> 00:01:17.600
And I'm gonna go ahead and just do that now.

22
00:01:19.200 --> 00:01:22.080
So set these to zero, and then our Exposure Compensation,

23
00:01:22.080 --> 00:01:24.720
we can drag it down to something that works.

24
00:01:24.720 --> 00:01:26.800
I will go negative six.

25
00:01:28.560 --> 00:01:32.320
All right, and then to activate our path tracing,

26
00:01:32.320 --> 00:01:36.120
we're gonna go up to our Lit and simply hit Path Tracing.

27
00:01:36.120 --> 00:01:38.760
And you'll see that these samples will start calculating, and

28
00:01:38.760 --> 00:01:41.280
we will see our reflections and refractions and

29
00:01:41.280 --> 00:01:44.760
shadows update as soon as the calculations are done.

30
00:01:44.760 --> 00:01:48.120
So we'll let this run, I'll time lapse this real fast, and then we'll come back.

31
00:01:48.120 --> 00:01:56.080
Perfect, now Path Tracer has calculated the scene from the camera perspective.

32
00:01:56.080 --> 00:01:59.880
Of course, if we move our camera, it is going to recalculate the scene for us.

33
00:02:01.320 --> 00:02:04.320
Let's jump over to our post-processing volume that we just added, and

34
00:02:04.320 --> 00:02:08.280
I'm going to scroll down within the post-processing actor.

35
00:02:08.280 --> 00:02:11.000
Now there are several things that I encourage you to play with.

36
00:02:11.000 --> 00:02:16.600
So for example, bloom, some of like traumatic aberration, lens exposure.

37
00:02:16.600 --> 00:02:20.480
You can even color correct your scene, your shadows, your midtones,

38
00:02:20.480 --> 00:02:22.960
your highlights, whatever you decide.

39
00:02:22.960 --> 00:02:28.000
However, for this particular section, what I wanna cover are some of

40
00:02:28.000 --> 00:02:32.120
the features of path tracing that we can control directly through our

41
00:02:32.120 --> 00:02:33.320
post-processing volume.

42
00:02:34.640 --> 00:02:37.480
So towards the bottom here, we have a path tracing section, and

43
00:02:37.480 --> 00:02:41.840
you'll see that there are several different parameters that we can adjust.

44
00:02:41.840 --> 00:02:44.480
Now to adjust these and override the defaults,

45
00:02:44.520 --> 00:02:49.040
simply check the box and change the values within your little scrubber here.

46
00:02:49.040 --> 00:02:52.320
Of course, you can click and type in whatever you would like, and

47
00:02:52.320 --> 00:02:53.600
these settings will take effect.

48
00:02:54.920 --> 00:02:57.560
Now I wanna take just a quick side step and

49
00:02:57.560 --> 00:03:03.240
talk about balancing our editor performance and our final visual output.

50
00:03:03.240 --> 00:03:04.120
So if we take a look at our scene,

51
00:03:04.120 --> 00:03:07.720
we have our post-processing volume that's included in the startup map.

52
00:03:07.720 --> 00:03:11.160
And you'll notice that under the path tracing settings,

53
00:03:11.200 --> 00:03:14.000
we have various different properties that are checked and

54
00:03:14.000 --> 00:03:17.320
those values are either changed or just set at the default.

55
00:03:18.680 --> 00:03:22.160
The key thing here being that within our editor,

56
00:03:22.160 --> 00:03:25.120
we can have our post-processing volume.

57
00:03:25.120 --> 00:03:28.920
We can set these parameters to something that's lower and more performant.

58
00:03:28.920 --> 00:03:31.680
So our scene updates faster and

59
00:03:31.680 --> 00:03:36.280
we're spending less iteration cycles waiting for the engine to update.

60
00:03:36.280 --> 00:03:39.680
Of course, this is great for real-time performance, but

61
00:03:39.680 --> 00:03:42.440
it's not ideal for our final output, right?

62
00:03:42.440 --> 00:03:47.960
We wanna bump up our settings to 11 and get the very best visuals that we can.

63
00:03:47.960 --> 00:03:48.800
So I'm gonna show you real quick.

64
00:03:48.800 --> 00:03:53.360
So if we go up to Window, Cinematics, Movie Render Queue,

65
00:03:53.360 --> 00:03:58.200
I've just simply loaded a sequence that's included in the project into this.

66
00:03:58.200 --> 00:04:01.080
And then under Settings, I've made a few changes, and

67
00:04:01.080 --> 00:04:03.160
that's what I wanna highlight right now.

68
00:04:03.160 --> 00:04:08.840
So if I just click the Settings here, the key parts that we're going to hit

69
00:04:08.880 --> 00:04:12.160
are the anti-aliasing and console variables.

70
00:04:12.160 --> 00:04:15.440
Obviously, we'll have path tracing enabled because that's what we're working with.

71
00:04:16.880 --> 00:04:21.600
Underneath anti-aliasing, I would highly recommend for spatial and

72
00:04:21.600 --> 00:04:25.560
temporal sample counts, setting those both to 10.

73
00:04:25.560 --> 00:04:30.080
Now, obviously, this is a deeper topic and subject than we're gonna cover in this one.

74
00:04:30.080 --> 00:04:34.200
But by setting both your spatial and temporal sample counts to 10,

75
00:04:34.200 --> 00:04:40.120
you should get a very good output, but also not take forever to render the scene.

76
00:04:40.120 --> 00:04:44.360
And then finally, you'll get a warning if you don't check Override Anti-Aliasing,

77
00:04:44.360 --> 00:04:47.480
because we are now specifying different properties,

78
00:04:47.480 --> 00:04:49.440
different parameters than the defaults.

79
00:04:49.440 --> 00:04:51.720
So we have to check Override Anti-Aliasing.

80
00:04:52.880 --> 00:04:55.200
All right, now on to console variables.

81
00:04:55.200 --> 00:04:59.120
Now, this is a great setting that you can add just by clicking the setting, and

82
00:04:59.120 --> 00:05:02.640
it would be up here in the top section where we say console variables, but

83
00:05:02.640 --> 00:05:05.080
because we've added it, it doesn't show in this list.

84
00:05:06.280 --> 00:05:10.680
And what we have the ability to do in Movie Render Queue is by specifying some

85
00:05:10.680 --> 00:05:14.920
of these console variables, we can overwrite whatever is in our engine

86
00:05:14.920 --> 00:05:18.360
during the export process from Movie Render Queue.

87
00:05:18.360 --> 00:05:23.880
So for example, max bounces or max samples per pixel,

88
00:05:23.880 --> 00:05:26.920
if we really crank those up pretty high, it's gonna take a long time for

89
00:05:26.920 --> 00:05:28.280
our scene to render.

90
00:05:28.280 --> 00:05:33.040
So in Movie Render Queue, I can specify those console variables,

91
00:05:33.040 --> 00:05:39.600
which you can see here, r.pathTracing.samplesPerPixel, I've set it to 2048.

92
00:05:39.600 --> 00:05:44.040
Now I can do the same thing with our max bounces, right?

93
00:05:44.040 --> 00:05:47.440
So r.pathTracing.maxBounces, and bump it up to 64.

94
00:05:48.720 --> 00:05:51.200
I'll show you real quick just how you add a console variable.

95
00:05:51.200 --> 00:05:53.160
So by default, this is rolled up.

96
00:05:53.160 --> 00:05:56.360
We click a little plus, and you'll see that it adds another line.

97
00:05:56.360 --> 00:06:00.320
And I could do something like r.pathTracing, and

98
00:06:00.320 --> 00:06:06.440
let's just say that I want to enable denoiser, and that should be .denoiser.

99
00:06:06.440 --> 00:06:09.120
And if you're unsure what the value is,

100
00:06:09.120 --> 00:06:12.640
you can highlight over the actual console variable, and

101
00:06:12.640 --> 00:06:14.880
it should give you a contextual pop-up.

102
00:06:14.880 --> 00:06:18.360
So in this case, 0 is disabled, 1 is enabled.

103
00:06:18.360 --> 00:06:24.400
So for example, if in my post-processing volume, the denoiser was deactivated,

104
00:06:24.440 --> 00:06:26.880
I can simply set this to 1.

105
00:06:26.880 --> 00:06:30.600
And then now, when I render my movie render queue,

106
00:06:30.600 --> 00:06:36.000
it's going to override those properties of our post-processing volume.

107
00:06:36.000 --> 00:06:39.400
So this is a great way to be able to balance your performance,

108
00:06:39.400 --> 00:06:42.560
which will be your post-processing volume.

109
00:06:42.560 --> 00:06:46.800
So to balance the performance of your editor with bumping up your high visual

110
00:06:46.800 --> 00:06:50.840
qualities without having to go and manually set these each and every time.

111
00:06:50.840 --> 00:06:53.680
So once this is done, you can actually click this little drop down,

112
00:06:53.720 --> 00:06:56.280
save as a preset, accept.

113
00:06:56.280 --> 00:06:59.840
So now, when you load up your sequences for movie render queue,

114
00:06:59.840 --> 00:07:03.600
you can simply select your preset, and you're good to go.

115
00:07:04.880 --> 00:07:08.840
Now one other quick note is the reference atmosphere parameter within

116
00:07:08.840 --> 00:07:12.320
the path tracing rollup within our post-processing volume.

117
00:07:12.320 --> 00:07:15.280
When this property is checked and enabled,

118
00:07:15.280 --> 00:07:18.640
it will allow path tracing within the atmosphere,

119
00:07:18.640 --> 00:07:22.200
instead of baking the sky atmosphere contributions from the skylight.

120
00:07:22.200 --> 00:07:27.880
So any skylight in your scene when this property is checked will be ignored.

121
00:07:27.880 --> 00:07:34.000
Now something to take note of here is that we have available to us

122
00:07:34.000 --> 00:07:36.600
these lighting components.

123
00:07:36.600 --> 00:07:38.880
Now checking the box will allow or

124
00:07:38.880 --> 00:07:41.800
disable the pass when calculated by path tracer.

125
00:07:41.800 --> 00:07:47.000
So for example, if we disabled the indirect specular,

126
00:07:47.000 --> 00:07:51.680
you'll notice now in our scene that all of the indirect specular contributions

127
00:07:51.680 --> 00:07:54.040
are no longer being processed by path tracer.

128
00:07:54.040 --> 00:07:59.120
Of course, if we want to re-enable it, we can check this box or simply uncheck,

129
00:07:59.120 --> 00:08:03.000
and now those indirect specular calculations will be processed.

130
00:08:06.000 --> 00:08:11.200
Now something else to take note of here is while we have these components or

131
00:08:11.200 --> 00:08:15.040
these settings that we can change within our post-processing volume,

132
00:08:15.040 --> 00:08:18.640
there are some advantages to using CVARS.

133
00:08:18.640 --> 00:08:23.000
Some of those primary advantages lie in the ability to isolate and

134
00:08:23.000 --> 00:08:27.120
output the results of each of our paths within Movie Render Queue.

135
00:08:28.240 --> 00:08:28.960
So just keep that in mind.

136
00:08:30.400 --> 00:08:34.560
All right, now something else to keep as a pro tip is when you're using

137
00:08:34.560 --> 00:08:39.520
emissive materials in your scene, it may be necessary to disable this

138
00:08:39.520 --> 00:08:43.040
emissive pass to prevent double lighting calculations.

139
00:08:43.040 --> 00:08:46.360
So again, that's gonna be in our post-processing volume under our path

140
00:08:46.360 --> 00:08:47.360
tracing.

141
00:08:47.360 --> 00:08:51.400
Simply check emissive and then uncheck if you are experiencing some of those

142
00:08:51.400 --> 00:08:53.160
double lighting calculations.

143
00:08:54.440 --> 00:08:58.640
Now in previous versions of Unreal Engine, path tracer did have some issues

144
00:08:58.640 --> 00:09:01.320
with translucency and depth of field.

145
00:09:02.360 --> 00:09:08.440
In 5.6, we remedied most of these problems by enabling the reference depth of field

146
00:09:08.440 --> 00:09:13.520
property within the path tracing settings of our post-processing volumes.

147
00:09:13.520 --> 00:09:16.880
In the next section, we're gonna jump into modifying some of our material

148
00:09:16.880 --> 00:09:18.880
features to work with path tracer.
