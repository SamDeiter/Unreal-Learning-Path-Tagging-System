WEBVTT

1
00:00:00.000 --> 00:00:15.000
Once the changes to the neutral pose have been saved to the DNA file, in order to bring those changes back into Unreal Engine, the head LODs will need to be exported as FBX files.

2
00:00:15.000 --> 00:00:23.000
In this section, we will go over how to use the export FBX script from the examples folder to achieve this.

3
00:00:23.000 --> 00:00:28.000
Let's return back to Maya and go through the steps.

4
00:00:28.000 --> 00:00:36.000
In a new Maya scene, I have pasted the export FBX script in a new Python window.

5
00:00:36.000 --> 00:00:52.000
Now, if we wish to use the modified DNA we generated from the previous section, in the DNA calibration folder, inside of the output folder, we will need to copy the modified DNA file.

6
00:00:52.000 --> 00:01:00.000
Then, go over to the data folder and place this in the DNA files folder.

7
00:01:00.000 --> 00:01:12.000
For this example, I will be using the DNA file named linafinal that was generated for the preset lina from the UnrealFest calibration script.

8
00:01:12.000 --> 00:01:21.000
You can locate this DNA file in the source files folder of our course in the folder named linaunrealfest.

9
00:01:21.000 --> 00:01:33.000
Now, the export FBX script will need a prepared body skeleton Maya file, which should be placed in the body folder inside of the data folder.

10
00:01:33.000 --> 00:01:40.000
The body folder will automatically come with two prepared body files for Ada and Taro.

11
00:01:40.000 --> 00:01:48.000
Ada uses the female medium normal body weight and the Maya file is named femskeleton.

12
00:01:48.000 --> 00:01:55.000
Taro uses the male medium normal body weight and it's named mask-skeleton.

13
00:01:55.000 --> 00:02:03.000
If your character uses either of these proportions, you can use these files instead of having to prepare one.

14
00:02:03.000 --> 00:02:13.000
I have taken the prepared skeleton from the UnrealFest zip folder named lina-skeleton and have placed it in this folder.

15
00:02:13.000 --> 00:02:19.000
This is for the female short underweight body proportion without the arms and the legs.

16
00:02:19.000 --> 00:02:27.000
With the assets we will be using for this script in the data folder, let's configure the paths for this script.

17
00:02:27.000 --> 00:02:39.000
In the script editor, on line 36, set the path of the root directory to point to the location of the DNA calibration folder

18
00:02:39.000 --> 00:02:43.000
and replace a backward slash with a forward slash.

19
00:02:43.000 --> 00:02:49.000
On line 45, add the name of the DNA file that will be used.

20
00:02:49.000 --> 00:02:55.000
On line 58, configure the path of the body Maya file.

21
00:02:55.000 --> 00:02:58.000
This is already directed to the body folder.

22
00:02:58.000 --> 00:03:03.000
All you need to do is change this to the name of your body Maya file.

23
00:03:03.000 --> 00:03:12.000
This script will create an output folder if one does not already exist and will place the exported fbx files in there.

24
00:03:12.000 --> 00:03:21.000
With everything configured, select this entire script and execute it.

25
00:03:21.000 --> 00:03:29.000
This will take some time to finish, so once it is done we will continue.

26
00:03:30.000 --> 00:03:44.000
Now that the process has finished, inside of this Maya scene, we will see the last head LOD that an fbx has been created for, which is LOD 7.

27
00:03:44.000 --> 00:03:49.000
Now let's review the steps we just covered before we move on.

28
00:03:49.000 --> 00:03:57.000
Once we are finished making adjustments to the metahuman neutral pose and have saved the changes to the DNA file,

29
00:03:57.000 --> 00:04:09.000
the next step is to export the head LODs as fbx in order to bring those assets along with the updated DNA file back into Unreal Engine.

30
00:04:09.000 --> 00:04:16.000
To do this, we can use the export fbx script that can be found in the examples folder.

31
00:04:16.000 --> 00:04:29.000
First, ensure you copy the modified DNA file that is added to the output folder after using the propagate changes from scene to DNA script and paste it in the DNA files folder.

32
00:04:29.000 --> 00:04:33.000
In Maya, paste the script in a new Python window.

33
00:04:33.000 --> 00:04:36.000
The next step will be to configure the paths.

34
00:04:36.000 --> 00:04:44.000
We will need to configure the path for the root directory so that it points to the DNA calibration folder.

35
00:04:44.000 --> 00:04:49.000
And just remember to replace the backward slash with the forward slash.

36
00:04:49.000 --> 00:04:56.000
On line 45, the character name should have the name of the DNA file that will be used.

37
00:04:56.000 --> 00:05:01.000
On line 58, assign the path to the prepared body Maya file.

38
00:05:01.000 --> 00:05:10.000
As mentioned, the feminine and masculine skeletons in the body folder are for the medium normal body weight proportions.

39
00:05:10.000 --> 00:05:14.000
Next, select the entire script and execute it.

40
00:05:14.000 --> 00:05:25.000
This process will take a bit of time and once it is complete, all of the head LOD fbx files will be added to the output folder.

41
00:05:25.000 --> 00:05:33.000
The final step is to assign material placeholders to the head geometry assets for each head LOD.

42
00:05:33.000 --> 00:05:38.000
So, let's return to Maya and go over this.

43
00:05:38.000 --> 00:05:46.000
Back inside of Maya, in the File Explorer output folder, we can see all of the LODs that were exported.

44
00:05:46.000 --> 00:05:52.000
In this new Maya scene, I have added the head LOD 0 fbx.

45
00:05:52.000 --> 00:06:00.000
Something to note is that this script does not create material placeholders for each of the head geometry assets.

46
00:06:00.000 --> 00:06:08.000
When using the script, we will need to create new material placeholders for each of the head geometry assets

47
00:06:08.000 --> 00:06:14.000
and use the same naming convention these assets have assigned inside of Unreal Engine.

48
00:06:14.000 --> 00:06:18.000
I'm going to hide the joints for a moment.

49
00:06:18.000 --> 00:06:27.000
Now, we can manually add a material. Select the head mesh, right click and select Create New Material.

50
00:06:27.000 --> 00:06:35.000
Then repeat this for all of the head geometry assets and for all of the other LOD fbx files.

51
00:06:35.000 --> 00:06:41.000
I have already created a material placeholder for every head geometry asset for this example,

52
00:06:41.000 --> 00:06:47.000
so that as I go through each one, you can see the naming convention for each of these.

53
00:06:47.000 --> 00:07:00.000
The head is named Shader Head Shader. This is the name for the teeth, the saliva, the eye left, the eye right,

54
00:07:00.000 --> 00:07:08.000
the eye shell, the eyelashes, the eye edge and the cartilage.

55
00:07:08.000 --> 00:07:16.000
Since this can be very time consuming, you can write a script to automate the creation, naming and assigning of these shaders.

56
00:07:16.000 --> 00:07:23.000
The Unreal Fest calibration script has commands that you can use that will do this for you.

57
00:07:23.000 --> 00:07:29.000
Now, before we move on, let's do a quick review of what we just covered.

58
00:07:29.000 --> 00:07:38.000
If using the export fbx script, all of the head LODs and their assets will need material placeholders assigned.

59
00:07:38.000 --> 00:07:45.000
Name each of the geometry assets with the same naming convention as they are labeled inside of Unreal Engine.

60
00:07:45.000 --> 00:07:55.000
To do this manually, select the LOD0 head mesh, assign a new material to it and label it Shader Head Shader.

61
00:07:55.000 --> 00:08:03.000
Something to note is that you can write scripts to automate the creation and naming of Lamberts to speed this process up.

62
00:08:03.000 --> 00:08:11.000
Another option is to take the commands from the Unreal Fest calibration script that will create and name materials

63
00:08:11.000 --> 00:08:16.000
for all of the head mesh geometry assets and LODs.

64
00:08:16.000 --> 00:08:24.000
Now that we have gone through the process of using DNA calibration to make simple changes to the metahuman neutral pose

65
00:08:24.000 --> 00:08:30.000
and save those changes to the DNA file and then export the head LODs,

66
00:08:30.000 --> 00:08:36.000
the last step is to bring these assets back into Unreal Engine to finalize the rig.

67
00:08:36.000 --> 00:08:44.000
As mentioned, we will be continuing this workflow in the metahuman DNA calibration and finalization course.

68
00:08:44.000 --> 00:08:52.000
Now let's wrap up this course with some final recommendations and some tips and resources for you to use.

