WEBVTT

1
00:00:00.000 --> 00:00:07.580
In this section, we will go over a simple use case scenario using the Propagate changes

2
00:00:07.580 --> 00:00:14.120
from Scene to DNA script to make some minor modeling adjustments to the neutral head mesh

3
00:00:14.120 --> 00:00:17.199
using the joints and skin clusters.

4
00:00:17.199 --> 00:00:22.519
This approach might be useful if, for instance, you need to reposition the joints around the

5
00:00:22.519 --> 00:00:28.400
neck region to fit the head to a different body, or you simply want to make some minor

6
00:00:28.399 --> 00:00:30.320
modeling changes.

7
00:00:30.320 --> 00:00:35.600
We will assemble the scene for this specific scenario using the DNA viewer run in Maya

8
00:00:35.600 --> 00:00:36.599
script.

9
00:00:36.599 --> 00:00:41.719
Then, we will save the current positions of the vertex and joints.

10
00:00:41.719 --> 00:00:47.359
We will make a simple modeling adjustment using the joints and skin clusters, and then

11
00:00:47.359 --> 00:00:50.840
save those changes to the DNA file.

12
00:00:50.840 --> 00:00:54.840
So let's return to Maya and go through the steps.

13
00:00:54.840 --> 00:01:01.020
Back inside of Maya, we will first assemble the scene using the DNA viewer run in Maya

14
00:01:01.020 --> 00:01:02.520
script.

15
00:01:02.520 --> 00:01:09.000
I will switch to the Python window with the DNA viewer run in Maya script, and then select

16
00:01:09.000 --> 00:01:14.120
everything and execute it.

17
00:01:14.120 --> 00:01:20.400
In the DNA viewer window, assign the path to the DNA file.

18
00:01:20.400 --> 00:01:29.880
In the DNA files folder, I will select the DNA file named Elina, and then load the DNA.

19
00:01:29.880 --> 00:01:35.800
For this example, I want to assemble all of the LODs and their contents, so I will click

20
00:01:35.800 --> 00:01:38.920
on Select All Meshes.

21
00:01:38.920 --> 00:01:45.280
In the build options for this workflow, we can load the joints, the blend shapes, and

22
00:01:45.280 --> 00:01:47.640
the skin clusters.

23
00:01:47.640 --> 00:01:50.480
And now, I will select Process.

24
00:01:50.480 --> 00:01:55.840
This will create a new scene, so I will discard any changes.

25
00:01:55.840 --> 00:01:58.239
And this may take a moment.

26
00:01:58.239 --> 00:02:05.120
Now that the scene has been assembled, I will minimize this window and go to the top view.

27
00:02:05.120 --> 00:02:11.039
I'm going to go down here to the bottom right, and will hide everything except LOD 0 for

28
00:02:11.039 --> 00:02:12.360
now.

29
00:02:12.360 --> 00:02:17.800
In the script editor, I will switch over to the Python window with the Propagate Changes

30
00:02:17.800 --> 00:02:22.040
script to save the current affairs.

31
00:02:22.040 --> 00:02:25.340
In the Outliner, select the head group.

32
00:02:25.340 --> 00:02:32.480
And then in the script editor, I will scroll past all this code and select everything all

33
00:02:32.480 --> 00:02:36.040
the way to the end of step 3.

34
00:02:36.040 --> 00:02:40.600
With this selected, I'm going to execute this.

35
00:02:40.599 --> 00:02:44.680
As a best practice, save this Maya scene.

36
00:02:44.680 --> 00:02:50.560
Now let's do a quick review of these steps before we move on.

37
00:02:50.560 --> 00:02:56.280
We begin the workflow of making adjustments using the joints and skin clusters by first

38
00:02:56.280 --> 00:03:01.759
assembling the scene using the DNA viewer run in Maya script.

39
00:03:01.759 --> 00:03:06.240
Load the DNA file located in the DNA files folder.

40
00:03:06.240 --> 00:03:12.640
We will want all the LODs and their contents, so choose Select All Meshes.

41
00:03:12.640 --> 00:03:19.040
In the Build Options, load the joints, blend shapes, and skin clusters, and then select

42
00:03:19.040 --> 00:03:21.159
Process.

43
00:03:21.159 --> 00:03:23.960
This will assemble a new Maya scene.

44
00:03:23.960 --> 00:03:28.760
Next, we will want to save the current affairs.

45
00:03:28.760 --> 00:03:33.480
For this step, we want to save the current vertex and joint positions.

46
00:03:33.479 --> 00:03:39.199
To do this, in the script editor, with the Python tab that has the entire script pasted

47
00:03:39.199 --> 00:03:46.280
in there, select the head group in the Outliner, and then run the entire script up to the end

48
00:03:46.280 --> 00:03:52.120
of step 3, which reads Loaded Data, End of Third Step.

49
00:03:52.120 --> 00:03:56.120
As a best practice, save this Maya scene.

50
00:03:56.120 --> 00:03:59.959
Now let's return to Maya and continue with the steps.

51
00:03:59.960 --> 00:04:06.120
Back inside of Maya, with everything saved, we can now make some modeling changes using

52
00:04:06.120 --> 00:04:09.240
the joints and skin clusters.

53
00:04:09.240 --> 00:04:15.240
Something to note is that if you have loaded the DNA file with RigLogic enabled, you will

54
00:04:15.240 --> 00:04:21.759
need to break the connections before you make any changes using the joints and skin clusters.

55
00:04:21.759 --> 00:04:26.939
Otherwise, you can go directly into making simple modeling changes.

56
00:04:26.939 --> 00:04:37.040
If RigLogic is enabled, to break the connections, select Spine 4, then go to Select, and select

57
00:04:37.040 --> 00:04:38.980
Hierarchy.

58
00:04:38.980 --> 00:04:47.019
Go over here to the Transforms, select All the Transforms, and right-click and select

59
00:04:47.019 --> 00:04:49.699
Break Connections.

60
00:04:49.699 --> 00:04:54.620
We do not need to do this, but I am mentioning this in the event you have assembled the full

61
00:04:54.620 --> 00:04:56.339
Rig.

62
00:04:56.339 --> 00:05:02.219
Now what's great about this particular workflow is that by moving the joints and skin clusters,

63
00:05:02.219 --> 00:05:05.899
those changes will influence the other LODs.

64
00:05:05.899 --> 00:05:09.779
I will switch this to Translate.

65
00:05:09.779 --> 00:05:16.859
And over here on the head, I'm going to select this group over here on the nose and adjust

66
00:05:16.859 --> 00:05:20.099
the nostril area.

67
00:05:20.100 --> 00:05:26.379
I will repeat this for the other side.

68
00:05:26.379 --> 00:05:32.939
Now this can be especially helpful if perhaps we need to fit the head to a custom body.

69
00:05:32.939 --> 00:05:39.980
We can move the joints in order to align them with the custom metahuman body skeleton.

70
00:05:39.980 --> 00:05:46.300
Another benefit is that these changes are passed down to the lower LODs.

71
00:05:46.300 --> 00:05:52.699
In the Display panel, if I toggle through the lower LODs, the changes that were made

72
00:05:52.699 --> 00:06:00.699
to LOD 0 will be visible for all of these without having to wrap anything.

73
00:06:00.699 --> 00:06:06.639
Now let's do a quick review of what we just covered before we move on.

74
00:06:06.639 --> 00:06:13.500
To make modeling changes using the joints and skin clusters, if RigLogic is enabled

75
00:06:13.500 --> 00:06:19.819
and a full Rig has been assembled, first break the connections, otherwise you can go directly

76
00:06:19.819 --> 00:06:22.519
into making modeling changes.

77
00:06:22.519 --> 00:06:30.660
To break the connections, select Spine 4, go to Select and select Hierarchy.

78
00:06:30.660 --> 00:06:36.259
Select all the transforms, right click and select Break Connections.

79
00:06:36.259 --> 00:06:41.660
You can then use the joints and skin clusters to make modeling changes.

80
00:06:41.660 --> 00:06:48.220
The benefits of this workflow is that changes to the joints influence all the LODs so that

81
00:06:48.220 --> 00:06:51.100
there is no need to wrap LODs.

82
00:06:51.100 --> 00:06:57.020
This can also be helpful if you need to align the head skeleton with the custom metahuman

83
00:06:57.020 --> 00:06:59.060
body skeleton.

84
00:06:59.060 --> 00:07:04.020
Once you are finished making adjustments, the next step is to save these changes to

85
00:07:04.020 --> 00:07:05.900
the DNA.

86
00:07:05.900 --> 00:07:10.100
So let's return to Maya and continue.

87
00:07:10.100 --> 00:07:16.300
Back inside of Maya, we are finished making adjustments and now want to save these changes

88
00:07:16.300 --> 00:07:18.460
to the DNA file.

89
00:07:18.460 --> 00:07:26.580
To do this, select the head group, then in the script editor, go down here and select

90
00:07:26.580 --> 00:07:31.860
Step 5 and execute this.

91
00:07:31.860 --> 00:07:37.860
This will save the changes to the DNA file and a new DNA file will be added to the output

92
00:07:37.860 --> 00:07:41.020
folder that the script creates.

93
00:07:41.020 --> 00:07:46.460
A new Maya scene will be assembled so that we can inspect the results.

94
00:07:46.460 --> 00:07:53.540
In this new Maya scene, I will go to the top view.

95
00:07:53.540 --> 00:07:59.699
We can see that the changes we made to the clavicle have been saved and the changes to

96
00:07:59.699 --> 00:08:02.939
the nose region are present.

97
00:08:02.939 --> 00:08:09.379
And these changes have also been applied to the lower LODs.

98
00:08:09.379 --> 00:08:15.339
And this is how we can use the Propagate Changes script to make changes using the joints and

99
00:08:15.339 --> 00:08:17.819
skin clusters.

100
00:08:17.819 --> 00:08:24.180
Now let's do a quick review of the steps we just covered before moving on.

101
00:08:24.180 --> 00:08:30.139
Once finished making changes using the joints and skin clusters to save the new vertex and

102
00:08:30.139 --> 00:08:37.220
joint positions, and update the DNA, select the head group and then run the script from

103
00:08:37.220 --> 00:08:41.580
the fifth step that reads Propagate Changes to DNA.

104
00:08:41.580 --> 00:08:48.100
These changes will be saved to a new DNA file in the output folder and a new Maya scene

105
00:08:48.100 --> 00:08:52.939
will be assembled so that we can view the updated DNA.

106
00:08:52.939 --> 00:08:58.860
In the next section, we will go over how we can export the head LODs of our modified

107
00:08:58.860 --> 00:09:04.139
DNA with the Export FBX script from the Examples folder.

