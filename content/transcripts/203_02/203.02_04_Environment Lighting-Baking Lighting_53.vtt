WEBVTT

1
00:00:00.000 --> 00:00:03.160
In this lesson, we're going to focus on environment lighting when it comes to

2
00:00:03.160 --> 00:00:07.000
baked lighting. There will be a few tips and tricks when it comes to using your

3
00:00:07.000 --> 00:00:11.520
lights and they can still be associated with Lumen. So feel free to stick along

4
00:00:11.520 --> 00:00:15.520
for the ride and check out what we're talking about. So let's get started.

5
00:00:16.520 --> 00:00:20.520
So the initial setup, again, you always want to make sure you take into account

6
00:00:20.520 --> 00:00:25.520
your scalability for your scene, whether you're going to use epic or cinematic

7
00:00:26.040 --> 00:00:31.040
in your settings. You also want to make sure, again, high precision normals are

8
00:00:31.040 --> 00:00:35.040
on. And some of these settings are already on when it comes to Lumen. But when it

9
00:00:35.040 --> 00:00:39.040
comes to a bake scenario, you do need to double check and make sure that things

10
00:00:39.040 --> 00:00:43.040
are set accordingly. You also want to make sure your reflection captures are

11
00:00:43.040 --> 00:00:47.040
high enough to give you the best, highest visual fidelity. If you're using ray

12
00:00:47.040 --> 00:00:50.040
tracing, this also benefits ray tracing.

13
00:00:50.560 --> 00:00:55.560
So in the initial setup, you always also want to look at your lighting quality.

14
00:00:55.560 --> 00:00:59.560
When you start baking, are you doing production? Are you doing high, medium or

15
00:00:59.560 --> 00:01:02.560
preview? Let me show you where those are found.

16
00:01:03.560 --> 00:01:07.560
You can find that setting under build here and we'll see a lighting quality.

17
00:01:07.560 --> 00:01:11.560
Right now, currently I'm in preview. But if I really want to get the highest

18
00:01:11.560 --> 00:01:15.560
reflection quality and bounces, I want to make sure I'm production. So I'm going to

19
00:01:15.560 --> 00:01:18.560
set that to production and I'm going to go ahead and run the build together.

20
00:01:19.080 --> 00:01:24.080
Now we're getting exactly what we need and want out of our bake here at the

21
00:01:24.080 --> 00:01:30.080
highest quality. It's really important for such things as a light mass portal

22
00:01:30.080 --> 00:01:33.080
that you want to be able to be on production. Otherwise, you won't get

23
00:01:33.080 --> 00:01:36.080
exactly what you want. Now, if you're unfamiliar with light mass portals, they

24
00:01:36.080 --> 00:01:41.080
can be placed in a room right where the window or the opening of a door area is

25
00:01:41.080 --> 00:01:44.080
located. So you can see that there's a lot of light mass portals.

26
00:01:44.600 --> 00:01:49.600
So there's a bit more believability between the dark regions and the light

27
00:01:49.600 --> 00:01:54.600
regions. It's kind of like a priority area to make sure that your GI is

28
00:01:54.600 --> 00:01:58.600
working correctly for those two changes. You also want to make sure you always

29
00:01:58.600 --> 00:02:02.600
have a light mass importance volume in your scene. This is really critical when

30
00:02:02.600 --> 00:02:08.600
it comes to light mass global illumination when it comes to using GI bakes,

31
00:02:09.120 --> 00:02:15.120
I should say. So now GPU bakes, GPU bakes are really important to consider

32
00:02:15.120 --> 00:02:19.120
putting this in there. And the reason why is becomes a priority area for how

33
00:02:19.120 --> 00:02:24.120
things are going to be baked and working with your moving characters.

34
00:02:25.120 --> 00:02:31.120
Now, when it comes to regular light mass importance volume in a CPU bake

35
00:02:31.120 --> 00:02:34.120
scenario, you still want it in there because you don't want to bake

36
00:02:34.120 --> 00:02:37.120
necessarily on everything. You want to make sure that you're not going to

37
00:02:37.640 --> 00:02:40.640
bake necessarily on everything. You want a priority area that's honoring your

38
00:02:40.640 --> 00:02:44.640
light mass settings. Really important to consider this, especially if you're

39
00:02:44.640 --> 00:02:48.640
working with terrain. That way Unreal is not working harder than it needs to.

40
00:02:50.640 --> 00:02:57.640
Let's go back to the slides. Under each light that is set to stationary,

41
00:02:57.640 --> 00:03:02.640
you want to make sure you set things to use area shadows for stationary light.

42
00:03:02.640 --> 00:03:06.640
This is really important. Let's talk briefly about the mobility and then

43
00:03:07.160 --> 00:03:13.160
go back to the slides again. Now again, this is specifically for baked lighting

44
00:03:13.160 --> 00:03:18.160
scenarios, but I just want to point this out just in case it wasn't clear in

45
00:03:18.160 --> 00:03:21.160
past classes. I'm going to click on my light source here.

46
00:03:21.160 --> 00:03:24.160
If we scroll up just a little bit details, we'll see that there's static

47
00:03:24.160 --> 00:03:30.160
mobility, stationary, and movable. Unreal gives you a nice brief breakdown when

48
00:03:30.160 --> 00:03:34.160
you float over it. Static is the cheapest and this is again for baked lighting,

49
00:03:34.680 --> 00:03:39.680
for objects that do not move. You can have as many as your computer can

50
00:03:39.680 --> 00:03:45.180
support. We also have stationary. Now stationary can change color and

51
00:03:45.180 --> 00:03:50.180
intensity, but then only be for overlapping at a time because you're

52
00:03:50.180 --> 00:03:54.180
calculating a bounce within a bounce. You're having these lights interact with

53
00:03:54.180 --> 00:03:57.180
each other and you're getting like double bounces if they overlap.

54
00:03:57.180 --> 00:04:01.180
So only four can be supported at a time. We'll talk about this later on.

55
00:04:01.200 --> 00:04:04.200
So just keep that in mind. This is not supported with Lumen,

56
00:04:04.200 --> 00:04:11.200
nor is static. Lumen supports movable and with movable, the Lumen settings

57
00:04:11.200 --> 00:04:17.200
as well as the mesh distance field set in our project settings and our virtual

58
00:04:17.200 --> 00:04:20.200
shadow maps are all supported using this particular light type.

59
00:04:20.200 --> 00:04:25.200
But baking is going to be shadow maps. And as you can see in our project

60
00:04:25.220 --> 00:04:36.220
settings, and we go to rendering, we'll scroll down just a bit and you'll see

61
00:04:36.220 --> 00:04:41.220
shadow maps is supported. Also in this case, screen space is supported

62
00:04:41.220 --> 00:04:45.220
for our dynamic global illumination, which helps support any bakes that we

63
00:04:45.220 --> 00:04:49.220
create. You can also set none and set it later within your post-process

64
00:04:49.240 --> 00:04:56.240
volume. Let's go back to the slides. So when baking your shadows,

65
00:04:56.240 --> 00:05:00.240
you're going to be creating a thing called a shadow or light map.

66
00:05:00.240 --> 00:05:05.240
That light map is baked within the objects, especially if they're static

67
00:05:05.240 --> 00:05:10.240
onto the existing geometry around them. It will create a self shadowing

68
00:05:10.240 --> 00:05:15.240
type of cover of shadow. You can think of it as almost an ambient occlusion

69
00:05:15.260 --> 00:05:20.260
in your texture on an object, but it's baked directly into a thing called

70
00:05:20.260 --> 00:05:24.260
that shadow map. Now, if you need to increase that resolution,

71
00:05:24.260 --> 00:05:29.260
it's best to go into the geometry of that object and use a thing called

72
00:05:29.260 --> 00:05:33.260
override light map resolution. That's going to be the most helpful,

73
00:05:33.260 --> 00:05:36.260
especially for your hero objects. And you want to set it to the

74
00:05:36.260 --> 00:05:40.260
appropriate resolution. Now, if that object is intersecting with other

75
00:05:40.260 --> 00:05:43.260
objects, you need to consider what that resolution is going to be.

76
00:05:43.280 --> 00:05:48.280
We dive in that a little bit later, but what I mean by that is the

77
00:05:48.280 --> 00:05:51.280
resolutions need to be somewhat in the same ballpark, or you run the

78
00:05:51.280 --> 00:05:53.280
risk of getting some blobby shadows.

79
00:05:56.280 --> 00:06:00.280
So working with lights in detail, the reason why you want to turn on

80
00:06:00.280 --> 00:06:04.280
that area shadow map setting, which was mentioned before, that area light

81
00:06:04.280 --> 00:06:09.280
shadow gives you a nice, believable, more of a blurred shadow in your

82
00:06:09.300 --> 00:06:13.300
environment and can soften things out. So it's a little bit more mirroring

83
00:06:13.300 --> 00:06:17.300
what happens in the real world. If you don't, you may get some edgy

84
00:06:17.300 --> 00:06:21.300
shadows. It may not quite be what you want, but you can push this even

85
00:06:21.300 --> 00:06:25.300
further within the light. In the light, you can create a thing called a

86
00:06:25.300 --> 00:06:29.300
source angle under light mass settings. This can be very helpful to

87
00:06:29.300 --> 00:06:34.300
keep things soft. You can also mess with your light source angle in

88
00:06:34.320 --> 00:06:37.320
general. And let me show you where those are at.

89
00:06:40.320 --> 00:06:43.320
Now, some of these topics were covered in other classes and will still

90
00:06:43.320 --> 00:06:47.320
hold true. And what I mean by that is the source angle when you're

91
00:06:47.320 --> 00:06:51.320
working with lumen will soften your shadows just great. But if we're in a

92
00:06:51.320 --> 00:06:54.320
baking scenario and you're not getting the softness that you're looking

93
00:06:54.320 --> 00:06:58.320
for so much with source angle, you can actually go down. And this is what

94
00:06:58.320 --> 00:07:03.320
I meant. You can actually go down underneath your light source angle

95
00:07:03.340 --> 00:07:08.340
and you can soften it up here to get even a better or a softer edge for

96
00:07:08.340 --> 00:07:12.340
your shadows. And again, this is for a baking scenario.

97
00:07:14.340 --> 00:07:17.340
When you create a directional light, you can also tell it to affect your

98
00:07:17.340 --> 00:07:21.340
atmosphere or not. That's really up to you how you want that to be

99
00:07:21.340 --> 00:07:25.340
included. Now, when real, if you have more than one directional light

100
00:07:25.340 --> 00:07:30.340
specifically when it comes to lumen, it will actually ask you for forward

101
00:07:30.360 --> 00:07:35.360
shading priority, basically which light you want to influence the atmosphere

102
00:07:35.360 --> 00:07:39.360
or the other. And it will give you a prompt for that. So just look out for

103
00:07:39.360 --> 00:07:42.360
that. If you're using lumen and you bring in two directional lights.

104
00:07:44.360 --> 00:07:49.360
So working with lighting in detail, you can see here that with that

105
00:07:49.360 --> 00:07:53.360
ability to be able to tell it to affect your atmosphere, you can control a

106
00:07:53.360 --> 00:07:57.360
few things such as cast shadows on clouds, whether it's going to be

107
00:07:57.380 --> 00:08:02.380
atmospheric sunlight enabled. You can control the atmosphere sunlight index,

108
00:08:04.380 --> 00:08:08.380
the cast shadows on the atmosphere, the cast cloud shadows and cloud

109
00:08:08.380 --> 00:08:13.380
scattering luminance scale. All these things are really helpful if you

110
00:08:13.380 --> 00:08:16.380
need to edit things after the fact, after you bring things in.

111
00:08:19.380 --> 00:08:24.380
So lights also have the ability for you to isolate them for influence via

112
00:08:24.400 --> 00:08:27.400
channels. Let me demonstrate that briefly and then we'll get back to the

113
00:08:27.400 --> 00:08:28.400
slides again.

114
00:08:30.400 --> 00:08:35.400
See with this particular light, we want to control exactly his influence on

115
00:08:35.400 --> 00:08:39.400
the environment. So to be able to do that again, like I said, you can use

116
00:08:39.400 --> 00:08:43.400
the thing called channels. So I can type in and look for channels or you can

117
00:08:43.400 --> 00:08:46.400
search in under advanced and you can find the channels for this object.

118
00:08:47.400 --> 00:08:51.400
You can see it here or for this light. And the same thing there. The objects

119
00:08:51.420 --> 00:08:55.420
also have channels too. So if I typed in channels here, you'll see that there

120
00:08:55.420 --> 00:08:59.420
is make sure you get the right piece of geometry. There we go. We'll just

121
00:08:59.420 --> 00:09:02.420
pick up this guy because he's bigger. This one's a clump and combination of

122
00:09:02.420 --> 00:09:08.420
objects. So you can see here we have channels also active. So let's go to

123
00:09:08.420 --> 00:09:11.420
that spotlight for a moment and we're going to tell it to not affect the

124
00:09:11.420 --> 00:09:18.420
world, but to affect maybe channel one. And then I can go to the object next

125
00:09:18.440 --> 00:09:24.440
to it and I can say he's not affected by the world, but also channel one. So

126
00:09:24.440 --> 00:09:31.440
when I move him near the other light or the spotlight, we are now getting them

127
00:09:31.440 --> 00:09:35.440
both to interact with each other. And you can see that they're not affected

128
00:09:35.440 --> 00:09:39.440
by the lights around that around him, but he is affected by this one because

129
00:09:39.440 --> 00:09:44.440
they're both on the same channel. So that actually works with limit two as

130
00:09:44.460 --> 00:09:50.460
well as baking. So working with lights in detail, we demonstrated this in some

131
00:09:50.460 --> 00:09:54.460
of the other classes where we can actually are in our first class. We can

132
00:09:54.460 --> 00:09:58.460
actually change the shape of this light and you can do that several different

133
00:09:58.460 --> 00:10:04.460
ways. So each light has the ability to be able to change the same the shape as

134
00:10:04.460 --> 00:10:09.460
well as the influence on reflective surfaces. You'll see a thing called soft

135
00:10:09.480 --> 00:10:15.480
source radius. So the soft source radius allows you to blur out any shapes that

136
00:10:15.480 --> 00:10:20.480
may come in, particularly with this point light. So we'll talk about this in just

137
00:10:20.480 --> 00:10:23.480
a second, just a quick review because we did talk about this already and a quick

138
00:10:23.480 --> 00:10:27.480
review when it comes to rec lights, because rec lights are pretty handy with

139
00:10:27.480 --> 00:10:34.480
that. So in our scene, if I bring in just a simple point light in here, we have

140
00:10:34.480 --> 00:10:37.480
several different things that we can choose from. And when it comes to this,

141
00:10:37.500 --> 00:10:44.500
we can actually control our source radius. This can soften a bit of our shadows.

142
00:10:44.500 --> 00:10:47.500
Now you got to be careful when it comes to baking. This can actually get

143
00:10:47.500 --> 00:10:52.500
pixelated in your environment and it can a little bit too with lumen, but mostly

144
00:10:52.500 --> 00:10:56.500
here when it comes to baking. So just keep that in mind. If you change those

145
00:10:56.500 --> 00:11:02.500
things, we also have source soft source radius, which I just mentioned earlier,

146
00:11:02.500 --> 00:11:06.500
which will make it so that any reflectivity in the shape, say there's a

147
00:11:06.520 --> 00:11:09.520
circular hot spot that's showing up somewhere. I don't really have shiny

148
00:11:09.520 --> 00:11:13.520
objects here that we actually can soften that up. And we probably can see it if

149
00:11:13.520 --> 00:11:18.520
we bring it over here to this space probe. Let's see if it's going to show up

150
00:11:18.520 --> 00:11:27.520
here. He's not too reflective, but he is a little bit. So that soft source radius,

151
00:11:27.520 --> 00:11:32.520
we can, you can see it shift a little bit. If you look, the highlights become

152
00:11:32.540 --> 00:11:37.540
less sharp. The lower it's sharper, the higher it's softer. So you can actually

153
00:11:37.540 --> 00:11:42.540
mask or hide that hot spot coming in the reflectivity. And then we also have

154
00:11:42.540 --> 00:11:45.540
source length. And we talked about this before in another class. You can make

155
00:11:45.540 --> 00:11:53.540
some tube lighting. You'll notice if we brought in a spotlight into our scene,

156
00:11:53.540 --> 00:11:57.540
the spotlight will give us the ability to be able to go in here and work like a

157
00:11:57.540 --> 00:12:01.540
typical spotlight. We can control your cone angle, outer cone angle, your

158
00:12:01.560 --> 00:12:06.560
inner cone angle. So you get kind of the typical stuff to be able to mess with.

159
00:12:06.560 --> 00:12:11.560
Now your source radius again, you can soften up your shadows as you mess with

160
00:12:11.560 --> 00:12:15.560
this, but be careful not to push things too far. Rec light again is one of my

161
00:12:15.560 --> 00:12:19.560
favorite ones to work with because he has full control when it comes to working

162
00:12:19.560 --> 00:12:26.560
with the, the source width and the source heights and the barn door angle. Now be

163
00:12:26.560 --> 00:12:30.560
careful with this too, because he is the most expensive, but he is fantastic for

164
00:12:30.580 --> 00:12:34.580
fill light information that you're bringing into your scene. It's really

165
00:12:34.580 --> 00:12:39.580
great to work with. You can also bring in a source texture if you need to, but we

166
00:12:39.580 --> 00:12:44.580
currently don't have it where you can hide that shape. So hopefully later on

167
00:12:44.580 --> 00:12:48.580
we'll be able to evolve in that area. There is a thing called sun in sky. So I'm

168
00:12:48.580 --> 00:12:53.580
going to briefly demonstrate this for a second. I'm going to do a new level for a

169
00:12:53.580 --> 00:12:58.580
second here and we'll just do empty level. Now I'm not going to go through all

170
00:12:58.600 --> 00:13:03.600
the steps with this, but I want to show you what this can do. Your sun in sky,

171
00:13:04.600 --> 00:13:09.600
when you bring it in, it gives you immediately a quick lit area, but with the

172
00:13:09.600 --> 00:13:14.600
ability to have a compass in this compass, you can control longitude, latitude,

173
00:13:14.600 --> 00:13:19.600
longitude in time zone, which is really nice if you need that really quickly. You

174
00:13:19.600 --> 00:13:23.600
still want to add a few more things like you could easily just go in here and say,

175
00:13:23.600 --> 00:13:26.600
Hey, I'm going to go to my environment light mixer. I want to add volume at your

176
00:13:26.620 --> 00:13:31.620
cloud and hide fog. So you can add a couple more things if you need to. Oh,

177
00:13:31.620 --> 00:13:34.620
that's really blown out, right? So definitely we can adjust the settings here,

178
00:13:34.620 --> 00:13:38.620
but I wanted to show you that you can pair this up with the other tools you have

179
00:13:38.620 --> 00:13:42.620
for your environment. But this compass is fantastic to be able to work with

180
00:13:42.620 --> 00:13:47.620
because that compass allows us to go in here and he got a little blown out. We

181
00:13:47.620 --> 00:13:51.620
couldn't see him anymore. This allows us to go in here and to control some of

182
00:13:51.620 --> 00:13:55.620
these things such as time of day, the year, and et cetera. Pretty cool.

183
00:13:56.620 --> 00:14:00.620
I do want to mention also with the spotlight, let's pull that spotlight in for a

184
00:14:00.620 --> 00:14:06.620
second. I'm going to pull this up. This spotlight also can connect and you'll

185
00:14:06.620 --> 00:14:09.620
notice is if you scroll down, if you're curious enough, you may have spotted

186
00:14:09.620 --> 00:14:16.620
this. There is an IES profile you can put in here for light profiles. You can put

187
00:14:16.620 --> 00:14:21.620
in an IES texture I should say. And in here we can choose what kind of IES

188
00:14:21.620 --> 00:14:25.620
texture we want. And this actually is used quite a bit for architectural

189
00:14:25.640 --> 00:14:29.640
purposes. But let me boost up the light here so you can see there's a lot of

190
00:14:29.640 --> 00:14:33.640
light in here. So it's kind of blowing things out. But you can see the different

191
00:14:33.640 --> 00:14:38.640
types of shapes you can get out of this, which is pretty cool. So we can do like

192
00:14:38.640 --> 00:14:42.640
90 degrees. We can do it. You can attach this in a game scenario. You can make

193
00:14:42.640 --> 00:14:47.640
this go to like a flashlight or spotlight. Maybe you're looking for someone

194
00:14:47.640 --> 00:14:51.640
and you can really see it here with this particular one. You kind of that

195
00:14:51.660 --> 00:14:55.660
spotlight flashlight kind of look how the lights passing through the glass of

196
00:14:55.660 --> 00:15:00.660
that particular light set up here. And it's pretty cool. So you can add those

197
00:15:00.660 --> 00:15:04.660
which can be pretty helpful. And you can use this also with Lumen too, as well as

198
00:15:04.660 --> 00:15:09.660
in a bake scenario. Now when you're using baking, you do want to make sure that

199
00:15:09.660 --> 00:15:14.660
you're using an ambient occlusion set up here. And this allows you to be able to

200
00:15:14.660 --> 00:15:18.660
add it in your project. So you can actually have it in there. And it's kind

201
00:15:18.680 --> 00:15:23.680
of our almost like a screen space ambient occlusion in our scene and makes things

202
00:15:23.680 --> 00:15:27.680
a little bit easier for you to work with. Now you don't want to turn that you don't

203
00:15:27.680 --> 00:15:32.680
want to have that on for your static lighting, especially when it comes to

204
00:15:32.680 --> 00:15:37.680
Lumen. But in a baking scenario, it's a good idea to play with that, tweak it and

205
00:15:37.680 --> 00:15:41.680
put it on. And you can also have it within your post process volume as a little

206
00:15:41.680 --> 00:15:47.680
help for pushing your visuals. Well, that's it for this one. And the next one

207
00:15:47.700 --> 00:15:51.700
In the next class, we're going to talk about light mass and light maps and a bit

208
00:15:51.700 --> 00:15:54.700
more detail. We did cover it a little bit here, but we're going to get a little bit

209
00:15:54.700 --> 00:15:58.700
more detailed. And then we're going to move on to some other really cool topics.
