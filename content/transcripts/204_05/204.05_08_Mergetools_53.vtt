WEBVTT

1
00:00:00.000 --> 00:00:06.299
In this lesson, we're going to take a look at the tools for merging geometry in Unreal.

2
00:00:06.299 --> 00:00:08.599
So let's get started.

3
00:00:08.599 --> 00:00:11.400
You'll see here there are several options to choose from.

4
00:00:11.400 --> 00:00:16.039
Now, I'll go through in Unreal and show you how to work with this, etc.

5
00:00:16.039 --> 00:00:19.879
It's pretty straightforward, but I'm first going to walk you through some of the different

6
00:00:19.879 --> 00:00:20.879
options you have.

7
00:00:20.879 --> 00:00:22.960
Now, they have an option for merge.

8
00:00:22.960 --> 00:00:25.240
This merges and simplifies a mesh.

9
00:00:25.239 --> 00:00:32.079
It merges materials and it banks details into normal map and each proxy LOD is one draw

10
00:00:32.079 --> 00:00:33.079
call.

11
00:00:33.079 --> 00:00:37.799
So what it does, it allows you to have not multiple draw calls on multiple pieces, but

12
00:00:37.799 --> 00:00:45.519
makes one draw call as it combines the mesh into one piece, which is actually pretty convenient.

13
00:00:45.519 --> 00:00:49.759
You'll notice here though in the menu settings that material is grayed out.

14
00:00:49.759 --> 00:00:53.959
This actually makes a hybrid material, especially if you have two different materials already

15
00:00:53.960 --> 00:00:57.359
existing and you combine those objects.

16
00:00:57.359 --> 00:01:02.320
Now be careful when doing that if you decide to use this merge option, because if you have

17
00:01:02.320 --> 00:01:08.439
multiple pieces with multiple different materials, it can be a little rough.

18
00:01:08.439 --> 00:01:12.560
And when you decide to migrate this particular object, the material may not come along for

19
00:01:12.560 --> 00:01:17.480
the ride and may require to be reconnected and rebuilt.

20
00:01:17.480 --> 00:01:19.319
So that's a disadvantage with this.

21
00:01:19.319 --> 00:01:23.520
So when you do use the merge tool, make sure it's just a couple of different materials

22
00:01:23.560 --> 00:01:29.879
and not five or 10 different ones, because that's where things can get a little bit rough.

23
00:01:29.879 --> 00:01:33.039
The next option we have is simplify.

24
00:01:33.039 --> 00:01:35.879
This merges and simplifies the mesh also.

25
00:01:35.879 --> 00:01:39.599
It merges materials, but you can control resolution.

26
00:01:39.599 --> 00:01:45.079
So it tries to give you a nice resolution control so you can dumb it down as you need.

27
00:01:45.079 --> 00:01:50.399
And it bakes details into the normal map and each proxy LOD is one draw call.

28
00:01:50.399 --> 00:01:52.920
So that one's pretty beneficial.

29
00:01:52.960 --> 00:01:55.280
There's also the old school batch method.

30
00:01:55.280 --> 00:01:57.280
Now this one isn't used as much.

31
00:01:57.280 --> 00:02:03.159
It tries to create like a nice instance reference for the combined object, which really isn't

32
00:02:03.159 --> 00:02:04.159
needed.

33
00:02:04.159 --> 00:02:05.359
This one I don't use so much.

34
00:02:05.359 --> 00:02:13.800
It is a older reference tool, but we do have today a new way to be able to merge such

35
00:02:13.800 --> 00:02:19.039
complicated meshes as a nanite and that's using approximate.

36
00:02:19.039 --> 00:02:20.599
Proximate works really well.

37
00:02:20.599 --> 00:02:26.599
It allows you to grab these higher visual fidelity, higher poly counted objects and

38
00:02:26.599 --> 00:02:29.759
merge them with a little bit of better ease.

39
00:02:29.759 --> 00:02:32.519
And you'll see there's several different options to choose from.

40
00:02:32.519 --> 00:02:33.519
And we'll talk about these.

41
00:02:33.519 --> 00:02:38.599
So we're going to get ready to jump into Unreal and take a closer look.

42
00:02:38.599 --> 00:02:43.959
But before we do, I want to point out exactly how beneficial these tools are.

43
00:02:43.959 --> 00:02:46.639
You'll see that these objects are merged.

44
00:02:46.639 --> 00:02:47.959
The cliff.

45
00:02:47.959 --> 00:02:49.759
You'll see like there's a pillar.

46
00:02:49.759 --> 00:02:51.000
There's an archway.

47
00:02:51.000 --> 00:02:54.319
That is one draw call because we merge them.

48
00:02:54.319 --> 00:03:00.840
These over here that aren't merged with all the little details is 70 plus draw calls.

49
00:03:00.840 --> 00:03:02.639
That again is a disadvantage.

50
00:03:02.639 --> 00:03:07.919
So we're optimizing when we do this and making it lighter for the scene overall.

51
00:03:07.919 --> 00:03:11.719
Now let's go ahead and jump into Unreal.

52
00:03:11.719 --> 00:03:16.359
We can see in the case of this probe that there's a lot of detail and a lot of individual

53
00:03:16.359 --> 00:03:17.879
parts in here.

54
00:03:17.879 --> 00:03:22.719
Each one of these are a draw call, which could be to our disadvantage, especially if you

55
00:03:22.719 --> 00:03:24.879
want to put a lot in the scene.

56
00:03:24.879 --> 00:03:28.319
We see up here we have one that has already been merged.

57
00:03:28.319 --> 00:03:29.960
And let me hit the F key.

58
00:03:29.960 --> 00:03:36.000
You can actually see a downgrade of the resolution and the geometry silhouette in here.

59
00:03:36.000 --> 00:03:40.039
But it's so far away from the camera, no one is really going to notice.

60
00:03:40.039 --> 00:03:41.519
And that's to our advantage.

61
00:03:41.519 --> 00:03:47.039
And you'll see that there's a hybrid material if you double click on it, which is a combination

62
00:03:47.039 --> 00:03:53.199
of the normal maps and the texture all into one.

63
00:03:53.199 --> 00:03:55.519
So Unreal tries to do that work for you.

64
00:03:55.519 --> 00:03:58.519
So you don't have to worry about that as much.

65
00:03:58.519 --> 00:04:02.399
But you'll notice again, this is for an object in the distance.

66
00:04:02.399 --> 00:04:07.359
You'll see that the silhouette may break down a bit compared to our original down below,

67
00:04:07.359 --> 00:04:12.519
which has a lot more visual fidelity to it and texture resolution.

68
00:04:12.519 --> 00:04:14.239
But that's just one way to merge.

69
00:04:14.239 --> 00:04:16.480
Let's look at them up close.

70
00:04:16.480 --> 00:04:20.000
So go to our tools here, and we're going to go to merge actors.

71
00:04:20.000 --> 00:04:21.520
I'm going to pull that up.

72
00:04:21.520 --> 00:04:24.560
I'm going to pull this over to the side.

73
00:04:24.560 --> 00:04:26.400
Now this is the basic merge.

74
00:04:26.400 --> 00:04:27.640
Here's the settings.

75
00:04:27.640 --> 00:04:30.680
You'll notice again, we don't have any material options.

76
00:04:30.680 --> 00:04:35.160
So we can't control our overall resolution.

77
00:04:35.160 --> 00:04:40.319
You'll see there's a thing called a gutter in Texels to add to each sub chart for our

78
00:04:40.319 --> 00:04:44.040
baked out material for the top of MIP level.

79
00:04:44.040 --> 00:04:45.560
So you can actually choose that.

80
00:04:45.560 --> 00:04:47.879
The default relatively works great.

81
00:04:47.879 --> 00:04:50.399
There's also baked vertex data to the mesh.

82
00:04:50.399 --> 00:04:56.800
So if you did paint some vertices, some vertex information in there, you can actually bake

83
00:04:56.800 --> 00:04:58.360
it to it.

84
00:04:58.360 --> 00:05:02.840
And we also have Nanite settings if you were to work with Nanite on this particular object.

85
00:05:02.840 --> 00:05:06.160
Now this guy hasn't been converted, and we do have that option.

86
00:05:06.160 --> 00:05:11.000
But for really heavier pieces of geometry, I recommend you use approximate.

87
00:05:11.000 --> 00:05:13.279
We'll look at that in just a second.

88
00:05:13.279 --> 00:05:14.920
All right.

89
00:05:14.920 --> 00:05:20.520
So let's go ahead and grab this piece of geometry.

90
00:05:20.520 --> 00:05:25.640
And we're going to pick on this particular one, because I think he's pretty close to

91
00:05:25.640 --> 00:05:30.000
the original.

92
00:05:30.000 --> 00:05:35.160
And we're going to go ahead and find all the pieces to him.

93
00:05:35.160 --> 00:05:37.439
Let's go and do that.

94
00:05:37.439 --> 00:05:43.400
I'm going to Alt Control here, select him, make sure I don't have anything selected in

95
00:05:43.399 --> 00:05:49.039
the background on accident.

96
00:05:49.039 --> 00:05:51.039
There we go.

97
00:05:51.039 --> 00:05:54.560
And we're going to go ahead and run a merge.

98
00:05:54.560 --> 00:05:58.439
Now you can replace the actor if you want to, or pull the actor in.

99
00:05:58.439 --> 00:06:00.699
This is really up to you.

100
00:06:00.699 --> 00:06:05.479
But keep in mind, if you replace it, and it isn't what you want, you may not like that

101
00:06:05.479 --> 00:06:06.879
one very well.

102
00:06:06.879 --> 00:06:11.120
If you decide to pull it in, the pivot may be off, and you'll have to adjust it using

103
00:06:11.120 --> 00:06:15.399
again some of the modeling tools that I showed you, which can be pretty helpful.

104
00:06:15.399 --> 00:06:20.120
In this case, we're going to replace the actor, and we're going to merge actors.

105
00:06:20.120 --> 00:06:22.060
It's going to ask you where to put it.

106
00:06:22.060 --> 00:06:24.759
So just pick a nice little place to put it.

107
00:06:24.759 --> 00:06:32.759
In our case, we can just simply load them into maybe a new folder here that we can just

108
00:06:32.759 --> 00:06:37.639
call class.

109
00:06:37.639 --> 00:06:46.000
And let's make one in class merge.

110
00:06:46.000 --> 00:06:50.079
And open it up and save it there.

111
00:06:50.079 --> 00:06:56.120
Now it's going to run and compress and make a new system honoring, you'll see two different

112
00:06:56.120 --> 00:06:58.240
materials.

113
00:06:58.240 --> 00:07:03.159
Now we didn't have any choice in resolution, but it went and combined, or I shouldn't say

114
00:07:03.159 --> 00:07:04.159
combined.

115
00:07:04.160 --> 00:07:05.160
My bad.

116
00:07:05.160 --> 00:07:10.480
It went, it goes and honors the materials, and it makes two different sets in here for

117
00:07:10.480 --> 00:07:12.320
us to look at.

118
00:07:12.320 --> 00:07:17.120
Now that's actually pretty nice because there's less of a chance maybe of getting some deprecation

119
00:07:17.120 --> 00:07:18.480
going on.

120
00:07:18.480 --> 00:07:24.560
But we now have one particular, we have one object with one single draw call, which is

121
00:07:24.560 --> 00:07:27.240
to our advantage.

122
00:07:27.240 --> 00:07:32.400
But if we were going to go over here and say we wanted to make it so it isn't two materials

123
00:07:32.399 --> 00:07:37.199
because each one of these are draw calls, we can actually do the next one, which was

124
00:07:37.199 --> 00:07:41.079
the one we ran here with the F key.

125
00:07:41.079 --> 00:07:46.120
And let's open up those emerge tools again.

126
00:07:46.120 --> 00:07:49.439
And we had run simplify.

127
00:07:49.439 --> 00:07:55.479
Now simplify again, we'll take that material, simplify the material as well as combine the

128
00:07:55.479 --> 00:07:58.159
geometry, making one draw call.

129
00:07:58.160 --> 00:08:03.680
Unfortunately, you will get hit on some of your silhouette items here.

130
00:08:03.680 --> 00:08:07.560
There is a light map resolution if you were to use baking so you can actually get that

131
00:08:07.560 --> 00:08:09.080
set up ahead of time.

132
00:08:09.080 --> 00:08:11.200
We're not using that in this particular case.

133
00:08:11.200 --> 00:08:13.640
You will also see a nanite section here.

134
00:08:13.640 --> 00:08:15.160
You'll notice it's not enabled.

135
00:08:15.160 --> 00:08:16.920
So we're okay in that front.

136
00:08:16.920 --> 00:08:21.800
But if I was to have it enabled, I would want to make sure that I control such things as

137
00:08:21.800 --> 00:08:24.840
positioning and normal precision.

138
00:08:24.839 --> 00:08:28.199
You have some of the same nanite control that you have before.

139
00:08:28.199 --> 00:08:30.399
Typically the defaults should be just fine.

140
00:08:30.399 --> 00:08:31.399
It should be okay.

141
00:08:31.399 --> 00:08:34.199
And it will look at that object as is.

142
00:08:34.199 --> 00:08:38.959
But again, for heavier surfaces, if you're going to merge them, I recommend using approximate.

143
00:08:38.959 --> 00:08:42.439
Again, we'll get to that one in just a second.

144
00:08:42.439 --> 00:08:45.559
So in this one, we also have material settings.

145
00:08:45.559 --> 00:08:49.519
Since it's making a hybrid, you might want to control the resolution a little bit.

146
00:08:49.519 --> 00:08:52.639
So you don't run to any problems visually.

147
00:08:52.639 --> 00:08:55.559
So that's important to consider.

148
00:08:55.559 --> 00:09:01.399
So simplify, simplifies your texture with resolution options.

149
00:09:01.399 --> 00:09:07.360
Merge makes a two sets of new materials with no material options.

150
00:09:07.360 --> 00:09:10.600
So tries to honor the original.

151
00:09:10.600 --> 00:09:15.679
But you'll end up getting two draw calls with it or multiple, depending on how many materials

152
00:09:15.679 --> 00:09:16.679
you have.

153
00:09:16.679 --> 00:09:18.179
It tries to honor each one.

154
00:09:18.179 --> 00:09:22.459
So again, like I said before, be careful not to have several different objects with

155
00:09:22.459 --> 00:09:26.459
several different materials, because that complexity can make it a little rough if you

156
00:09:26.459 --> 00:09:29.199
decide to migrate them outside of your scene.

157
00:09:29.199 --> 00:09:35.059
You may even convert your scene from a say 5.3 to 5.4.

158
00:09:35.059 --> 00:09:38.139
And you may notice that your blend material no longer exists.

159
00:09:38.139 --> 00:09:44.939
And that will require another for you to run the merge tools again.

160
00:09:44.939 --> 00:09:46.099
And then we have batch.

161
00:09:46.100 --> 00:09:48.580
Now batch is kind of old school.

162
00:09:48.580 --> 00:09:51.899
It's a tries to create an instance for your object.

163
00:09:51.899 --> 00:09:53.980
This one I do not use much.

164
00:09:53.980 --> 00:09:56.820
It doesn't really, I don't find it necessary.

165
00:09:56.820 --> 00:09:59.980
But we do have approximate, which is the new kid on the block.

166
00:09:59.980 --> 00:10:04.899
Now approximate, again, is made for a higher visual fidelity objects.

167
00:10:04.899 --> 00:10:08.139
You'll notice there is no nanite necessarily.

168
00:10:08.139 --> 00:10:14.180
There's a generate a nanite enabled mesh where to generate it.

169
00:10:14.179 --> 00:10:16.139
But you'll notice the settings are a bit different.

170
00:10:16.139 --> 00:10:18.219
They don't have that whole setup.

171
00:10:18.219 --> 00:10:22.899
We had a long and nanite breakdown of things.

172
00:10:22.899 --> 00:10:24.579
There is a material set up here.

173
00:10:24.579 --> 00:10:29.339
So you can set your material capture resolution.

174
00:10:29.339 --> 00:10:33.219
And there's ours a bit debugging if you run into or you suspect you're going to run into

175
00:10:33.219 --> 00:10:35.139
some issues.

176
00:10:35.139 --> 00:10:38.659
But overall, this is pretty straightforward.

177
00:10:38.659 --> 00:10:43.779
And this allows you again to have higher poly objects and merge them to become one draw

178
00:10:43.860 --> 00:10:46.579
call.

179
00:10:46.579 --> 00:10:47.860
That's it with this section.

180
00:10:47.860 --> 00:10:51.019
In the next section, we're going to take a look at HLODs.

181
00:10:51.019 --> 00:10:51.419
Thanks again.

