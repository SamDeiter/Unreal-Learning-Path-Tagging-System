WEBVTT

1
00:00:00.000 --> 00:00:07.759
Hi, in this class, we'll be learning some basics of performance profiling in Unreal Engine.

2
00:00:07.759 --> 00:00:13.500
This will help us optimize our world building workflows and find performance bottlenecks

3
00:00:13.500 --> 00:00:15.359
in our scene.

4
00:00:15.359 --> 00:00:19.879
Now before we get started, I just wanted to point out that this class aims to only give

5
00:00:19.879 --> 00:00:24.400
you a very quick overview of the profiling tunes in Unreal Engine.

6
00:00:24.400 --> 00:00:29.800
We won't dive too deep today into this topic because we already have some courses specialized

7
00:00:29.800 --> 00:00:31.400
and dedicated to it.

8
00:00:31.400 --> 00:00:36.000
So if you want to get down to the nitty-gritty details of profiling in Unreal, I'd encourage

9
00:00:36.000 --> 00:00:38.760
you to also check those out.

10
00:00:38.760 --> 00:00:45.600
So what we mean by profiling is analyzing our projects used of system resources like

11
00:00:45.600 --> 00:00:50.679
CPU, GPU processing, memory usage, or network bandwidth.

12
00:00:50.679 --> 00:00:57.719
In Unreal, we have two main tools at our disposal to do that, the stat commands and Unreal Insights.

13
00:00:57.719 --> 00:01:02.280
The stat commands are console commands we can type into the command prompt of our editor

14
00:01:02.280 --> 00:01:07.280
and will display real-time performance information on our viewport, like how much memory we're

15
00:01:07.280 --> 00:01:10.599
using, GPU and CPU load, and more.

16
00:01:10.599 --> 00:01:15.239
There are a ton of stat commands we can type into the log, but today we're going to be

17
00:01:15.239 --> 00:01:19.359
focusing on stat GPU profiling only.

18
00:01:19.359 --> 00:01:23.400
Unreal Insights on the other hand helps find performance bottlenecks in our project by

19
00:01:23.400 --> 00:01:28.120
showing us what's slowing things down, and is much more complete and detailed than the

20
00:01:28.120 --> 00:01:31.080
profile GPU stat command.

21
00:01:31.080 --> 00:01:34.760
So let's check out these couple of tools directly into the Engine.

22
00:01:34.760 --> 00:01:39.920
Okay, we're into the assembly small map of the project that comes together with this

23
00:01:39.920 --> 00:01:40.920
course.

24
00:01:40.920 --> 00:01:43.880
Let's first start reviewing the stat GPU command.

25
00:01:43.880 --> 00:01:48.640
So if we go down here, you will find the enter console command prompt.

26
00:01:48.640 --> 00:01:55.879
And if we type stat GPU and then press enter, Unreal will display the GPU statistics of

27
00:01:55.879 --> 00:01:58.519
whatever we have in frame on our viewport.

28
00:01:58.519 --> 00:02:04.719
So if we move the camera around, you'll see this number changing slowly.

29
00:02:04.719 --> 00:02:09.199
This tool is quite useful in a virtual production setting, because if your scene is running at

30
00:02:09.199 --> 00:02:14.240
a low frame rate, you can easily identify what might be causing those frame drops.

31
00:02:14.240 --> 00:02:19.439
The queue total number you see up here represents the time the GPU spends waiting for commands

32
00:02:19.439 --> 00:02:21.320
to be processed in its render queue.

33
00:02:21.320 --> 00:02:25.040
So if you see a really high number up here in a virtual production scene, this could

34
00:02:25.040 --> 00:02:26.719
be causing latency issues.

35
00:02:26.719 --> 00:02:28.480
So be mindful of that.

36
00:02:28.480 --> 00:02:33.439
To stop the stat GPU command, you would just need to go down here into the console command.

37
00:02:33.439 --> 00:02:37.920
And then if you press the up arrow, you will find the recently entered commands.

38
00:02:37.920 --> 00:02:41.439
So you can just select the first one and then press enter again.

39
00:02:41.680 --> 00:02:44.240
OK, next we will take a look at Unreal Insights.

40
00:02:44.240 --> 00:02:51.000
And that's found down here under trace and clicking on Unreal Insights session browser.

41
00:02:51.000 --> 00:02:56.680
It will open directly into the trace store window where we will find a log of all the

42
00:02:56.680 --> 00:02:59.280
traces we performed in our session.

43
00:02:59.280 --> 00:03:02.879
As you can see, I have performed a few ones when preparing this class.

44
00:03:02.879 --> 00:03:08.000
But if we wanted to start a new tracing session, we could just click in this button down here

45
00:03:08.000 --> 00:03:11.159
and Unreal will start tracing in the background.

46
00:03:11.159 --> 00:03:13.439
And it will tell us trace started.

47
00:03:13.439 --> 00:03:17.400
It's also a good idea to just move the camera around and focus on different areas of our

48
00:03:17.400 --> 00:03:21.919
scene to get a complete performance analysis of our map.

49
00:03:21.919 --> 00:03:28.079
Also zooming out and just viewing all the meshes we have down here might be a good idea.

50
00:03:28.079 --> 00:03:33.199
Now in simple words, a tracing session will capture detailed performance data about our

51
00:03:33.199 --> 00:03:34.199
map.

52
00:03:34.199 --> 00:03:38.199
It creates basically a detailed log of everything happening under the hood that we simply can

53
00:03:38.239 --> 00:03:41.319
playback and analyze to find performance problems.

54
00:03:41.319 --> 00:03:46.399
OK, so if we wanted to stop the tracing session, we could just click on this red button down

55
00:03:46.399 --> 00:03:48.560
here and this will stop tracing.

56
00:03:48.560 --> 00:03:54.639
Now if we open up again the Unreal Insights session browser, we will find a new log down

57
00:03:54.639 --> 00:03:55.639
here.

58
00:03:55.639 --> 00:03:59.399
And if we simply double click on it, we will be able to open it up.

59
00:03:59.399 --> 00:04:05.079
So in this timing insights window, we will be able to analyze all the collected performance

60
00:04:05.079 --> 00:04:07.159
data in milliseconds.

61
00:04:07.199 --> 00:04:12.000
What we're looking for if we pan with left click is actually areas of this log where

62
00:04:12.000 --> 00:04:14.400
Unreal Engine sold a little bit.

63
00:04:14.400 --> 00:04:16.680
You can see here that we have a high bar.

64
00:04:16.680 --> 00:04:21.439
So this means that anything that was calculated here was probably pretty heavy.

65
00:04:21.439 --> 00:04:27.120
And if I just zoom into it with my mouse wheel, I can actually just click on this high bar

66
00:04:27.120 --> 00:04:30.040
and it's going to give me some further details.

67
00:04:30.040 --> 00:04:35.399
Down here I can find the single processes of the GPU and the CPU.

68
00:04:35.399 --> 00:04:40.039
And then here on the right, I can analyze the single elements and how long it took on

69
00:04:40.039 --> 00:04:42.120
real to compute them.

70
00:04:42.120 --> 00:04:47.719
We can also isolate the CPU and the GPU processes individually.

71
00:04:47.719 --> 00:04:52.000
And up here we could also just toggle on and off different windows.

72
00:04:52.000 --> 00:04:56.399
OK, I hope this brief introduction helps you getting a better understanding of profiling

73
00:04:56.399 --> 00:04:58.239
performance in Unreal.

74
00:04:58.239 --> 00:05:01.879
And now let's go back to the slides to conclude this video.

75
00:05:02.839 --> 00:05:05.560
So that was it for this class.

76
00:05:05.560 --> 00:05:10.360
But at this link you can find other extensive documentation and resources to learn more

77
00:05:10.360 --> 00:05:16.000
about performance profiling, bad commands, and the Unreal Engine set-stool in Unreal Engine.

78
00:05:16.000 --> 00:05:20.519
Unfortunately, we're almost at the end of this entire series of classes on world building

79
00:05:20.519 --> 00:05:22.199
for virtual production.

80
00:05:22.199 --> 00:05:25.759
We won't be diving into demos or theories any further.

81
00:05:25.759 --> 00:05:30.319
But in the upcoming lesson, we will do a recap on everything we've learned so far and say

82
00:05:30.319 --> 00:05:31.920
are goodbyes.

83
00:05:31.920 --> 00:05:34.079
Thank you very much for sticking around.

84
00:05:34.079 --> 00:05:35.079
And I'll see you there.

85
00:05:35.079 --> 00:05:35.680
Bye.

