WEBVTT

1
00:00:00.000 --> 00:00:05.120
Okay, in this last section, we're actually going to go through the steps and the tools

2
00:00:05.120 --> 00:00:08.560
that we need for lens distortion mapping, and then we're going to complete this course

3
00:00:08.560 --> 00:00:12.040
by finishing with our actual lens distortion calibration.

4
00:00:12.040 --> 00:00:15.740
So as we get started with lens distortion mapping, the lens distortion requires the

5
00:00:15.740 --> 00:00:20.760
use of a CG checkerboard and matching physical checkerboard that is printed and mounted on

6
00:00:20.760 --> 00:00:24.760
a rigid surface to hold in view of the production camera.

7
00:00:24.760 --> 00:00:27.620
Let's take a look at what we've actually got up on our stage.

8
00:00:27.620 --> 00:00:29.440
This is printed on a rigid sign.

9
00:00:29.440 --> 00:00:33.980
It's actually aluminum with the black checkers and white checkers mapped on it.

10
00:00:33.980 --> 00:00:38.660
We created this using Adobe Illustrator, but you can also use programs such as Inkscape,

11
00:00:38.660 --> 00:00:41.380
Vectornator, or Vector when creating your physical checkerboard.

12
00:00:41.380 --> 00:00:47.600
I need to ensure the exact accurate measurements of your checkerboard squares in centimeters

13
00:00:47.600 --> 00:00:50.219
matches what we're going to build inside the engine.

14
00:00:50.219 --> 00:00:54.900
Now if I jump back to my slides, you're probably wondering why the checkerboard?

15
00:00:54.899 --> 00:00:59.179
Well that's because lens distortion is calculated or mapped using the Quadrant Intersection

16
00:00:59.179 --> 00:01:02.479
Points or quips in the physical checkerboard pattern.

17
00:01:02.479 --> 00:01:06.340
One thing you want to note here is the quips used for distortion mapping and calculation

18
00:01:06.340 --> 00:01:11.420
are the literal intersection points of each four square quadrant section as set by your

19
00:01:11.420 --> 00:01:15.939
corner rows and corner columns when creating your CG checkerboard asset and matching that

20
00:01:15.939 --> 00:01:17.900
to the physical checkerboard.

21
00:01:17.900 --> 00:01:22.980
So let's just jump right into the engine and get started building our checkerboard here.

22
00:01:22.980 --> 00:01:27.740
So if we take a look in the engine, we're going to first want to have a folder for our

23
00:01:27.740 --> 00:01:30.620
materials that we're going to need for our checkerboard itself.

24
00:01:30.620 --> 00:01:32.820
So let's go ahead and start with our folder.

25
00:01:32.820 --> 00:01:37.740
First I'm going to call this new folder checkerboard because that's what we are building.

26
00:01:37.740 --> 00:01:39.480
Now we can have multiple checkerboards.

27
00:01:39.480 --> 00:01:43.780
The one that we're going to build is a four and a half centimeter checkerboard with seven

28
00:01:43.780 --> 00:01:48.140
corner rows and number corner columns are 11.

29
00:01:48.140 --> 00:01:52.740
To find and build our checkerboard, you just move over to our place actors, which is a

30
00:01:52.939 --> 00:01:55.259
hidden up in the upper left hand corner of our tab.

31
00:01:55.259 --> 00:01:59.619
And then go ahead and move over to our virtual production tab and just drag your checkerboard

32
00:01:59.619 --> 00:02:00.119
in here.

33
00:02:00.119 --> 00:02:05.539
Now before I do that, I want to point out that I am in my current level for my NBC.

34
00:02:05.539 --> 00:02:10.180
This is the NBC sub level located in my persistent level.

35
00:02:10.180 --> 00:02:15.299
And my checkerboard is going to need to live in my track offset actor inside my end display

36
00:02:15.299 --> 00:02:16.299
asset.

37
00:02:16.299 --> 00:02:21.419
So that has to live inside the NBC level itself.

38
00:02:21.459 --> 00:02:25.219
So again, let's go up to our place actors and just go ahead and drag my checkerboard

39
00:02:25.219 --> 00:02:30.979
in and that should make sure that my checkerboard is living here in my NBC level.

40
00:02:30.979 --> 00:02:36.459
So let's go ahead and rename that checkerboard so that we have cam calibration checker 01.

41
00:02:36.459 --> 00:02:40.419
Now with that named, we are going to need to make some adjustments to our checkerboard.

42
00:02:40.419 --> 00:02:44.179
If I look in my viewport at my checkerboard, there's not really anything that's visible

43
00:02:44.179 --> 00:02:45.019
here yet.

44
00:02:45.019 --> 00:02:48.079
That's because the checkerboard itself is quite small.

45
00:02:48.080 --> 00:02:52.000
So to adjust that, we're going to move over into our details panel with my checkerboard

46
00:02:52.000 --> 00:02:53.000
selected.

47
00:02:53.000 --> 00:02:55.760
I'm going to move down here to the calibration tab.

48
00:02:55.760 --> 00:02:57.480
It's right below our transform tab.

49
00:02:57.480 --> 00:03:00.520
And I'm going to skip my calibration points because these are automatically generated

50
00:03:00.520 --> 00:03:01.520
for me.

51
00:03:01.520 --> 00:03:05.240
And I'm going to go ahead and change my corner rows and corner columns.

52
00:03:05.240 --> 00:03:09.680
As I mentioned before, I need seven corner rows and 11 corner columns.

53
00:03:09.680 --> 00:03:13.000
And then for my thickness, I'm going to go ahead and leave that as it is.

54
00:03:13.000 --> 00:03:17.800
And my square side length, let's change that to 4.5 centimeters.

55
00:03:17.800 --> 00:03:21.160
Now we are going to need some materials to make that show up.

56
00:03:21.160 --> 00:03:24.120
Right now there's no materials, so we need to build those.

57
00:03:24.120 --> 00:03:27.160
That's going to take place inside our checkerboard folder.

58
00:03:27.160 --> 00:03:30.719
So go ahead and open that up and then right click to create our first material.

59
00:03:30.719 --> 00:03:35.760
Now this first material we're going to call M underscore checker and call this BLK for

60
00:03:35.760 --> 00:03:37.200
black.

61
00:03:37.200 --> 00:03:39.760
And for that, I'm going to go ahead and open this one right away.

62
00:03:39.760 --> 00:03:43.640
And I'm going to hold down the hotkey three and then just click in my space.

63
00:03:43.640 --> 00:03:46.439
That's going to give me my vector three constant.

64
00:03:46.439 --> 00:03:49.359
And from here, I'm going to connect that right into my base color.

65
00:03:49.359 --> 00:03:51.199
Now it's going to be a little bit shiny.

66
00:03:51.199 --> 00:03:53.439
So from here, I'm going to need another constant.

67
00:03:53.439 --> 00:03:56.520
So let's just go ahead and right click and type in constant.

68
00:03:56.520 --> 00:03:58.199
And it only works if you spell it correctly.

69
00:03:58.199 --> 00:03:59.560
So constant.

70
00:03:59.560 --> 00:04:04.680
And then I'm going to change that value to 0.1 so that I have some specularity, but not

71
00:04:04.680 --> 00:04:05.680
completely.

72
00:04:05.680 --> 00:04:07.400
And then let's connect that to our specular.

73
00:04:07.400 --> 00:04:10.319
And then let's go ahead and hit apply and save.

74
00:04:10.319 --> 00:04:12.560
And that's going to give me my first checker.

75
00:04:12.560 --> 00:04:17.959
Now from here, I am going to close that window, jump back into the engine and to make my life

76
00:04:17.959 --> 00:04:19.079
a little bit easier.

77
00:04:19.079 --> 00:04:22.120
I'm just going to go ahead and duplicate this.

78
00:04:22.120 --> 00:04:25.639
So you could just build this again, but instead I'm going to go ahead and duplicate it.

79
00:04:25.639 --> 00:04:29.920
And then I'm going to change the BLK at the end to COL color.

80
00:04:29.920 --> 00:04:33.000
And I'm going to do that because that is going to give me the option of having a new color.

81
00:04:33.000 --> 00:04:37.240
And if I just go right in here, I can quickly make that adjustment by selecting my color

82
00:04:37.240 --> 00:04:41.680
wheel and moving on up to the color that I want and make this nice and bright pink color

83
00:04:41.680 --> 00:04:42.680
here for me to use.

84
00:04:42.680 --> 00:04:46.680
And I want this pink color because I want to be able to differentiate between the white

85
00:04:46.680 --> 00:04:51.160
checkers that are on the physical checker board and the CG checkers that we're going

86
00:04:51.160 --> 00:04:52.800
to get on our CG checker board.

87
00:04:52.800 --> 00:04:55.600
And you'll understand that once we actually do our calibration, because we'll be able

88
00:04:55.600 --> 00:05:00.560
to transparently view a properly calibrated checker board.

89
00:05:00.560 --> 00:05:04.800
So let's go ahead and apply and save this change as well.

90
00:05:04.800 --> 00:05:08.240
And then once that's saved, we'll see our checker board itself.

91
00:05:08.240 --> 00:05:11.759
Now my checker board isn't quite showing up and that's because I haven't assigned the

92
00:05:11.759 --> 00:05:12.920
colors just yet.

93
00:05:12.920 --> 00:05:17.400
One thing to note is that I want to make sure that the top left corner of my physical checker

94
00:05:17.400 --> 00:05:20.120
board is my odd cube material color.

95
00:05:20.120 --> 00:05:24.639
And my odd cube material color is actually going to be my black material.

96
00:05:24.639 --> 00:05:28.439
So let's go ahead and connect that black material in just by dragging it into my odd cube material

97
00:05:28.439 --> 00:05:31.720
and take my color and move that into my even cube material color.

98
00:05:31.720 --> 00:05:34.800
And that's going to give me the colors for my actual checker board.

99
00:05:34.800 --> 00:05:38.840
Now as I zoom in a little bit, you can kind of see my checker board showing up here.

100
00:05:38.840 --> 00:05:42.079
I want to move this a little bit closer so that it's visible here.

101
00:05:42.079 --> 00:05:45.720
That way I can kind of move this around and you can see what's going to happen here as

102
00:05:45.720 --> 00:05:46.720
it moves.

103
00:05:46.720 --> 00:05:48.439
So this gives me my physical checker board.

104
00:05:48.439 --> 00:05:53.040
And again, this has to actually live underneath my OptiTrack offset actor.

105
00:05:53.040 --> 00:05:54.319
So let's put that into place.

106
00:05:54.319 --> 00:05:57.080
And now you can see that's giving us a lot more location information.

107
00:05:57.080 --> 00:05:59.560
Let's go ahead and zero out that value.

108
00:05:59.560 --> 00:06:01.439
And that's going to zero that out on the floor.

109
00:06:01.439 --> 00:06:04.759
And let's zero out our rotation and then let's move that up.

110
00:06:04.759 --> 00:06:08.279
Now you can see that this is going to appear on the screen, but it's not going to align

111
00:06:08.279 --> 00:06:09.959
because of its position.

112
00:06:09.959 --> 00:06:13.439
Now let's just move that out of the way because we don't want that to show up in my calibration.

113
00:06:13.439 --> 00:06:17.560
And as we're getting ready for calibration itself, let's move on over to our calibration

114
00:06:17.560 --> 00:06:20.560
folder and into our lens file folder.

115
00:06:20.560 --> 00:06:24.480
Now if I jump back into my slides really quick, I just want to point out that there are some

116
00:06:24.480 --> 00:06:29.519
things that we need to note as a difference between Unreal Engine 5.03 and Unreal Engine

117
00:06:29.519 --> 00:06:30.519
5.1.

118
00:06:31.279 --> 00:06:37.319
OK, so in our lens distortion mapping, we now need to apply our lens to the tracked camera.

119
00:06:37.319 --> 00:06:42.680
In 5.0, typically as you go through here, you're going to find that there is a lens file component

120
00:06:42.680 --> 00:06:47.120
that isn't necessarily needed to be added in order to select our lens file.

121
00:06:47.120 --> 00:06:50.719
In order to select that, follow the same rules for 5.0.

122
00:06:50.719 --> 00:06:55.159
Scroll down, expand your camera roll dropdown in your details panel.

123
00:06:55.159 --> 00:06:58.279
Go ahead and then expand the lens file picker.

124
00:06:58.279 --> 00:07:02.719
Select your lens file, which is the LF Zeiss 25 millimeter in our case, and then double

125
00:07:02.719 --> 00:07:05.119
click to reopen that lens file asset.

126
00:07:05.119 --> 00:07:07.919
Now in 5.1, it's a little different here.

127
00:07:07.919 --> 00:07:13.759
You're going to need both a lens component attached to your camera and a live link component

128
00:07:13.759 --> 00:07:16.519
controller for our Fizz data.

129
00:07:16.519 --> 00:07:20.239
You're also going to need to make sure that your virtual subject is virtual.

130
00:07:20.239 --> 00:07:21.319
Don't rename it.

131
00:07:21.319 --> 00:07:26.679
That way it's going to connect the correct virtual subject to that as well in 5.1.

132
00:07:26.680 --> 00:07:31.519
So as a point out here in my slides, you can see that there is a lens black magic Zeiss

133
00:07:31.519 --> 00:07:32.519
in here.

134
00:07:32.519 --> 00:07:36.480
If we jump on over to the engine, you will see that we have this selected as well.

135
00:07:36.480 --> 00:07:39.319
And as I'm looking through the engine, and if I scroll up here, the very first thing

136
00:07:39.319 --> 00:07:43.439
that's selected is my lens file Zeiss 25 millimeter P3.

137
00:07:43.439 --> 00:07:48.720
If I skip down to my Zeiss Fizz here, you can see that I've got my subject representation

138
00:07:48.720 --> 00:07:49.720
as virtual.

139
00:07:49.720 --> 00:07:54.360
This is my virtual subject and my subject itself is a virtual subject.

140
00:07:54.360 --> 00:07:58.759
That virtual subject is actually using this blueprint class, the blueprint live link virtual

141
00:07:58.759 --> 00:07:59.920
subject black magic Zeiss.

142
00:07:59.920 --> 00:08:04.360
And if I switch over to my live link here, you can see if I select my virtual subject,

143
00:08:04.360 --> 00:08:09.379
I've got it set where they focus iris and zoom that is set at 25 millimeters.

144
00:08:09.379 --> 00:08:13.800
If I go back to my details panel and scroll down just a little bit under the camera roll

145
00:08:13.800 --> 00:08:19.400
as we have expanded, we can now see that my lens file is connected here in my LF Zeiss

146
00:08:19.400 --> 00:08:21.319
25 millimeter P3.

147
00:08:21.319 --> 00:08:23.360
That is the same lens file that we are using here.

148
00:08:23.360 --> 00:08:26.000
So I can go ahead and double click that.

149
00:08:26.000 --> 00:08:29.079
And that will actually launch my lens file.

150
00:08:29.079 --> 00:08:33.639
Now you can see here that I've got my lens files, my track camera and my lens component

151
00:08:33.639 --> 00:08:36.120
is the lens black magic Zeiss.

152
00:08:36.120 --> 00:08:39.519
My raw fizz input is actually coming from my live link virtual subject.

153
00:08:39.519 --> 00:08:42.519
And I'm just going to move this down and kind of resize this a little bit so you can see

154
00:08:42.519 --> 00:08:43.879
what's happening.

155
00:08:43.879 --> 00:08:48.840
And as you can see here, if I move over to my live link section, I've got a 25 millimeter

156
00:08:48.840 --> 00:08:51.920
zoom here and it matches my raw fizz input.

157
00:08:51.920 --> 00:08:55.639
If I change that information, I'm going to change that to 35 millimeter.

158
00:08:55.639 --> 00:08:59.680
And you can see that changes my lens and my view as well and the zoom information here

159
00:08:59.680 --> 00:09:01.160
at 35.

160
00:09:01.160 --> 00:09:04.560
Now because we're at a fixed lens with 25 millimeter, we want to make sure that that

161
00:09:04.560 --> 00:09:07.240
is set correctly at 25 millimeter.

162
00:09:07.240 --> 00:09:11.360
And then I can actually adjust my focus and iris controls as well.

163
00:09:11.360 --> 00:09:15.800
So as I start to update this for my camera and my zoom, I can go ahead and pull that

164
00:09:15.799 --> 00:09:19.799
information and kind of figure out how far we are away from our subject and make those

165
00:09:19.799 --> 00:09:21.479
updates as well.

166
00:09:21.479 --> 00:09:25.679
Now as I'm in my lens information and my lens information is correct, again, my transparency

167
00:09:25.679 --> 00:09:31.319
allows me to switch between these two so I can see what is a full and transparent here.

168
00:09:31.319 --> 00:09:33.919
And now I can go ahead and just kind of leave that at 0.5.

169
00:09:33.919 --> 00:09:37.639
Although it's a lot easier to work with if I set this transparency to zero as we are

170
00:09:37.639 --> 00:09:41.039
ready to capture images through our lens distortion.

171
00:09:41.039 --> 00:09:45.599
So let's kind of move over to our lens distortion tab and let's make sure that we are correct

172
00:09:45.600 --> 00:09:47.200
in here as well.

173
00:09:47.200 --> 00:09:51.200
And I've got my camera, which again is my black magic's ice, make sure that's selected.

174
00:09:51.200 --> 00:09:55.159
My media source is correct so you can see I'm coming through my Aja device and I've

175
00:09:55.159 --> 00:09:56.159
got an overlay.

176
00:09:56.159 --> 00:09:57.159
This is really for my crosshair.

177
00:09:57.159 --> 00:09:59.399
I'm not going to make much use of this.

178
00:09:59.399 --> 00:10:03.080
And then for my lens distortion algorithm, I want to make sure I choose my lens distortion

179
00:10:03.080 --> 00:10:06.879
checker board that we've created and that we're using the actual camera calibration

180
00:10:06.879 --> 00:10:09.240
checker that exists in here as well.

181
00:10:09.240 --> 00:10:13.160
Now I also want to show a coverage overlay and show detection so that I can get some

182
00:10:13.160 --> 00:10:14.680
visual feedback in here.

183
00:10:15.039 --> 00:10:18.559
Now to get started, all I got to do right now is just click on the first image.

184
00:10:18.559 --> 00:10:23.239
And as you can see, I get feedback that shows me that I've got all of my quips showing up

185
00:10:23.239 --> 00:10:25.799
in here so they're calibrated correctly.

186
00:10:25.799 --> 00:10:28.959
It shows me my calibration in a feedback image.

187
00:10:28.959 --> 00:10:33.919
And if I close this image, you can see that I've got my index showing up here as well.

188
00:10:33.919 --> 00:10:37.519
Okay, so as we're getting ready to do our calibration, let's take a quick look at some

189
00:10:37.519 --> 00:10:40.159
of the tools in the real world that we're actually going to be using.

190
00:10:40.159 --> 00:10:44.079
If I first look up at my checker board, which you can see through the camera itself, the

191
00:10:44.080 --> 00:10:47.520
checker board is on a stand and is our first image.

192
00:10:47.520 --> 00:10:50.840
But now we want to take a look over at our camera because we want to be able to measure

193
00:10:50.840 --> 00:10:55.600
specifically what our camera's position and make adjustments to our FIS data in the engine

194
00:10:55.600 --> 00:10:56.600
here as well.

195
00:10:56.600 --> 00:11:00.720
Now, I am going to be using a laser measuring tool here.

196
00:11:00.720 --> 00:11:04.000
So you can see this is my Bosch professional measuring tool.

197
00:11:04.000 --> 00:11:07.000
And if I look at the top of my camera here, there is a little mark.

198
00:11:07.000 --> 00:11:11.160
This is going to mark and show where my sensor's position is actually located.

199
00:11:11.159 --> 00:11:14.199
So inside my camera, this is where my camera sensor is located.

200
00:11:14.199 --> 00:11:18.879
Now if I put my Bosch right up against this, so it's kind of lined up in the same position

201
00:11:18.879 --> 00:11:24.039
and just push this button, you can see a little laser kind of show up on the sensor

202
00:11:24.039 --> 00:11:25.319
itself.

203
00:11:25.319 --> 00:11:28.519
And if I look down here and just press the button one more time, that's going to give

204
00:11:28.519 --> 00:11:33.959
me a distance of about six feet, three inches from the camera's sensor all the way to the

205
00:11:33.959 --> 00:11:34.959
wall.

206
00:11:34.959 --> 00:11:37.319
As you can see here, that's six, three.

207
00:11:37.319 --> 00:11:39.919
Now I want to make the adjustment here on my lens.

208
00:11:39.919 --> 00:11:44.279
So if I kind of come back around and Sean joins me over here, I need to make the adjustment

209
00:11:44.279 --> 00:11:48.879
from 4.6 feet to a little bit over six feet here.

210
00:11:48.879 --> 00:11:51.159
So now I'm all set up in that position.

211
00:11:51.159 --> 00:11:55.959
Now my T stop here, we are set to four, but I want to open this up as high as I can to

212
00:11:55.959 --> 00:11:58.559
get it not as much light in as possible.

213
00:11:58.559 --> 00:12:01.199
So I'm going to set this as 2.1.

214
00:12:01.199 --> 00:12:06.199
So now these two things are set on my camera and I'm ready to go back into the engine.

215
00:12:06.200 --> 00:12:10.200
And from there, I'm going to need to make some adjustments to my Fizz data that matches

216
00:12:10.200 --> 00:12:11.200
that information.

217
00:12:11.200 --> 00:12:15.879
Now to make that adjustment, let's just go ahead and pull this aside a little bit.

218
00:12:15.879 --> 00:12:23.120
And I'm going to go ahead and change my focus, which is my focus distance to 190.5.

219
00:12:23.120 --> 00:12:26.840
And my iris was set at my T stop of 2.1.

220
00:12:26.840 --> 00:12:28.600
So I'm going to make that change as well.

221
00:12:28.600 --> 00:12:33.360
And you'll notice those changes get adjusted here inside my Fizz data.

222
00:12:33.360 --> 00:12:37.560
Now with that ready to go, I do need to actually do my images over again.

223
00:12:37.560 --> 00:12:40.360
So I'm going to go ahead and hit clear all on this.

224
00:12:40.360 --> 00:12:42.639
So first let's click on this.

225
00:12:42.639 --> 00:12:43.879
Here's my first image.

226
00:12:43.879 --> 00:12:45.720
This is just going to give me a nice central image.

227
00:12:45.720 --> 00:12:49.840
And while that's set, let's have Sean go ahead and move that up into the upper left hand

228
00:12:49.840 --> 00:12:50.840
corner.

229
00:12:50.840 --> 00:12:52.399
And you'll notice there's an overlay.

230
00:12:52.399 --> 00:12:57.759
So my quips are calibrated and collected and they stay on screen.

231
00:12:57.759 --> 00:13:01.080
You want to make sure that this fills the frame, but doesn't get too high.

232
00:13:01.080 --> 00:13:03.560
And it gets closer to the edge if you can right in here.

233
00:13:03.560 --> 00:13:05.759
Now it doesn't need to be too high on the top.

234
00:13:05.759 --> 00:13:08.120
It just needs to fill in the top corner here.

235
00:13:08.120 --> 00:13:12.720
And the reason for that is so as we move over, this black part is actually going to obscure

236
00:13:12.720 --> 00:13:15.320
it and may cause a error here.

237
00:13:15.320 --> 00:13:19.800
Now to continue our calibration collection of images, we can go ahead and collect this

238
00:13:19.800 --> 00:13:20.800
image.

239
00:13:20.800 --> 00:13:22.520
And again, I'm not going to keep you through all of these.

240
00:13:22.520 --> 00:13:25.200
We'll finish this up and you'll see this in another section.

241
00:13:25.200 --> 00:13:27.280
So expect a little bit of a jump.

242
00:13:27.280 --> 00:13:31.040
Okay, so now that we finished our distortion mapping collection, you'll notice here that

243
00:13:31.039 --> 00:13:33.480
we have an index series of images.

244
00:13:33.480 --> 00:13:36.519
Now I have 35 images from my collection right here.

245
00:13:36.519 --> 00:13:41.519
And you can see as I scrub through them that Sean moved his way from left to right in different

246
00:13:41.519 --> 00:13:47.000
various locations and then created a couple of images that were from various angles.

247
00:13:47.000 --> 00:13:51.159
This is going to allow us some distortion and kind of see how the camera lens is going

248
00:13:51.159 --> 00:13:53.559
to read some of that information.

249
00:13:53.559 --> 00:13:57.719
Now once that's done, you just go ahead and apply our calibration data.

250
00:13:57.720 --> 00:14:02.200
And to do that, we're going to go down to the bottom here and add to lens distortion

251
00:14:02.200 --> 00:14:04.000
calibration.

252
00:14:04.000 --> 00:14:09.879
Now we are going to get an RMS reprojection error and we are going to want a number that

253
00:14:09.879 --> 00:14:12.879
is below 0.1 or better.

254
00:14:12.879 --> 00:14:15.759
Right now we have an RMS number of 0.51.

255
00:14:15.759 --> 00:14:19.240
That's actually still pretty good and it's going to give us a fairly decent set to work

256
00:14:19.240 --> 00:14:20.240
from.

257
00:14:20.240 --> 00:14:21.680
Now this is our first calibration point.

258
00:14:21.680 --> 00:14:26.080
So if I go ahead and hit OK to apply that, you can see everything is going to disappear

259
00:14:26.120 --> 00:14:28.440
and we're going to go into our lens file panel.

260
00:14:28.440 --> 00:14:32.240
And if I look at my focus and my iris, you're going to see that I've got a specific point

261
00:14:32.240 --> 00:14:36.040
here at a focus of 190.5.

262
00:14:36.040 --> 00:14:39.280
That's going to give me my first point at my zoom and calibration and it's going to

263
00:14:39.280 --> 00:14:42.360
allow me to kind of create some other points in here.

264
00:14:42.360 --> 00:14:46.840
Now to create additional points, I'm going to make the adjustments in our FIS data to

265
00:14:46.840 --> 00:14:48.120
a new focal length.

266
00:14:48.120 --> 00:14:50.400
So we would change our iris here.

267
00:14:50.400 --> 00:14:53.520
You'll notice it's going to get a little bit darker in what you're seeing in here.

268
00:14:53.559 --> 00:14:57.559
I'm going to change my T stop and I'm going to put that all the way as dark as I can at

269
00:14:57.559 --> 00:15:01.000
22 and you can see how dark that is.

270
00:15:01.000 --> 00:15:04.079
Now, probably not going to need to be quite that dark.

271
00:15:04.079 --> 00:15:06.240
So I'm going to open this up just a little bit.

272
00:15:06.240 --> 00:15:09.439
Let's go to 11 so we can still see things that's in here.

273
00:15:09.439 --> 00:15:13.039
But realistically, we'll probably want to push this to the extremes, the farthest distance

274
00:15:13.039 --> 00:15:14.439
that we're going to see in here.

275
00:15:14.439 --> 00:15:17.679
And then we want to actually create a new distance length as well.

276
00:15:17.679 --> 00:15:21.679
So if I go in here and make the adjustment, we want to get a little bit closer.

277
00:15:21.719 --> 00:15:26.199
So we would create another set with Sean and we'd move this up to about three feet.

278
00:15:26.199 --> 00:15:29.479
So we're at three three right now and we're pretty much filling the frame.

279
00:15:29.479 --> 00:15:33.759
Since we don't want to go quite that far, we're actually going to adjust our lens to

280
00:15:33.759 --> 00:15:38.279
three three in here and that way we can kind of come on back and we're going to make the

281
00:15:38.279 --> 00:15:41.839
adjustment inside our FIS data to match that.

282
00:15:41.839 --> 00:15:48.719
So as I mentioned, we changed our iris from 2.1 to 11 and we changed our focus distance

283
00:15:48.719 --> 00:15:50.919
from six feet, three to three feet, three.

284
00:15:50.959 --> 00:15:53.959
And that's about 99 centimeters.

285
00:15:54.559 --> 00:15:58.120
So with that set, we can go ahead and collect our first image.

286
00:15:58.120 --> 00:16:03.079
So let's have Sean move that in the upper left hand corner and we're ready to grab that first image.

287
00:16:03.079 --> 00:16:05.959
Now it's really dark, but it's still a good image.

288
00:16:05.959 --> 00:16:10.799
And I want Sean to move around the four corners here so that we can get these four images in here.

289
00:16:11.799 --> 00:16:13.279
And we can stop right there.

290
00:16:14.039 --> 00:16:18.719
And now let's lower it down and let's move back to the other corner.

291
00:16:19.560 --> 00:16:22.440
Okay, now these were four points.

292
00:16:22.440 --> 00:16:26.480
Typically you want to have no fewer than eight to 10 points.

293
00:16:26.480 --> 00:16:33.000
So for this, I would have Sean move this so it's dead center, which is good right there.

294
00:16:33.000 --> 00:16:37.440
And then he can pull the checkerboard that we have mounted on a specifically set up mount.

295
00:16:37.440 --> 00:16:42.440
And we can move this around to create some specific angles on this and rotate that a little bit.

296
00:16:42.440 --> 00:16:43.040
There we go.

297
00:16:43.040 --> 00:16:44.920
A little bit turn your angle just a little bit less.

298
00:16:44.920 --> 00:16:45.399
There we go.

299
00:16:45.399 --> 00:16:48.600
So everything fits because it's going to look for the corner points that they're not all in

300
00:16:48.600 --> 00:16:49.720
there. It's not going to show up.

301
00:16:51.399 --> 00:16:52.800
Okay, so let's rotate again.

302
00:16:55.200 --> 00:16:57.879
Okay, and let's add another rotation on the other side.

303
00:16:59.279 --> 00:17:01.279
And let's rotate it the opposite direction.

304
00:17:03.080 --> 00:17:06.759
Okay, and that's going to give us eight images, which is the bare minimum here.

305
00:17:07.279 --> 00:17:10.120
So with that done, I'm going to have Sean just go ahead and put that back in a place.

306
00:17:10.120 --> 00:17:13.640
And you're going to see me actually add this to my lens distortion calibration.

307
00:17:14.160 --> 00:17:16.920
This is my RMS projection error is at point two now.

308
00:17:16.920 --> 00:17:20.720
So it's a lot smaller with fewer images, which is actually pretty good.

309
00:17:22.160 --> 00:17:23.480
So we're going to hit OK.

310
00:17:23.480 --> 00:17:27.560
And as we go over to our lens file, you can see now that a new distortion point.

311
00:17:27.560 --> 00:17:30.880
So this is my distortion map and my distortion map is starting to work.

312
00:17:31.400 --> 00:17:35.480
Now let's jump back to our slide so that you have this information available to you to look at.

313
00:17:35.480 --> 00:17:39.200
And as we walk through, I want to point out that, yes, we created a couple of images

314
00:17:39.440 --> 00:17:40.480
and it looks just like this.

315
00:17:40.480 --> 00:17:42.280
And we added that to our last section.

316
00:17:42.799 --> 00:17:46.359
Now, as I mentioned, there is an RMS error that you're actually going to look for.

317
00:17:46.559 --> 00:17:49.279
And we need to make sure that our calibrator is actually correct.

318
00:17:49.599 --> 00:17:53.879
So the last section that we need to do is to go back and apply this to our calibrator.

319
00:17:54.240 --> 00:17:58.559
So if I go ahead and jump back in the engine again and look at my calibration steps,

320
00:17:58.879 --> 00:18:01.279
there is a couple of other options that are in here.

321
00:18:01.720 --> 00:18:07.039
So to get this to work, the distortion parameters need to update here in our lens editor.

322
00:18:07.039 --> 00:18:10.399
And we need to verify our lens distortion with our nodal offset tab.

323
00:18:11.000 --> 00:18:15.800
So let's move over to our nodal offset tab and we're going to need to bring all that

324
00:18:15.800 --> 00:18:18.080
information into our section.

325
00:18:18.080 --> 00:18:24.200
So with the nodal point offset selection, we want to go and change our offset points method to our checkerboard.

326
00:18:24.920 --> 00:18:29.519
I want to choose the checkerboard that we are actually using and it is going to have multiple values.

327
00:18:29.519 --> 00:18:36.600
Now to get this to work, all we got to do is click into our viewport and that's going to add in our corner data.

328
00:18:37.599 --> 00:18:44.279
Now all I got to do on this is hit apply to calibrator and this will apply that to my lens distortion map.

329
00:18:44.279 --> 00:18:47.000
And you can see I've got my focal length adjustments that are in here,

330
00:18:47.000 --> 00:18:52.559
but I didn't get any focus distance or aperture because we're going to control that on our own and we have a fixed lens on here.

331
00:18:52.559 --> 00:18:54.959
But what I did get was my distortion parameters.

332
00:18:55.399 --> 00:19:02.399
So you can see I've got my distortion parameters that are in here and now we want to be able to see whether or not this is actually going to work.

333
00:19:02.640 --> 00:19:10.759
So if I scrub through here and I adjust my transparency, you can see that my checkerboard is now filled in with my pink checkers.

334
00:19:11.600 --> 00:19:16.680
This tells me visually that my lens distortion mapping is accurate.

335
00:19:16.880 --> 00:19:22.600
If my CG overlay matches my video feed, then my calculations here are visually confirmed.

336
00:19:22.920 --> 00:19:26.519
Again, scrubbing through here, you can see how these are actually lining up correctly.

337
00:19:27.000 --> 00:19:30.560
Now we did a short quick calibration with just two points.

338
00:19:30.919 --> 00:19:35.279
So there is a little bit of fuzziness in here, but this is still pretty good.

339
00:19:36.519 --> 00:19:42.720
So with that in mind, the next step is to go on and do our nodal point calibration from this point.

