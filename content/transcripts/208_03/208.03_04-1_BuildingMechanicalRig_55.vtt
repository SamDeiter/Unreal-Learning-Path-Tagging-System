WEBVTT

1
00:00:00.000 --> 00:00:05.700
What we're going to do next is jump into the engine and start utilizing some of these

2
00:00:05.700 --> 00:00:09.259
tools to build a mechanical rig of our own.

3
00:00:09.259 --> 00:00:13.780
We'll be building it for the mech character inside the project, showing off how to set

4
00:00:13.780 --> 00:00:18.500
up a few different control types with their Min and Max settings, setting up the leg with

5
00:00:18.500 --> 00:00:23.379
an IK3 bone function, and showing off how we can get pistons moving in a couple of different

6
00:00:23.379 --> 00:00:24.859
ways.

7
00:00:24.859 --> 00:00:29.660
And then we'll finish off by adding some dynamic movement to our skeletal mesh.

8
00:00:29.660 --> 00:00:34.579
So now would be a great time to open up your project if you want to follow along.

9
00:00:34.579 --> 00:00:37.460
First things first, we need to create a control rig asset.

10
00:00:37.460 --> 00:00:43.439
So inside the project here under the content browser, if we go to meshes and then mech,

11
00:00:43.439 --> 00:00:47.060
and inside here we have our mech mesh.

12
00:00:47.060 --> 00:00:53.200
I'm going to right click, come up to create, and choose control rig.

13
00:00:53.200 --> 00:01:03.000
And then I'm just going to rename this cr underscore my control rig.

14
00:01:03.000 --> 00:01:11.320
And I'll just double click to open that up and dock it in the window here.

15
00:01:11.320 --> 00:01:15.439
Now the first controls we're going to set up will be for our turret here and for the

16
00:01:15.439 --> 00:01:16.439
turret base.

17
00:01:16.439 --> 00:01:22.280
And we're going to use the rotator control type so that they can only rotate.

18
00:01:22.280 --> 00:01:26.640
And then we'll limit the movement of the turret using the min and max settings.

19
00:01:26.640 --> 00:01:30.820
And then once we've got that set up, we'll utilize the FK chain function to actually

20
00:01:30.820 --> 00:01:35.460
connect the controls and the bones together.

21
00:01:35.460 --> 00:01:40.420
To create the two controls, I'm going to select the turret base and main gun.

22
00:01:40.420 --> 00:01:45.359
And you can either use the shortcut control N, or you could right click, come up to new,

23
00:01:45.359 --> 00:01:48.439
and select new control.

24
00:01:48.439 --> 00:01:52.260
And down outside the hierarchy here, what that will do is create a new control for each

25
00:01:52.260 --> 00:01:54.140
thing you have selected.

26
00:01:54.140 --> 00:01:59.140
And it will actually maintain the hierarchy that they have in relation to one another.

27
00:01:59.140 --> 00:02:03.640
So we have the main gun, childhood to the turret base.

28
00:02:03.640 --> 00:02:05.219
So there's two things we want to do now.

29
00:02:05.219 --> 00:02:08.540
We want to change the type of control that this is.

30
00:02:08.540 --> 00:02:11.939
And we want to customize the look of it so that we can see it a little better and it's

31
00:02:11.939 --> 00:02:14.759
a little more user friendly.

32
00:02:14.759 --> 00:02:18.939
So to change the type with both of our controls selected because we want them to both be the

33
00:02:18.939 --> 00:02:19.939
same type.

34
00:02:20.500 --> 00:02:24.419
We're going to come to the details panel and under the value type drop down, change that

35
00:02:24.419 --> 00:02:26.419
to rotator.

36
00:02:26.419 --> 00:02:31.280
And you'll see that under the value heading here, we only have rotation as a min, max

37
00:02:31.280 --> 00:02:36.659
setting that we can set now, as well as seeing the current and initial values, meaning that

38
00:02:36.659 --> 00:02:40.620
these controls are only going to rotate.

39
00:02:40.620 --> 00:02:43.879
And what we can do now is just customize the look of these.

40
00:02:43.879 --> 00:02:49.680
So with the turret base control, let's make that a circle thick.

41
00:02:49.680 --> 00:02:54.159
And I'm just going to click this scale icon to lock all these three axes together.

42
00:02:54.159 --> 00:02:58.579
So when I edit one, they'll all be edited together.

43
00:02:58.579 --> 00:03:02.599
And what I want to do is just keep bringing this up until it's a suitable size.

44
00:03:02.599 --> 00:03:08.400
And that should sort of do us for now.

45
00:03:08.400 --> 00:03:13.759
And with the turret main gun control, if we zoom in on this one, I'm going to make

46
00:03:14.120 --> 00:03:16.840
it a circle thick again.

47
00:03:16.840 --> 00:03:21.879
But if I zoom right there, you can see that it's not really oriented in a very useful

48
00:03:21.879 --> 00:03:28.120
way for us to know how it's going to work when we're rotating it to move this main

49
00:03:28.120 --> 00:03:29.919
gun up and down.

50
00:03:29.919 --> 00:03:36.680
So under the shape transforms here, I'm just going to rotate it 90 along the, I think it's

51
00:03:36.680 --> 00:03:37.680
the y-axis.

52
00:03:37.680 --> 00:03:39.079
Well, let's take a look.

53
00:03:39.120 --> 00:03:44.360
Let's just scale that up to around about 30.

54
00:03:44.360 --> 00:03:46.480
No, so it's not the y-axis.

55
00:03:46.480 --> 00:03:50.840
It's going to be the x-axis that we want.

56
00:03:50.840 --> 00:03:52.320
There we go.

57
00:03:52.320 --> 00:03:57.320
So now this control, we could even go a touch bigger.

58
00:03:57.320 --> 00:04:02.640
Now this control indicates that it's going to rotate in this axis just because of the

59
00:04:02.640 --> 00:04:05.000
way that it's facing.

60
00:04:05.080 --> 00:04:09.400
So what I'm going to do here to make sure that we limit it from moving in any other

61
00:04:09.400 --> 00:04:15.520
axis is select the control either from the viewport or from the rig hierarchy window

62
00:04:15.520 --> 00:04:18.920
and come up to the min-max settings here.

63
00:04:18.920 --> 00:04:25.160
And we know we only want to rotate this gun up and down in the y-axis.

64
00:04:25.160 --> 00:04:33.800
So what I'm going to do is activate the minimum for the x and z-axis, leave those at zero,

65
00:04:33.800 --> 00:04:40.600
and do the same for the max, but set them to zero as well.

66
00:04:40.600 --> 00:04:45.360
And this will mean that it won't be able to rotate in those two axes.

67
00:04:45.360 --> 00:04:51.800
So you can see now if I move them, nothing's happening.

68
00:04:51.800 --> 00:04:58.759
We also know that we want to set some min-max of our y-axis so that when we rotate it downwards,

69
00:04:58.759 --> 00:05:06.279
it doesn't pass through the main turret base here.

70
00:05:06.279 --> 00:05:09.759
Now I know what those values are, but just to show you the process of how we kind of

71
00:05:09.759 --> 00:05:16.159
figured those out, I'm first going to restrict the axes that the turret base control can

72
00:05:16.159 --> 00:05:20.079
move in, and then I'll connect them up to the bones to see how they're actually affecting

73
00:05:20.079 --> 00:05:22.680
our mesh.

74
00:05:22.680 --> 00:05:27.519
So we just want to rotate in the z-axis.

75
00:05:27.519 --> 00:05:33.639
So what I'm going to do under the min, I'm going to activate the x and the y, and leave

76
00:05:33.639 --> 00:05:43.519
them at zero, and do the same for the max, again setting those to zero as well.

77
00:05:43.519 --> 00:05:49.719
So now if we were to connect these up using an FK chain, which we'll do now, we should

78
00:05:49.719 --> 00:05:54.680
be able to see how our controls are acting.

79
00:05:54.680 --> 00:05:59.560
So I'm going to select these two controls, drag them in and choose create item array.

80
00:05:59.560 --> 00:06:07.000
I'll just minimize that for now and plug that into the controls array pin on the FK chain.

81
00:06:07.000 --> 00:06:11.120
And then I'll come back to the top and find the two bones, do the same thing with those,

82
00:06:11.120 --> 00:06:17.759
drag those in, create item array, and I'll plug those into the bones pin.

83
00:06:17.759 --> 00:06:23.800
Now it's important that you select these in the right order, and that you have the turret

84
00:06:24.520 --> 00:06:28.840
base and the turret base in the same element number, and the main gun and main gun at the

85
00:06:28.840 --> 00:06:31.160
same element number.

86
00:06:31.160 --> 00:06:38.160
And when I connect up the logic, what we should see is that we can rotate this up and down,

87
00:06:38.160 --> 00:06:41.800
and our gun moves up and down.

88
00:06:41.800 --> 00:06:48.199
And if we rotate this along the z-axis, we can actually rotate the body of our gun.

89
00:06:48.199 --> 00:06:54.719
And we're not able to rotate an x or y for this, and the same with the actual gun itself.

90
00:06:54.719 --> 00:07:01.399
We can only rotate in the y, not the z or the x.

91
00:07:01.399 --> 00:07:06.319
Now if this gun section was part of the mesh that needed to be super accurate in terms

92
00:07:06.319 --> 00:07:10.839
of how many degrees it could rotate up and down, that's likely something that's been

93
00:07:10.839 --> 00:07:14.919
calculated when you were creating the mesh.

94
00:07:15.000 --> 00:07:19.640
So you'd know how many degrees to limit your rotation in the Minimax settings already.

95
00:07:19.640 --> 00:07:23.960
But for us, I'm just going to do this by eye and round the figures to the nearest point

96
00:07:23.960 --> 00:07:25.400
five.

97
00:07:25.400 --> 00:07:32.560
And to do this, if I come towards the control here and just take a look closer at our mesh,

98
00:07:32.560 --> 00:07:37.040
I'm going to open the current tab under the transform heading.

99
00:07:37.040 --> 00:07:42.639
And as we move this, you'll see that that value gets updated.

100
00:07:42.639 --> 00:07:50.719
So what I'm going to say is as we rotate down, maybe we don't want to go any more than something

101
00:07:50.719 --> 00:07:52.839
like six degrees there.

102
00:07:52.839 --> 00:07:55.879
Or maybe we could go touch further.

103
00:07:55.879 --> 00:08:00.079
Yeah, maybe we could go about nine degrees.

104
00:08:00.079 --> 00:08:03.399
So that would be our minimum offset.

105
00:08:03.399 --> 00:08:07.680
And our maximum, we just want to pull that up ever so slightly.

106
00:08:07.680 --> 00:08:12.599
I think from the previous testing, it's around about two and a half degrees.

107
00:08:12.600 --> 00:08:19.800
So I'm going to come to our Min setting here and activate the Y and set that to minus nine.

108
00:08:19.800 --> 00:08:25.360
And under the max, set that to 2.5.

109
00:08:25.360 --> 00:08:31.040
So now when I select this and try to rotate it, it'll come down all the way to nine degrees.

110
00:08:31.040 --> 00:08:33.960
And then it won't actually let me go any further.

111
00:08:33.960 --> 00:08:35.279
And the same when I'm going up.

112
00:08:35.279 --> 00:08:41.000
So it's now locked to this range of motion.

113
00:08:41.000 --> 00:08:47.039
So if you do have a range of motion, a specific number of degrees that something should rotate in,

114
00:08:47.039 --> 00:08:50.480
this is how you'd set up those values.

115
00:08:50.480 --> 00:08:57.399
So that's how we would go about setting a rotator type control and setting up the min and max axis,

116
00:08:57.399 --> 00:09:01.559
min and max values, should I say, on each axis.

117
00:09:01.559 --> 00:09:07.039
Next, we'll take a look at the IK3 bone function and set up one of the legs for this mech.

