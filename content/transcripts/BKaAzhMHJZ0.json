[
  {
    "text": "All right, welcome everyone. Thanks for",
    "start": 1.68,
    "duration": 3.2
  },
  {
    "text": "coming to my talk. My name is Matt",
    "start": 3.679,
    "duration": 2.881
  },
  {
    "text": "Campbell and today I'm going to be doing",
    "start": 4.88,
    "duration": 3.84
  },
  {
    "text": "a brief GPU technical perspective on",
    "start": 6.56,
    "duration": 4.8
  },
  {
    "text": "Avowad. A little bit about myself before",
    "start": 8.72,
    "duration": 4.56
  },
  {
    "text": "we begin. Uh I'm a senior graphics",
    "start": 11.36,
    "duration": 4.08
  },
  {
    "text": "engineer at Obsidian Entertainment. Uh I",
    "start": 13.28,
    "duration": 4.24
  },
  {
    "text": "was the lead graphics engineer on AOD.",
    "start": 15.44,
    "duration": 4.32
  },
  {
    "text": "Uh I've got over 15 years of experience",
    "start": 17.52,
    "duration": 4.16
  },
  {
    "text": "shipping games, having worked on",
    "start": 19.76,
    "duration": 3.279
  },
  {
    "text": "versions of Unreal all the way back to",
    "start": 21.68,
    "duration": 3.92
  },
  {
    "text": "UV2. And I've shipped games on multiple",
    "start": 23.039,
    "duration": 5.361
  },
  {
    "text": "consoles and platforms.",
    "start": 25.6,
    "duration": 4.24
  },
  {
    "text": "So a little bit about Avowed. If you're",
    "start": 28.4,
    "duration": 3.119
  },
  {
    "text": "not aware of what it is, uh it's a",
    "start": 29.84,
    "duration": 4.08
  },
  {
    "text": "single player action RPG. Uh we shipped",
    "start": 31.519,
    "duration": 5.441
  },
  {
    "text": "on Xbox Series SNX as well as PC. Uh",
    "start": 33.92,
    "duration": 4.639
  },
  {
    "text": "it's set in the Pillars of Eternity",
    "start": 36.96,
    "duration": 4.16
  },
  {
    "text": "universe. Uh in about you can play as",
    "start": 38.559,
    "duration": 5.281
  },
  {
    "text": "either first or third person. Uh it's a",
    "start": 41.12,
    "duration": 4.16
  },
  {
    "text": "combination of melee, ranged, and",
    "start": 43.84,
    "duration": 3.6
  },
  {
    "text": "spell-based combat with heavy focuses on",
    "start": 45.28,
    "duration": 5.119
  },
  {
    "text": "story, exploration, and parkour/",
    "start": 47.44,
    "duration": 5.599
  },
  {
    "text": "navigation. In about we had about five",
    "start": 50.399,
    "duration": 4.48
  },
  {
    "text": "large open zones and about 25",
    "start": 53.039,
    "duration": 4.081
  },
  {
    "text": "hard-loaded maps.",
    "start": 54.879,
    "duration": 3.52
  },
  {
    "text": "Uh so a little bit more about the team",
    "start": 57.12,
    "duration": 3.68
  },
  {
    "text": "size of Avowad. Uh at its peak Avow had",
    "start": 58.399,
    "duration": 4.8
  },
  {
    "text": "about a team size of with 100 internal",
    "start": 60.8,
    "duration": 4.96
  },
  {
    "text": "devs uh and 40 external codevs and that",
    "start": 63.199,
    "duration": 5.121
  },
  {
    "text": "was further uh subdivided into like a 15",
    "start": 65.76,
    "duration": 4.96
  },
  {
    "text": "person tech team with a technical",
    "start": 68.32,
    "duration": 3.92
  },
  {
    "text": "director, two internal graphics",
    "start": 70.72,
    "duration": 3.12
  },
  {
    "text": "engineers, myself being one of them",
    "start": 72.24,
    "duration": 3.04
  },
  {
    "text": "along with two additional external",
    "start": 73.84,
    "duration": 3.44
  },
  {
    "text": "codevs, five engine and tools",
    "start": 75.28,
    "duration": 4.479
  },
  {
    "text": "programmers internal with two additional",
    "start": 77.28,
    "duration": 4.24
  },
  {
    "text": "codevs, three technical artists and two",
    "start": 79.759,
    "duration": 3.68
  },
  {
    "text": "lighters. So we're a little bit light on",
    "start": 81.52,
    "duration": 3.36
  },
  {
    "text": "some of the engineering stuff and so",
    "start": 83.439,
    "duration": 4.241
  },
  {
    "text": "therefore we had to be pretty uh precise",
    "start": 84.88,
    "duration": 4.32
  },
  {
    "text": "with where we made changes and moved",
    "start": 87.68,
    "duration": 3.28
  },
  {
    "text": "with the VAD.",
    "start": 89.2,
    "duration": 3.68
  },
  {
    "text": "So early on AVOD started all the way",
    "start": 90.96,
    "duration": 5.44
  },
  {
    "text": "back in UE4. I believe it was 4.22 or",
    "start": 92.88,
    "duration": 6.72
  },
  {
    "text": "4.23. Um and for the purposes of this",
    "start": 96.4,
    "duration": 5.359
  },
  {
    "text": "talk the project goals that we were",
    "start": 99.6,
    "duration": 4.64
  },
  {
    "text": "really looking for were a open or near",
    "start": 101.759,
    "duration": 6.0
  },
  {
    "text": "open world uh big large vistas you know",
    "start": 104.24,
    "duration": 6.159
  },
  {
    "text": "looking out onto the maps. uh a fully",
    "start": 107.759,
    "duration": 5.201
  },
  {
    "text": "dynamic time of day uh with a not a lot",
    "start": 110.399,
    "duration": 4.161
  },
  {
    "text": "of natural lighting using global",
    "start": 112.96,
    "duration": 3.839
  },
  {
    "text": "illumination and a very organic world",
    "start": 114.56,
    "duration": 5.36
  },
  {
    "text": "with lots of foliage, caves and whatnot.",
    "start": 116.799,
    "duration": 5.041
  },
  {
    "text": "Uh when we shipped, we actually we",
    "start": 119.92,
    "duration": 4.799
  },
  {
    "text": "shipped on Unreal Engine 5.3.2",
    "start": 121.84,
    "duration": 4.8
  },
  {
    "text": "uh on Series S and X's as PC like I",
    "start": 124.719,
    "duration": 4.081
  },
  {
    "text": "said. Uh and we pretty much tried to",
    "start": 126.64,
    "duration": 4.08
  },
  {
    "text": "make use of every major Unreal Engine 5",
    "start": 128.8,
    "duration": 4.24
  },
  {
    "text": "technology available to us. Nanite,",
    "start": 130.72,
    "duration": 4.48
  },
  {
    "text": "Lumen, virtual shadow maps, texture,",
    "start": 133.04,
    "duration": 4.96
  },
  {
    "text": "virtual textures, uh Niagara and",
    "start": 135.2,
    "duration": 4.48
  },
  {
    "text": "whatnot. Uh for the purposes of this",
    "start": 138.0,
    "duration": 3.04
  },
  {
    "text": "talk, I'm really going to be focusing on",
    "start": 139.68,
    "duration": 2.96
  },
  {
    "text": "the top three. Uh but I will have a",
    "start": 141.04,
    "duration": 4.64
  },
  {
    "text": "slide on virtual textures.",
    "start": 142.64,
    "duration": 6.48
  },
  {
    "text": "Uh so when we shipped uh on Series X, we",
    "start": 145.68,
    "duration": 6.0
  },
  {
    "text": "had two uh quality modes. We had a or",
    "start": 149.12,
    "duration": 4.24
  },
  {
    "text": "two modes. We had a quality mode uh",
    "start": 151.68,
    "duration": 3.44
  },
  {
    "text": "running at 30 Hz where we rendered to an",
    "start": 153.36,
    "duration": 4.32
  },
  {
    "text": "internal resolution of 900p.",
    "start": 155.12,
    "duration": 5.04
  },
  {
    "text": "Uh we rendered full hardware uh rate",
    "start": 157.68,
    "duration": 4.72
  },
  {
    "text": "traced to lumen and we used a",
    "start": 160.16,
    "duration": 3.68
  },
  {
    "text": "combination of virtual shadow maps for",
    "start": 162.4,
    "duration": 3.119
  },
  {
    "text": "our directional light and hardware ray",
    "start": 163.84,
    "duration": 3.52
  },
  {
    "text": "tracing for our local lights. And then",
    "start": 165.519,
    "duration": 3.601
  },
  {
    "text": "we did hardware rate tracing reflections",
    "start": 167.36,
    "duration": 4.56
  },
  {
    "text": "for both lumin and single air water. On",
    "start": 169.12,
    "duration": 4.479
  },
  {
    "text": "our balance mode which was running at 40",
    "start": 171.92,
    "duration": 4.399
  },
  {
    "text": "hertz on s uh TVs that supported it. Uh",
    "start": 173.599,
    "duration": 4.481
  },
  {
    "text": "we rendered to an internal resolution of",
    "start": 176.319,
    "duration": 5.521
  },
  {
    "text": "1280p or sorry 1280p 720p on series X.",
    "start": 178.08,
    "duration": 5.28
  },
  {
    "text": "Um",
    "start": 181.84,
    "duration": 3.679
  },
  {
    "text": "again we use full hardware lumen with uh",
    "start": 183.36,
    "duration": 3.599
  },
  {
    "text": "virtual shadow map directional light and",
    "start": 185.519,
    "duration": 3.521
  },
  {
    "text": "hardware rate trace local lights. Uh",
    "start": 186.959,
    "duration": 3.601
  },
  {
    "text": "here we did ray tracing for our lumin",
    "start": 189.04,
    "duration": 3.04
  },
  {
    "text": "reflections but for single air water we",
    "start": 190.56,
    "duration": 3.759
  },
  {
    "text": "just did these green space reflection",
    "start": 192.08,
    "duration": 4.799
  },
  {
    "text": "already. In Xbox Series X, we had three",
    "start": 194.319,
    "duration": 4.321
  },
  {
    "text": "modes. Uh we had our quality mode",
    "start": 196.879,
    "duration": 3.761
  },
  {
    "text": "targeting 30 Hz. Uh where we rendered",
    "start": 198.64,
    "duration": 4.879
  },
  {
    "text": "internally at 1440p. Uh again, hardware",
    "start": 200.64,
    "duration": 4.72
  },
  {
    "text": "lumen, virtual shadow map, directional",
    "start": 203.519,
    "duration": 3.601
  },
  {
    "text": "light, raterace local lights, and full",
    "start": 205.36,
    "duration": 4.08
  },
  {
    "text": "rate trace reflections.",
    "start": 207.12,
    "duration": 4.64
  },
  {
    "text": "Uh our balance mode at 40 Hz, we're",
    "start": 209.44,
    "duration": 6.079
  },
  {
    "text": "rendering at 1280p. Uh same similar uh",
    "start": 211.76,
    "duration": 6.8
  },
  {
    "text": "target specs as above. And then we also",
    "start": 215.519,
    "duration": 5.121
  },
  {
    "text": "had a performance mode at running at 60",
    "start": 218.56,
    "duration": 5.039
  },
  {
    "text": "Hz. Uh on this one we uh targeted 1080p",
    "start": 220.64,
    "duration": 5.519
  },
  {
    "text": "up to 18800p. Uh and we used software",
    "start": 223.599,
    "duration": 4.081
  },
  {
    "text": "lumen along with full virtual shadow",
    "start": 226.159,
    "duration": 3.281
  },
  {
    "text": "maps for directional and local lights as",
    "start": 227.68,
    "duration": 2.96
  },
  {
    "text": "well as software lumen for our",
    "start": 229.44,
    "duration": 3.04
  },
  {
    "text": "reflections and single air water.",
    "start": 230.64,
    "duration": 3.599
  },
  {
    "text": "Although this actually was not a GPU",
    "start": 232.48,
    "duration": 4.0
  },
  {
    "text": "limitation. This was all CPU limited at",
    "start": 234.239,
    "duration": 3.441
  },
  {
    "text": "the time. So that's why we ended up",
    "start": 236.48,
    "duration": 3.039
  },
  {
    "text": "going there.",
    "start": 237.68,
    "duration": 3.36
  },
  {
    "text": "So here we have some uh pictures from",
    "start": 239.519,
    "duration": 3.521
  },
  {
    "text": "about. So here we have a picture of",
    "start": 241.04,
    "duration": 4.64
  },
  {
    "text": "Donsore looking over Paradise.",
    "start": 243.04,
    "duration": 3.919
  },
  {
    "text": "Uh we have a nighttime shot of",
    "start": 245.68,
    "duration": 3.199
  },
  {
    "text": "Dawnshore.",
    "start": 246.959,
    "duration": 4.721
  },
  {
    "text": "Here's one from Emerald Stair.",
    "start": 248.879,
    "duration": 5.44
  },
  {
    "text": "Uh here we have nakubel",
    "start": 251.68,
    "duration": 6.32
  },
  {
    "text": "ring's domain gallering tusk another",
    "start": 254.319,
    "duration": 6.561
  },
  {
    "text": "from gallering tusk in the archive",
    "start": 258.0,
    "duration": 6.08
  },
  {
    "text": "and solace keep.",
    "start": 260.88,
    "duration": 5.36
  },
  {
    "text": "So beginning with nanite uh nanite was",
    "start": 264.08,
    "duration": 4.64
  },
  {
    "text": "used extensively on uh anything and",
    "start": 266.24,
    "duration": 4.32
  },
  {
    "text": "everything we did we made nanite and",
    "start": 268.72,
    "duration": 2.96
  },
  {
    "text": "this was one of the biggest contributors",
    "start": 270.56,
    "duration": 4.4
  },
  {
    "text": "to about success. Um, it allowed for our",
    "start": 271.68,
    "duration": 5.92
  },
  {
    "text": "vast vistas with minimal LOD popping.",
    "start": 274.96,
    "duration": 4.239
  },
  {
    "text": "Um, and it was vital for keeping our",
    "start": 277.6,
    "duration": 3.28
  },
  {
    "text": "memory under control. Uh, especially on",
    "start": 279.199,
    "duration": 3.28
  },
  {
    "text": "the consoles, memory was a constant",
    "start": 280.88,
    "duration": 3.52
  },
  {
    "text": "struggle for us. So, being able to have",
    "start": 282.479,
    "duration": 3.681
  },
  {
    "text": "everything pulled for our meshes was",
    "start": 284.4,
    "duration": 4.96
  },
  {
    "text": "key. Um, and we ended up having to spend",
    "start": 286.16,
    "duration": 4.4
  },
  {
    "text": "a lot of time doing that. And it",
    "start": 289.36,
    "duration": 2.559
  },
  {
    "text": "actually ended up taking a major effort",
    "start": 290.56,
    "duration": 3.84
  },
  {
    "text": "by art and techart teams to do this. Um,",
    "start": 291.919,
    "duration": 4.961
  },
  {
    "text": "coming from UE4, we ended up having a",
    "start": 294.4,
    "duration": 4.56
  },
  {
    "text": "lot of masked materials. anything and",
    "start": 296.88,
    "duration": 4.4
  },
  {
    "text": "everything we did had Philly bits to it",
    "start": 298.96,
    "duration": 4.48
  },
  {
    "text": "that we had to convert over. Um, and",
    "start": 301.28,
    "duration": 3.28
  },
  {
    "text": "that took a lot of effort for",
    "start": 303.44,
    "duration": 2.64
  },
  {
    "text": "performance.",
    "start": 304.56,
    "duration": 2.72
  },
  {
    "text": "And of course, we also loved our",
    "start": 306.08,
    "duration": 2.72
  },
  {
    "text": "splines. So, we had to end up baking",
    "start": 307.28,
    "duration": 3.68
  },
  {
    "text": "splines because Nan at the time did not",
    "start": 308.8,
    "duration": 4.64
  },
  {
    "text": "support that.",
    "start": 310.96,
    "duration": 4.64
  },
  {
    "text": "Once we got everything merged over and",
    "start": 313.44,
    "duration": 4.56
  },
  {
    "text": "converted to opaque geometry, we found",
    "start": 315.6,
    "duration": 4.24
  },
  {
    "text": "that we were pretty much on Nanite as",
    "start": 318.0,
    "duration": 3.36
  },
  {
    "text": "far as Nan goes, bottlenecked by our",
    "start": 319.84,
    "duration": 4.32
  },
  {
    "text": "materials. Um, they were overly",
    "start": 321.36,
    "duration": 4.72
  },
  {
    "text": "complicated. This was another, you know,",
    "start": 324.16,
    "duration": 3.68
  },
  {
    "text": "hold over from UE4 where we didn't have",
    "start": 326.08,
    "duration": 3.6
  },
  {
    "text": "as much geometry. So, we ended up doing",
    "start": 327.84,
    "duration": 3.359
  },
  {
    "text": "a lot more work in our materials than we",
    "start": 329.68,
    "duration": 4.0
  },
  {
    "text": "probably should have. Um, Nanite already",
    "start": 331.199,
    "duration": 4.56
  },
  {
    "text": "is kind of high on the VGPR and BLU",
    "start": 333.68,
    "duration": 3.92
  },
  {
    "text": "usage. And then when we added in our",
    "start": 335.759,
    "duration": 3.28
  },
  {
    "text": "complicated materials with multiple",
    "start": 337.6,
    "duration": 3.12
  },
  {
    "text": "texture samples, it just got even",
    "start": 339.039,
    "duration": 3.201
  },
  {
    "text": "higher. And as a result, our occupancy",
    "start": 340.72,
    "duration": 2.96
  },
  {
    "text": "was never quite where we wanted it to",
    "start": 342.24,
    "duration": 2.959
  },
  {
    "text": "be.",
    "start": 343.68,
    "duration": 3.12
  },
  {
    "text": "Uh, also our heavy use of virtual",
    "start": 345.199,
    "duration": 2.961
  },
  {
    "text": "textures made us texture address bound",
    "start": 346.8,
    "duration": 3.76
  },
  {
    "text": "in these guys all the time. Uh, and",
    "start": 348.16,
    "duration": 4.4
  },
  {
    "text": "since we were on 53, we didn't have any",
    "start": 350.56,
    "duration": 4.72
  },
  {
    "text": "access to nanite compute shading or VRS.",
    "start": 352.56,
    "duration": 5.68
  },
  {
    "text": "So, we paid pixel per pixel.",
    "start": 355.28,
    "duration": 5.04
  },
  {
    "text": "Additionally, all of our variations were",
    "start": 358.24,
    "duration": 3.76
  },
  {
    "text": "done primarily through material",
    "start": 360.32,
    "duration": 3.52
  },
  {
    "text": "instances, uh, not custom primitive",
    "start": 362.0,
    "duration": 4.24
  },
  {
    "text": "data. So, we ended up having a lot of",
    "start": 363.84,
    "duration": 4.32
  },
  {
    "text": "passes on our base pass that were called",
    "start": 366.24,
    "duration": 3.76
  },
  {
    "text": "away and ended up being empty base pass",
    "start": 368.16,
    "duration": 4.56
  },
  {
    "text": "draws. Um, pretty much at the time, what",
    "start": 370.0,
    "duration": 4.479
  },
  {
    "text": "if it's loaded, nanite has to issue the",
    "start": 372.72,
    "duration": 3.039
  },
  {
    "text": "draw call for it, even it gets called",
    "start": 374.479,
    "duration": 3.681
  },
  {
    "text": "away. And so we would it was very common",
    "start": 375.759,
    "duration": 5.121
  },
  {
    "text": "for us to have one to two maybe even",
    "start": 378.16,
    "duration": 4.72
  },
  {
    "text": "more 100 nanoseconds of just empty draw",
    "start": 380.88,
    "duration": 4.8
  },
  {
    "text": "calls on the base pass.",
    "start": 382.88,
    "duration": 4.8
  },
  {
    "text": "Uh workcrafts in the future should help",
    "start": 385.68,
    "duration": 4.079
  },
  {
    "text": "address this. Uh but obviously we did",
    "start": 387.68,
    "duration": 5.359
  },
  {
    "text": "not have those.",
    "start": 389.759,
    "duration": 5.28
  },
  {
    "text": "Um and even then we still found that",
    "start": 393.039,
    "duration": 3.921
  },
  {
    "text": "oftent times we were getting you know we",
    "start": 395.039,
    "duration": 3.521
  },
  {
    "text": "were overloading nanite in the calling",
    "start": 396.96,
    "duration": 5.12
  },
  {
    "text": "passes having too much streamed in. Um",
    "start": 398.56,
    "duration": 4.8
  },
  {
    "text": "you know we weren't necessarily baking",
    "start": 402.08,
    "duration": 2.959
  },
  {
    "text": "our H logs a lot at first. This was",
    "start": 403.36,
    "duration": 4.16
  },
  {
    "text": "something we've really uh cracked down",
    "start": 405.039,
    "duration": 4.16
  },
  {
    "text": "on enforced later on in the game and it",
    "start": 407.52,
    "duration": 3.519
  },
  {
    "text": "had to do. Uh and then of course we also",
    "start": 409.199,
    "duration": 3.12
  },
  {
    "text": "had to adjust a lot of our streaming",
    "start": 411.039,
    "duration": 2.961
  },
  {
    "text": "sizes. The hope originally was that we",
    "start": 412.319,
    "duration": 3.921
  },
  {
    "text": "could have one streaming cell per uh",
    "start": 414.0,
    "duration": 4.8
  },
  {
    "text": "world partition tile. Um but we ended up",
    "start": 416.24,
    "duration": 4.079
  },
  {
    "text": "having to have a lot more as the game",
    "start": 418.8,
    "duration": 2.799
  },
  {
    "text": "progressed so we could get stuff like",
    "start": 420.319,
    "duration": 2.961
  },
  {
    "text": "knee height and below out of the scenes",
    "start": 421.599,
    "duration": 3.6
  },
  {
    "text": "earlier and remove from our log zero",
    "start": 423.28,
    "duration": 5.12
  },
  {
    "text": "instant meshes.",
    "start": 425.199,
    "duration": 5.041
  },
  {
    "text": "Uh foliage foliage was another thing",
    "start": 428.4,
    "duration": 3.28
  },
  {
    "text": "that took quite a bit of effort on our",
    "start": 430.24,
    "duration": 4.72
  },
  {
    "text": "art teams. Um, again coming from UE4,",
    "start": 431.68,
    "duration": 6.959
  },
  {
    "text": "uh, everything was non-9 masked cards.",
    "start": 434.96,
    "duration": 5.84
  },
  {
    "text": "Um, they had pretty expensive wind sims",
    "start": 438.639,
    "duration": 4.0
  },
  {
    "text": "on them. They had a lot of visual",
    "start": 440.8,
    "duration": 4.32
  },
  {
    "text": "loading issues. Uh, and they were not at",
    "start": 442.639,
    "duration": 5.921
  },
  {
    "text": "all performant with virtual shadow maps.",
    "start": 445.12,
    "duration": 5.76
  },
  {
    "text": "Wind nanite did start supporting uh,",
    "start": 448.56,
    "duration": 3.84
  },
  {
    "text": "foliage or you could put foliage in",
    "start": 450.88,
    "duration": 4.0
  },
  {
    "text": "Nite. We tried immediately just making",
    "start": 452.4,
    "duration": 4.96
  },
  {
    "text": "everything our alpha mask cards. Uh and",
    "start": 454.88,
    "duration": 5.039
  },
  {
    "text": "while it fixed our lootting issues, it",
    "start": 457.36,
    "duration": 5.119
  },
  {
    "text": "did not fix our uh render times at all.",
    "start": 459.919,
    "duration": 4.4
  },
  {
    "text": "Pretty much it moved all of our bad non-",
    "start": 462.479,
    "duration": 3.84
  },
  {
    "text": "Nani VSSM times become bad NI",
    "start": 464.319,
    "duration": 4.561
  },
  {
    "text": "rasterization times. So ultimately we",
    "start": 466.319,
    "duration": 4.32
  },
  {
    "text": "ended up breaking down and moving",
    "start": 468.88,
    "duration": 3.28
  },
  {
    "text": "everything from mass to opaque that we",
    "start": 470.639,
    "duration": 3.28
  },
  {
    "text": "could and this was vital to cut down on",
    "start": 472.16,
    "duration": 3.36
  },
  {
    "text": "all the per pixel operations and make",
    "start": 473.919,
    "duration": 4.4
  },
  {
    "text": "our rasterization as fast as possible.",
    "start": 475.52,
    "duration": 4.799
  },
  {
    "text": "Uh we still ended up using winds but we",
    "start": 478.319,
    "duration": 4.16
  },
  {
    "text": "had to do uh change them quite a bit on",
    "start": 480.319,
    "duration": 3.921
  },
  {
    "text": "our trees. We ended up using VATS and",
    "start": 482.479,
    "duration": 3.761
  },
  {
    "text": "WPO, but we did find this limiting in",
    "start": 484.24,
    "duration": 3.92
  },
  {
    "text": "the ultimately we were limited in how",
    "start": 486.24,
    "duration": 3.92
  },
  {
    "text": "many vertices we could have. They were",
    "start": 488.16,
    "duration": 3.68
  },
  {
    "text": "expensive memory wise. So, it's",
    "start": 490.16,
    "duration": 3.92
  },
  {
    "text": "something that while we shipped with it,",
    "start": 491.84,
    "duration": 3.759
  },
  {
    "text": "we're going to reevaluate and especially",
    "start": 494.08,
    "duration": 3.519
  },
  {
    "text": "with all the new lumen uh foliage stuff",
    "start": 495.599,
    "duration": 3.521
  },
  {
    "text": "coming out or not luminage, dynamic",
    "start": 497.599,
    "duration": 3.04
  },
  {
    "text": "foliage.",
    "start": 499.12,
    "duration": 3.919
  },
  {
    "text": "Uh and even then with all that stuff, we",
    "start": 500.639,
    "duration": 3.601
  },
  {
    "text": "still ended up being very aggressive",
    "start": 503.039,
    "duration": 4.481
  },
  {
    "text": "with our WBO uh disabling at distance.",
    "start": 504.24,
    "duration": 5.6
  },
  {
    "text": "Uh, I mean we changed thing we brought",
    "start": 507.52,
    "duration": 3.92
  },
  {
    "text": "things in really close at times and this",
    "start": 509.84,
    "duration": 2.559
  },
  {
    "text": "was really key to keeping our",
    "start": 511.44,
    "duration": 3.839
  },
  {
    "text": "rasterization times down and ultimately",
    "start": 512.399,
    "duration": 4.88
  },
  {
    "text": "on some a lot of assets we ended up",
    "start": 515.279,
    "duration": 3.601
  },
  {
    "text": "removing it entirely especially a lot of",
    "start": 517.279,
    "duration": 3.12
  },
  {
    "text": "the clutter on the ground the clovers",
    "start": 518.88,
    "duration": 2.88
  },
  {
    "text": "the little flowers and everything like",
    "start": 520.399,
    "duration": 3.361
  },
  {
    "text": "that that had to be turned off to get uh",
    "start": 521.76,
    "duration": 4.72
  },
  {
    "text": "keep our performance in line and even",
    "start": 523.76,
    "duration": 4.32
  },
  {
    "text": "then there were some assets such as our",
    "start": 526.48,
    "duration": 2.88
  },
  {
    "text": "cover grass which we couldn't make",
    "start": 528.08,
    "duration": 4.0
  },
  {
    "text": "opaque uh we have a dithering effect on",
    "start": 529.36,
    "duration": 4.24
  },
  {
    "text": "it when you enter in so we had to leave",
    "start": 532.08,
    "duration": 3.6
  },
  {
    "text": "that as masked um but to account for",
    "start": 533.6,
    "duration": 4.08
  },
  {
    "text": "this we tried a couple We did a couple",
    "start": 535.68,
    "duration": 4.08
  },
  {
    "text": "different things. Uh the first thing was",
    "start": 537.68,
    "duration": 4.0
  },
  {
    "text": "we just modeled as opaque. This helped",
    "start": 539.76,
    "duration": 3.36
  },
  {
    "text": "keep down on the overdraw as best it",
    "start": 541.68,
    "duration": 3.52
  },
  {
    "text": "could. We also limited the verticy",
    "start": 543.12,
    "duration": 3.76
  },
  {
    "text": "count. Uh these guys I think are around",
    "start": 545.2,
    "duration": 4.079
  },
  {
    "text": "30 or 3,000 verts and they're also quite",
    "start": 546.88,
    "duration": 4.32
  },
  {
    "text": "sparse which seem to help uh Nanite",
    "start": 549.279,
    "duration": 5.041
  },
  {
    "text": "rasterize them as best it could.",
    "start": 551.2,
    "duration": 4.8
  },
  {
    "text": "Uh so here we've got a couple",
    "start": 554.32,
    "duration": 5.44
  },
  {
    "text": "comparisons of the game in alpha right",
    "start": 556.0,
    "duration": 5.44
  },
  {
    "text": "after we switched over to our final",
    "start": 559.76,
    "duration": 4.24
  },
  {
    "text": "engine version. So these timings are for",
    "start": 561.44,
    "duration": 5.76
  },
  {
    "text": "Xbox Series S under 30 Hz mode. So in",
    "start": 564.0,
    "duration": 5.76
  },
  {
    "text": "alpha um or pretty late in alpha I would",
    "start": 567.2,
    "duration": 4.4
  },
  {
    "text": "say uh we were sitting at a total frame",
    "start": 569.76,
    "duration": 3.68
  },
  {
    "text": "time here in this scene uh outside of",
    "start": 571.6,
    "duration": 3.44
  },
  {
    "text": "paradise at about 46 and a half",
    "start": 573.44,
    "duration": 3.76
  },
  {
    "text": "milliseconds and we're spending about 5",
    "start": 575.04,
    "duration": 4.16
  },
  {
    "text": "mil or 4 milliseconds on our nanite vis",
    "start": 577.2,
    "duration": 4.079
  },
  {
    "text": "buffer 5 milliseconds on our base pass",
    "start": 579.2,
    "duration": 3.68
  },
  {
    "text": "and we're spending about 13 milliseconds",
    "start": 581.279,
    "duration": 3.68
  },
  {
    "text": "in our shadow depth pass and in this",
    "start": 582.88,
    "duration": 4.0
  },
  {
    "text": "particular one we have this masked brand",
    "start": 584.959,
    "duration": 3.601
  },
  {
    "text": "believes material which doesn't really",
    "start": 586.88,
    "duration": 2.88
  },
  {
    "text": "affect the scene much but it's still",
    "start": 588.56,
    "duration": 4.399
  },
  {
    "text": "taking 1.5 milliseconds to rasterize",
    "start": 589.76,
    "duration": 5.199
  },
  {
    "text": "after we had made all those changes",
    "start": 592.959,
    "duration": 4.161
  },
  {
    "text": "converted everything from masked to",
    "start": 594.959,
    "duration": 3.921
  },
  {
    "text": "opaque, adjusted our streaming",
    "start": 597.12,
    "duration": 3.68
  },
  {
    "text": "distances, disabled WPO. We were able to",
    "start": 598.88,
    "duration": 3.44
  },
  {
    "text": "get our final frame time down to about",
    "start": 600.8,
    "duration": 4.24
  },
  {
    "text": "30 milliseconds on Series S. Uh we ended",
    "start": 602.32,
    "duration": 5.04
  },
  {
    "text": "up having our nan viz bbuffer uh at",
    "start": 605.04,
    "duration": 4.799
  },
  {
    "text": "about 2.5 milliseconds and actually",
    "start": 607.36,
    "duration": 4.159
  },
  {
    "text": "moved the hardware and software from",
    "start": 609.839,
    "duration": 3.201
  },
  {
    "text": "overlapping to being sequential on the",
    "start": 611.519,
    "duration": 3.201
  },
  {
    "text": "graphics cube. And then we were able to",
    "start": 613.04,
    "duration": 3.12
  },
  {
    "text": "overlap that with the rate tracing scene",
    "start": 614.72,
    "duration": 4.64
  },
  {
    "text": "update. That saved us time. Uh we got",
    "start": 616.16,
    "duration": 6.0
  },
  {
    "text": "our base pass down to 3.5 milliseconds",
    "start": 619.36,
    "duration": 4.64
  },
  {
    "text": "and our VSSM cost dropped all the way",
    "start": 622.16,
    "duration": 3.04
  },
  {
    "text": "down to eight. Although this is",
    "start": 624.0,
    "duration": 3.279
  },
  {
    "text": "partially a result of us ch uh moving",
    "start": 625.2,
    "duration": 3.6
  },
  {
    "text": "over to rate tracing for local lights",
    "start": 627.279,
    "duration": 4.321
  },
  {
    "text": "which we'll get to later.",
    "start": 628.8,
    "duration": 4.479
  },
  {
    "text": "Uh here's another example from Emerald",
    "start": 631.6,
    "duration": 4.32
  },
  {
    "text": "Stair. Uh in this particular frame on",
    "start": 633.279,
    "duration": 5.201
  },
  {
    "text": "series S at 30 Hz, we were initially",
    "start": 635.92,
    "duration": 5.44
  },
  {
    "text": "rendering at about 53 milliseconds. Uh",
    "start": 638.48,
    "duration": 4.479
  },
  {
    "text": "pretty similar timings on the vis buffer",
    "start": 641.36,
    "duration": 3.52
  },
  {
    "text": "and base pass except our shadow depth",
    "start": 642.959,
    "duration": 4.401
  },
  {
    "text": "pass was much much worse.",
    "start": 644.88,
    "duration": 4.8
  },
  {
    "text": "uh sitting at 20 milliseconds and this",
    "start": 647.36,
    "duration": 5.52
  },
  {
    "text": "uh red foliage you can see here uh was",
    "start": 649.68,
    "duration": 5.36
  },
  {
    "text": "taking about 6 milliseconds to render in",
    "start": 652.88,
    "duration": 4.88
  },
  {
    "text": "the shadow depth pass",
    "start": 655.04,
    "duration": 5.12
  },
  {
    "text": "again uh you know making sure everything",
    "start": 657.76,
    "duration": 4.8
  },
  {
    "text": "was moved to opaque adjusting streaming",
    "start": 660.16,
    "duration": 5.04
  },
  {
    "text": "distances killing WPO at a distance we",
    "start": 662.56,
    "duration": 4.16
  },
  {
    "text": "were able to get our frame time frame",
    "start": 665.2,
    "duration": 4.48
  },
  {
    "text": "time down quite a bit just under 28",
    "start": 666.72,
    "duration": 5.679
  },
  {
    "text": "milliseconds uh similar timings again 2",
    "start": 669.68,
    "duration": 4.88
  },
  {
    "text": "point or 2 milliseconds viz buffer 3.5",
    "start": 672.399,
    "duration": 3.921
  },
  {
    "text": "base pass uh but our shadow death pass",
    "start": 674.56,
    "duration": 3.68
  },
  {
    "text": "we were able to down all the way down to",
    "start": 676.32,
    "duration": 3.519
  },
  {
    "text": "3 milliseconds and we actually ended up",
    "start": 678.24,
    "duration": 3.839
  },
  {
    "text": "having a 2 millisecond graphics Q stall",
    "start": 679.839,
    "duration": 6.56
  },
  {
    "text": "waiting for our lace our async pass.",
    "start": 682.079,
    "duration": 7.76
  },
  {
    "text": "So moving on to Lumen. So prior to UE5",
    "start": 686.399,
    "duration": 6.0
  },
  {
    "text": "and Lumen we looked at a variety of GI",
    "start": 689.839,
    "duration": 4.881
  },
  {
    "text": "solutions um and ultimately found they",
    "start": 692.399,
    "duration": 4.241
  },
  {
    "text": "were all lacking. You know a lot of",
    "start": 694.72,
    "duration": 4.0
  },
  {
    "text": "times the quality wasn't there. They",
    "start": 696.64,
    "duration": 4.72
  },
  {
    "text": "took extensive time baking. They had",
    "start": 698.72,
    "duration": 4.32
  },
  {
    "text": "huge engine integration costs that would",
    "start": 701.36,
    "duration": 3.68
  },
  {
    "text": "slow us down. Often times they had all",
    "start": 703.04,
    "duration": 5.359
  },
  {
    "text": "three. Uh so definitely when uh UE5 came",
    "start": 705.04,
    "duration": 4.72
  },
  {
    "text": "out with Lumen, this was one of the",
    "start": 708.399,
    "duration": 3.68
  },
  {
    "text": "primary things driving us to UE5. Uh",
    "start": 709.76,
    "duration": 4.079
  },
  {
    "text": "Nanite's great. It's really showy. It",
    "start": 712.079,
    "duration": 2.961
  },
  {
    "text": "helped a lot and we couldn't have",
    "start": 713.839,
    "duration": 2.961
  },
  {
    "text": "shipped without it, but we probably",
    "start": 715.04,
    "duration": 4.0
  },
  {
    "text": "could have stayed on U4. Lumen was",
    "start": 716.8,
    "duration": 3.36
  },
  {
    "text": "definitely the thing that probably drew",
    "start": 719.04,
    "duration": 2.96
  },
  {
    "text": "us to U5 and said, \"Yes, we should do",
    "start": 720.16,
    "duration": 4.239
  },
  {
    "text": "this.\" Um and in that regards, it",
    "start": 722.0,
    "duration": 3.92
  },
  {
    "text": "succeeded great. Uh you know, we were",
    "start": 724.399,
    "duration": 3.761
  },
  {
    "text": "able to hit all of our lighting goals um",
    "start": 725.92,
    "duration": 3.919
  },
  {
    "text": "with an incredibly small lighting team.",
    "start": 728.16,
    "duration": 3.04
  },
  {
    "text": "Remember, we have two lighters for the",
    "start": 729.839,
    "duration": 4.081
  },
  {
    "text": "entire game. And this was really down to",
    "start": 731.2,
    "duration": 4.639
  },
  {
    "text": "not being able or needing to bake. What",
    "start": 733.92,
    "duration": 3.52
  },
  {
    "text": "you see is what you get, which really",
    "start": 735.839,
    "duration": 3.361
  },
  {
    "text": "helped improve our iteration times and",
    "start": 737.44,
    "duration": 4.88
  },
  {
    "text": "got things going quickly.",
    "start": 739.2,
    "duration": 6.639
  },
  {
    "text": "Uh early on, uh we decided to focus on",
    "start": 742.32,
    "duration": 6.16
  },
  {
    "text": "hardware rate tracing. Um this was there",
    "start": 745.839,
    "duration": 4.0
  },
  {
    "text": "was a variety of things going into this",
    "start": 748.48,
    "duration": 2.96
  },
  {
    "text": "decision, but the primary one was light",
    "start": 749.839,
    "duration": 3.601
  },
  {
    "text": "bounce from landscapes. Uh it's a little",
    "start": 751.44,
    "duration": 3.68
  },
  {
    "text": "hard to see, but if you look at the top",
    "start": 753.44,
    "duration": 2.88
  },
  {
    "text": "versus bottom, you get a lot more",
    "start": 755.12,
    "duration": 2.64
  },
  {
    "text": "natural bounce on the hardware rate",
    "start": 756.32,
    "duration": 3.6
  },
  {
    "text": "trace versus the bottom.",
    "start": 757.76,
    "duration": 3.6
  },
  {
    "text": "Uh it also tended to be a lot more",
    "start": 759.92,
    "duration": 2.88
  },
  {
    "text": "accurate with a lot less light bleeding,",
    "start": 761.36,
    "duration": 3.599
  },
  {
    "text": "which is always good. Um and this",
    "start": 762.8,
    "duration": 4.24
  },
  {
    "text": "ultimately helped us uh ease transitions",
    "start": 764.959,
    "duration": 4.0
  },
  {
    "text": "into retro shadows later in the project.",
    "start": 767.04,
    "duration": 3.44
  },
  {
    "text": "So this was a win that we didn't even",
    "start": 768.959,
    "duration": 3.521
  },
  {
    "text": "know we were getting.",
    "start": 770.48,
    "duration": 3.52
  },
  {
    "text": "On Xbox, we were able to run this",
    "start": 772.48,
    "duration": 3.76
  },
  {
    "text": "entirely on async compute, which saved",
    "start": 774.0,
    "duration": 5.36
  },
  {
    "text": "us about 2 to 4 milliseconds on Series S",
    "start": 776.24,
    "duration": 5.2
  },
  {
    "text": "in our test scenes. Uh we also made",
    "start": 779.36,
    "duration": 4.24
  },
  {
    "text": "extensive use of inline rateracing. Uh",
    "start": 781.44,
    "duration": 4.48
  },
  {
    "text": "on Xbox Series S which saved in both",
    "start": 783.6,
    "duration": 3.84
  },
  {
    "text": "performance and memory since we could",
    "start": 785.92,
    "duration": 2.8
  },
  {
    "text": "just not have to worry about any rate",
    "start": 787.44,
    "duration": 2.48
  },
  {
    "text": "tracing shaders. We just did everything",
    "start": 788.72,
    "duration": 4.16
  },
  {
    "text": "in compute which was really nice.",
    "start": 789.92,
    "duration": 4.96
  },
  {
    "text": "On PC however we do stay on the graphics",
    "start": 792.88,
    "duration": 3.44
  },
  {
    "text": "queue with ray tracing and this is",
    "start": 794.88,
    "duration": 3.199
  },
  {
    "text": "really down to incomplete inline rate",
    "start": 796.32,
    "duration": 5.04
  },
  {
    "text": "tracing support D312 versions of Unreal.",
    "start": 798.079,
    "duration": 6.721
  },
  {
    "text": "Um but on async or on software versions",
    "start": 801.36,
    "duration": 6.56
  },
  {
    "text": "you do go back to async.",
    "start": 804.8,
    "duration": 4.479
  },
  {
    "text": "So here we have some comparisons. Here's",
    "start": 807.92,
    "duration": 4.159
  },
  {
    "text": "a version of software luminosian temple",
    "start": 809.279,
    "duration": 5.12
  },
  {
    "text": "versus hardware.",
    "start": 812.079,
    "duration": 4.801
  },
  {
    "text": "Here we've got one from shatterscarp.",
    "start": 814.399,
    "duration": 4.0
  },
  {
    "text": "Uh you get a much better bounce if you",
    "start": 816.88,
    "duration": 3.759
  },
  {
    "text": "can see under the bridge there. And",
    "start": 818.399,
    "duration": 3.841
  },
  {
    "text": "here's a really nice one from uh the",
    "start": 820.639,
    "duration": 5.601
  },
  {
    "text": "swamp in uh ES or Emerald Stair.",
    "start": 822.24,
    "duration": 6.96
  },
  {
    "text": "Again, software versus hardware.",
    "start": 826.24,
    "duration": 5.12
  },
  {
    "text": "So, continuing on, one of the things",
    "start": 829.2,
    "duration": 3.36
  },
  {
    "text": "that we are really lucky that we were",
    "start": 831.36,
    "duration": 3.279
  },
  {
    "text": "able to take uh huge advantage of in",
    "start": 832.56,
    "duration": 4.959
  },
  {
    "text": "Lumen is emissives. um our emissive",
    "start": 834.639,
    "duration": 4.241
  },
  {
    "text": "mushies as our lighters like to call",
    "start": 837.519,
    "duration": 3.201
  },
  {
    "text": "them we've were able to put all over the",
    "start": 838.88,
    "duration": 3.92
  },
  {
    "text": "map and use these at a lot of times as",
    "start": 840.72,
    "duration": 3.84
  },
  {
    "text": "full replacements for lighting. Uh one",
    "start": 842.8,
    "duration": 2.88
  },
  {
    "text": "of the ways we were able to really",
    "start": 844.56,
    "duration": 2.719
  },
  {
    "text": "succeed in doing this is by using the",
    "start": 845.68,
    "duration": 3.76
  },
  {
    "text": "rate tracing uh material node which",
    "start": 847.279,
    "duration": 3.92
  },
  {
    "text": "allowed us to specify separate values",
    "start": 849.44,
    "duration": 4.16
  },
  {
    "text": "for the emissives on the diffuse or the",
    "start": 851.199,
    "duration": 4.561
  },
  {
    "text": "rasterized scene versus the lumin scene.",
    "start": 853.6,
    "duration": 3.919
  },
  {
    "text": "So we would have probably a miss a value",
    "start": 855.76,
    "duration": 3.759
  },
  {
    "text": "of somewhere around one in the r in the",
    "start": 857.519,
    "duration": 3.12
  },
  {
    "text": "normal scene but then have something",
    "start": 859.519,
    "duration": 3.201
  },
  {
    "text": "like five or 10 in the ray tracing scene",
    "start": 860.639,
    "duration": 3.521
  },
  {
    "text": "and this allowed us to boost the light a",
    "start": 862.72,
    "duration": 4.88
  },
  {
    "text": "lot without causing any blowout.",
    "start": 864.16,
    "duration": 5.76
  },
  {
    "text": "Uh that said we still uh found ourselves",
    "start": 867.6,
    "duration": 4.479
  },
  {
    "text": "making quite a bit use of hidden miss",
    "start": 869.92,
    "duration": 4.56
  },
  {
    "text": "emissive mesh cards in the scenes. Um",
    "start": 872.079,
    "duration": 4.161
  },
  {
    "text": "these had minimal performance impact for",
    "start": 874.48,
    "duration": 4.08
  },
  {
    "text": "us just taking up surface cache space.",
    "start": 876.24,
    "duration": 4.64
  },
  {
    "text": "Uh but they did require us to modify the",
    "start": 878.56,
    "duration": 3.519
  },
  {
    "text": "engine to remove them from the",
    "start": 880.88,
    "duration": 3.36
  },
  {
    "text": "reflection passes. For hardware rate",
    "start": 882.079,
    "duration": 3.76
  },
  {
    "text": "tracing, this was pretty easy. We just",
    "start": 884.24,
    "duration": 3.039
  },
  {
    "text": "adjusted the rate tracing masks. We",
    "start": 885.839,
    "duration": 3.921
  },
  {
    "text": "added a new flag and it was called. Uh",
    "start": 887.279,
    "duration": 4.401
  },
  {
    "text": "but for software lumen, this did require",
    "start": 889.76,
    "duration": 4.319
  },
  {
    "text": "adding additional calling passes uh for",
    "start": 891.68,
    "duration": 4.64
  },
  {
    "text": "the mesh distance fields.",
    "start": 894.079,
    "duration": 3.681
  },
  {
    "text": "And every once in a while, we'd still",
    "start": 896.32,
    "duration": 2.879
  },
  {
    "text": "end up finding we needed a little bit",
    "start": 897.76,
    "duration": 3.04
  },
  {
    "text": "more. So we'd fall back to non-shadow",
    "start": 899.199,
    "duration": 4.08
  },
  {
    "text": "casting fill lights um when we found",
    "start": 900.8,
    "duration": 3.92
  },
  {
    "text": "that we were getting a little bit too",
    "start": 903.279,
    "duration": 2.881
  },
  {
    "text": "noisy in the lumen scene or we were",
    "start": 904.72,
    "duration": 4.72
  },
  {
    "text": "losing the specularity.",
    "start": 906.16,
    "duration": 5.359
  },
  {
    "text": "Um, so Lumen worked out fairly well, but",
    "start": 909.44,
    "duration": 3.519
  },
  {
    "text": "it definitely is a complicated beast and",
    "start": 911.519,
    "duration": 3.521
  },
  {
    "text": "we had some issues with it. Uh, one of",
    "start": 912.959,
    "duration": 3.841
  },
  {
    "text": "the first things is there's a lot of",
    "start": 915.04,
    "duration": 4.4
  },
  {
    "text": "passes in Lumen, a lot. Uh, and when you",
    "start": 916.8,
    "duration": 3.92
  },
  {
    "text": "have both hardware and software",
    "start": 919.44,
    "duration": 3.199
  },
  {
    "text": "pipelines to worry about, that gets even",
    "start": 920.72,
    "duration": 4.4
  },
  {
    "text": "higher. There's some overlap in them,",
    "start": 922.639,
    "duration": 4.081
  },
  {
    "text": "but there's a lot of divergence, too.",
    "start": 925.12,
    "duration": 3.04
  },
  {
    "text": "So, if you're maintaining both, it can",
    "start": 926.72,
    "duration": 4.08
  },
  {
    "text": "be a lot of work. Uh, and they can be",
    "start": 928.16,
    "duration": 5.039
  },
  {
    "text": "extremely difficult to debug at times.",
    "start": 930.8,
    "duration": 5.68
  },
  {
    "text": "Um, Lumen uses a lot of indirection when",
    "start": 933.199,
    "duration": 5.041
  },
  {
    "text": "it goes about building its scene. It'll",
    "start": 936.48,
    "duration": 3.359
  },
  {
    "text": "have one pass that will generate a bunch",
    "start": 938.24,
    "duration": 3.36
  },
  {
    "text": "of worklists that another pass will come",
    "start": 939.839,
    "duration": 3.921
  },
  {
    "text": "through and uh consume. And this ends up",
    "start": 941.6,
    "duration": 4.16
  },
  {
    "text": "breaking the association between the GPU",
    "start": 943.76,
    "duration": 3.68
  },
  {
    "text": "threads and the pixels you see on",
    "start": 945.76,
    "duration": 3.6
  },
  {
    "text": "screen. So, if you've got issues with,",
    "start": 947.44,
    "duration": 3.199
  },
  {
    "text": "you know, trying to figure out why",
    "start": 949.36,
    "duration": 3.2
  },
  {
    "text": "something is rendering uh the wrong",
    "start": 950.639,
    "duration": 3.12
  },
  {
    "text": "color or you're getting additional",
    "start": 952.56,
    "duration": 2.88
  },
  {
    "text": "noise, it's a lot harder to back trace",
    "start": 953.759,
    "duration": 3.121
  },
  {
    "text": "to figure out which thread is actually",
    "start": 955.44,
    "duration": 4.399
  },
  {
    "text": "the one doing the processing.",
    "start": 956.88,
    "duration": 4.879
  },
  {
    "text": "Uh, additionally, Lumen is, like I said,",
    "start": 959.839,
    "duration": 4.24
  },
  {
    "text": "very memory intensive. Uh, and on Series",
    "start": 961.759,
    "duration": 4.32
  },
  {
    "text": "S, this was always a problem for us. Uh,",
    "start": 964.079,
    "duration": 3.601
  },
  {
    "text": "Series S a little bit, not as much, but",
    "start": 966.079,
    "duration": 4.56
  },
  {
    "text": "Series S for sure. Uh, Lumen uses a lot",
    "start": 967.68,
    "duration": 4.399
  },
  {
    "text": "of render targets in addition to those",
    "start": 970.639,
    "duration": 3.281
  },
  {
    "text": "work groups. So, it's going to increase",
    "start": 972.079,
    "duration": 4.401
  },
  {
    "text": "your memory usage by quite a bit. Uh,",
    "start": 973.92,
    "duration": 3.76
  },
  {
    "text": "and one of the things that we end up",
    "start": 976.48,
    "duration": 3.2
  },
  {
    "text": "having to do on uh, consoles to account",
    "start": 977.68,
    "duration": 4.24
  },
  {
    "text": "for this is pretty much tossing away",
    "start": 979.68,
    "duration": 3.68
  },
  {
    "text": "mesh distance fields in favor of array",
    "start": 981.92,
    "duration": 4.08
  },
  {
    "text": "tracing BLS. um we couldn't afford both",
    "start": 983.36,
    "duration": 4.479
  },
  {
    "text": "and this had a knock-on effect as we'll",
    "start": 986.0,
    "duration": 3.759
  },
  {
    "text": "see with some reflection stuff as well",
    "start": 987.839,
    "duration": 4.24
  },
  {
    "text": "as a lot of our VFX weren't able to make",
    "start": 989.759,
    "duration": 3.921
  },
  {
    "text": "advantage or take use of the distance",
    "start": 992.079,
    "duration": 4.161
  },
  {
    "text": "fields nodes.",
    "start": 993.68,
    "duration": 4.959
  },
  {
    "text": "Uh and as a result we had a lot of you",
    "start": 996.24,
    "duration": 5.12
  },
  {
    "text": "know performance and quality battles. Um",
    "start": 998.639,
    "duration": 4.481
  },
  {
    "text": "every time we would increase the quality",
    "start": 1001.36,
    "duration": 4.0
  },
  {
    "text": "we'd you know lose memory and runtime",
    "start": 1003.12,
    "duration": 4.8
  },
  {
    "text": "performance and vice versa. So this was",
    "start": 1005.36,
    "duration": 4.159
  },
  {
    "text": "something that we struggled with and",
    "start": 1007.92,
    "duration": 4.4
  },
  {
    "text": "fine-tuned constantly. Uh, and of course",
    "start": 1009.519,
    "duration": 3.841
  },
  {
    "text": "we didn't make it very easy for",
    "start": 1012.32,
    "duration": 3.68
  },
  {
    "text": "ourselves a lot of times. Um, lumen is a",
    "start": 1013.36,
    "duration": 4.32
  },
  {
    "text": "temporally accumulated effect and when",
    "start": 1016.0,
    "duration": 3.279
  },
  {
    "text": "you have time of day jumps like we do,",
    "start": 1017.68,
    "duration": 3.519
  },
  {
    "text": "that doesn't work so well. Uh, so like",
    "start": 1019.279,
    "duration": 3.441
  },
  {
    "text": "when we were at, you know, middle of day",
    "start": 1021.199,
    "duration": 2.961
  },
  {
    "text": "and we'd switch to our party camp at",
    "start": 1022.72,
    "duration": 2.959
  },
  {
    "text": "night, we ended up literally throwing",
    "start": 1024.16,
    "duration": 3.279
  },
  {
    "text": "away the entire lumen scene and trying",
    "start": 1025.679,
    "duration": 3.441
  },
  {
    "text": "to rebuild it as fast as we could behind",
    "start": 1027.439,
    "duration": 4.321
  },
  {
    "text": "a fade. Additionally, we had a lot of",
    "start": 1029.12,
    "duration": 4.4
  },
  {
    "text": "flickering lights which themselves are",
    "start": 1031.76,
    "duration": 2.96
  },
  {
    "text": "not very temporally stable. So that",
    "start": 1033.52,
    "duration": 3.6
  },
  {
    "text": "added noise and we end up using a lot of",
    "start": 1034.72,
    "duration": 4.16
  },
  {
    "text": "bright VFX which would mess with a lot",
    "start": 1037.12,
    "duration": 5.6
  },
  {
    "text": "of the lumen screen effects.",
    "start": 1038.88,
    "duration": 6.079
  },
  {
    "text": "Uh moving on, some other issues or trip",
    "start": 1042.72,
    "duration": 4.8
  },
  {
    "text": "ups we found. Uh one of the big ones was",
    "start": 1044.959,
    "duration": 4.161
  },
  {
    "text": "how easy it is to waste your surface",
    "start": 1047.52,
    "duration": 3.76
  },
  {
    "text": "cache space. Uh we use a lot of large",
    "start": 1049.12,
    "duration": 4.24
  },
  {
    "text": "meshes in about uh we always want that",
    "start": 1051.28,
    "duration": 4.24
  },
  {
    "text": "sense of monolithic things. Uh and a lot",
    "start": 1053.36,
    "duration": 3.28
  },
  {
    "text": "of times they would sneak into the",
    "start": 1055.52,
    "duration": 2.56
  },
  {
    "text": "surface cache. They would just touch a",
    "start": 1056.64,
    "duration": 2.64
  },
  {
    "text": "little bit of the play space and all of",
    "start": 1058.08,
    "duration": 2.719
  },
  {
    "text": "a sudden you'd be wasting about a fifth",
    "start": 1059.28,
    "duration": 4.24
  },
  {
    "text": "of your surface cache on a mountain that",
    "start": 1060.799,
    "duration": 5.601
  },
  {
    "text": "didn't affect the indirect scene. Um,",
    "start": 1063.52,
    "duration": 4.64
  },
  {
    "text": "this is something that we, you know,",
    "start": 1066.4,
    "duration": 3.2
  },
  {
    "text": "sometimes is hard to catch until it's",
    "start": 1068.16,
    "duration": 2.8
  },
  {
    "text": "too late and adds a lot of noise as",
    "start": 1069.6,
    "duration": 3.12
  },
  {
    "text": "you're constantly evicting pages to",
    "start": 1070.96,
    "duration": 4.4
  },
  {
    "text": "account for it. Additionally, a lot of",
    "start": 1072.72,
    "duration": 4.24
  },
  {
    "text": "our meshes were watertight, so we had",
    "start": 1075.36,
    "duration": 2.96
  },
  {
    "text": "back faces to them. So, those would",
    "start": 1076.96,
    "duration": 2.64
  },
  {
    "text": "generate additional mesh cards that",
    "start": 1078.32,
    "duration": 4.16
  },
  {
    "text": "would sometimes end up in there. Uh, and",
    "start": 1079.6,
    "duration": 4.88
  },
  {
    "text": "ultimately, you know, we just ended up",
    "start": 1082.48,
    "duration": 3.52
  },
  {
    "text": "doing the hard work of manually going in",
    "start": 1084.48,
    "duration": 2.88
  },
  {
    "text": "and removing these, and it took a little",
    "start": 1086.0,
    "duration": 2.799
  },
  {
    "text": "bit of time. So, that's something we",
    "start": 1087.36,
    "duration": 3.76
  },
  {
    "text": "needed to come up with later or a",
    "start": 1088.799,
    "duration": 4.081
  },
  {
    "text": "solution down the road. Uh we did",
    "start": 1091.12,
    "duration": 3.6
  },
  {
    "text": "experiment with limiting mesh cards at",
    "start": 1092.88,
    "duration": 3.52
  },
  {
    "text": "times, especially near the end of the",
    "start": 1094.72,
    "duration": 4.16
  },
  {
    "text": "project. Um by default, Lum I think",
    "start": 1096.4,
    "duration": 3.92
  },
  {
    "text": "generates about 12 mesh cards per",
    "start": 1098.88,
    "duration": 3.2
  },
  {
    "text": "object. Uh and for something like a",
    "start": 1100.32,
    "duration": 3.28
  },
  {
    "text": "wall, you could easily get by with one",
    "start": 1102.08,
    "duration": 4.08
  },
  {
    "text": "or two. Um and well, so we would drop",
    "start": 1103.6,
    "duration": 4.16
  },
  {
    "text": "that down and sometimes it worked and",
    "start": 1106.16,
    "duration": 3.36
  },
  {
    "text": "then sometimes we'd get the mesh card on",
    "start": 1107.76,
    "duration": 4.24
  },
  {
    "text": "the back face. Uh so either our option",
    "start": 1109.52,
    "duration": 5.12
  },
  {
    "text": "was increase the number of mesh cards or",
    "start": 1112.0,
    "duration": 4.24
  },
  {
    "text": "what we ultimately ended up doing is",
    "start": 1114.64,
    "duration": 3.76
  },
  {
    "text": "adding a mod to bias which faces get",
    "start": 1116.24,
    "duration": 3.92
  },
  {
    "text": "their preference so we could force it to",
    "start": 1118.4,
    "duration": 4.48
  },
  {
    "text": "the front.",
    "start": 1120.16,
    "duration": 5.6
  },
  {
    "text": "Um, lastly on Lumen, uh, or at least the",
    "start": 1122.88,
    "duration": 4.88
  },
  {
    "text": "regular Lumen, it's got a lot of knobs",
    "start": 1125.76,
    "duration": 3.44
  },
  {
    "text": "to tweak. You know, there's tons and",
    "start": 1127.76,
    "duration": 4.24
  },
  {
    "text": "tons of C bars to adjust and fine-tune.",
    "start": 1129.2,
    "duration": 4.479
  },
  {
    "text": "Um, and then on top of that, you've got",
    "start": 1132.0,
    "duration": 3.36
  },
  {
    "text": "a lot of post-process settings that sit",
    "start": 1133.679,
    "duration": 3.521
  },
  {
    "text": "on top of it. And sometimes we'll adjust",
    "start": 1135.36,
    "duration": 3.84
  },
  {
    "text": "these further. And while a lot of these",
    "start": 1137.2,
    "duration": 4.96
  },
  {
    "text": "are important to adjust and save, not",
    "start": 1139.2,
    "duration": 4.719
  },
  {
    "text": "all of them are. We found, you know, in",
    "start": 1142.16,
    "duration": 3.519
  },
  {
    "text": "the worst ca in some cases, we found",
    "start": 1143.919,
    "duration": 3.76
  },
  {
    "text": "that they would waste memory when they",
    "start": 1145.679,
    "duration": 4.161
  },
  {
    "text": "should actually be saving memory.",
    "start": 1147.679,
    "duration": 3.521
  },
  {
    "text": "Sometimes we'd find that they would",
    "start": 1149.84,
    "duration": 2.8
  },
  {
    "text": "generate and propagate nans down the",
    "start": 1151.2,
    "duration": 3.68
  },
  {
    "text": "rendering pipeline. Uh and in worst",
    "start": 1152.64,
    "duration": 4.0
  },
  {
    "text": "cases we found occasional GPU memory",
    "start": 1154.88,
    "duration": 4.24
  },
  {
    "text": "stomps as it would write out of LDS",
    "start": 1156.64,
    "duration": 4.159
  },
  {
    "text": "bounds.",
    "start": 1159.12,
    "duration": 3.439
  },
  {
    "text": "Uh this is an example of it wasting",
    "start": 1160.799,
    "duration": 4.24
  },
  {
    "text": "memory that we found. Uh this is the",
    "start": 1162.559,
    "duration": 4.801
  },
  {
    "text": "radiance cache screen probes when you",
    "start": 1165.039,
    "duration": 4.321
  },
  {
    "text": "set it to 96 which is the default",
    "start": 1167.36,
    "duration": 4.48
  },
  {
    "text": "setting for Xbox. Uh it allocates the",
    "start": 1169.36,
    "duration": 4.48
  },
  {
    "text": "texture assuming you got a a full",
    "start": 1171.84,
    "duration": 4.8
  },
  {
    "text": "square. Uh, but the log the indexing is",
    "start": 1173.84,
    "duration": 4.4
  },
  {
    "text": "actually logarithmic, so it clamps",
    "start": 1176.64,
    "duration": 3.84
  },
  {
    "text": "everything that's not a power of two all",
    "start": 1178.24,
    "duration": 4.64
  },
  {
    "text": "the way down to its smallest one. So,",
    "start": 1180.48,
    "duration": 3.92
  },
  {
    "text": "you end up wasting about a third of this",
    "start": 1182.88,
    "duration": 4.159
  },
  {
    "text": "texture. Uh, for us, we ended up just",
    "start": 1184.4,
    "duration": 4.08
  },
  {
    "text": "changing the way the texture was created",
    "start": 1187.039,
    "duration": 3.281
  },
  {
    "text": "and that saved us there. Uh, but this is",
    "start": 1188.48,
    "duration": 4.8
  },
  {
    "text": "something to keep an eye out for.",
    "start": 1190.32,
    "duration": 5.599
  },
  {
    "text": "Uh, lumin reflections. Um, these by",
    "start": 1193.28,
    "duration": 4.639
  },
  {
    "text": "default on 53 were on the graphics",
    "start": 1195.919,
    "duration": 3.521
  },
  {
    "text": "queue, but thankfully it was really",
    "start": 1197.919,
    "duration": 3.601
  },
  {
    "text": "simple to move into the async queue, so",
    "start": 1199.44,
    "duration": 4.32
  },
  {
    "text": "recommend doing it. Um, hit lighting was",
    "start": 1201.52,
    "duration": 4.159
  },
  {
    "text": "something that we added for PC, but",
    "start": 1203.76,
    "duration": 3.2
  },
  {
    "text": "unfortunately we're not able to get on",
    "start": 1205.679,
    "duration": 4.0
  },
  {
    "text": "Xbox. Um, it ended up not being a huge",
    "start": 1206.96,
    "duration": 4.16
  },
  {
    "text": "deal in the long term because most of",
    "start": 1209.679,
    "duration": 3.281
  },
  {
    "text": "the traced hits were in the surface",
    "start": 1211.12,
    "duration": 3.2
  },
  {
    "text": "cache. It really only affects the",
    "start": 1212.96,
    "duration": 3.28
  },
  {
    "text": "dynamic stuff that was missing. Um, but",
    "start": 1214.32,
    "duration": 3.12
  },
  {
    "text": "it was something we wish we could have",
    "start": 1216.24,
    "duration": 4.799
  },
  {
    "text": "done. Um, that said, one another trip up",
    "start": 1217.44,
    "duration": 5.76
  },
  {
    "text": "we found with lumin reflections is it",
    "start": 1221.039,
    "duration": 3.681
  },
  {
    "text": "proved to be quite difficult for our",
    "start": 1223.2,
    "duration": 3.12
  },
  {
    "text": "artists to figure out what was casting a",
    "start": 1224.72,
    "duration": 3.68
  },
  {
    "text": "lumin reflection and what wasn't. um",
    "start": 1226.32,
    "duration": 3.52
  },
  {
    "text": "they like to work in textures and",
    "start": 1228.4,
    "duration": 3.12
  },
  {
    "text": "gradients and so when you say hey",
    "start": 1229.84,
    "duration": 3.68
  },
  {
    "text": "anything below point4 is tracing they'd",
    "start": 1231.52,
    "duration": 4.0
  },
  {
    "text": "be like what does that mean I I got this",
    "start": 1233.52,
    "duration": 5.24
  },
  {
    "text": "from Photoshop.",
    "start": 1235.52,
    "duration": 3.24
  },
  {
    "text": "Uh and then also uh a lot of lumin",
    "start": 1238.799,
    "duration": 4.0
  },
  {
    "text": "reflections are ignorant of single air",
    "start": 1241.44,
    "duration": 2.64
  },
  {
    "text": "water by default. So if you have any",
    "start": 1242.799,
    "duration": 2.641
  },
  {
    "text": "reflective surfaces underneath the",
    "start": 1244.08,
    "duration": 2.56
  },
  {
    "text": "single air water plane you're going to",
    "start": 1245.44,
    "duration": 2.96
  },
  {
    "text": "pay twice for the reflections. Uh this",
    "start": 1246.64,
    "duration": 3.2
  },
  {
    "text": "is something we found in our Bingham's",
    "start": 1248.4,
    "duration": 3.04
  },
  {
    "text": "domain map where we had reflective ice",
    "start": 1249.84,
    "duration": 3.36
  },
  {
    "text": "underneath water and so we ended up",
    "start": 1251.44,
    "duration": 4.16
  },
  {
    "text": "paying twice for reflections. We did",
    "start": 1253.2,
    "duration": 3.839
  },
  {
    "text": "modify the engine here to account for",
    "start": 1255.6,
    "duration": 3.439
  },
  {
    "text": "this. We pretty much took the single",
    "start": 1257.039,
    "duration": 3.841
  },
  {
    "text": "layer water uh depth buffer and then",
    "start": 1259.039,
    "duration": 3.281
  },
  {
    "text": "passed it to the reflections and then",
    "start": 1260.88,
    "duration": 3.12
  },
  {
    "text": "used a depth test there to save on",
    "start": 1262.32,
    "duration": 3.68
  },
  {
    "text": "those.",
    "start": 1264.0,
    "duration": 3.44
  },
  {
    "text": "Uh speaking of single layer water",
    "start": 1266.0,
    "duration": 5.039
  },
  {
    "text": "reflections, uh by default in 53 it was",
    "start": 1267.44,
    "duration": 5.68
  },
  {
    "text": "full a full screen pass. Uh you did a",
    "start": 1271.039,
    "duration": 3.361
  },
  {
    "text": "full screen screen space and then",
    "start": 1273.12,
    "duration": 3.039
  },
  {
    "text": "whatever didn't hit you wouldn't with a",
    "start": 1274.4,
    "duration": 3.2
  },
  {
    "text": "hardware rate traced full screen after",
    "start": 1276.159,
    "duration": 4.161
  },
  {
    "text": "that. Uh which while looking nice was",
    "start": 1277.6,
    "duration": 4.64
  },
  {
    "text": "not very performant for us and",
    "start": 1280.32,
    "duration": 4.4
  },
  {
    "text": "definitely caused some trouble.",
    "start": 1282.24,
    "duration": 4.64
  },
  {
    "text": "uh software lumen is great to account",
    "start": 1284.72,
    "duration": 3.92
  },
  {
    "text": "for this and much cheaper if you don't",
    "start": 1286.88,
    "duration": 3.12
  },
  {
    "text": "get rid of your distance fields like we",
    "start": 1288.64,
    "duration": 4.24
  },
  {
    "text": "did. Um so ultimately we looked at a",
    "start": 1290.0,
    "duration": 4.159
  },
  {
    "text": "couple different options. The initial",
    "start": 1292.88,
    "duration": 2.88
  },
  {
    "text": "one we did is well we can just down",
    "start": 1294.159,
    "duration": 3.681
  },
  {
    "text": "sample or these passes but because",
    "start": 1295.76,
    "duration": 3.84
  },
  {
    "text": "they're tied together we ended up",
    "start": 1297.84,
    "duration": 3.12
  },
  {
    "text": "getting some really poor quality",
    "start": 1299.6,
    "duration": 2.4
  },
  {
    "text": "especially on the screen space",
    "start": 1300.96,
    "duration": 3.839
  },
  {
    "text": "reflection part. Uh we could look at",
    "start": 1302.0,
    "duration": 5.36
  },
  {
    "text": "sing or screen space only uh reflections",
    "start": 1304.799,
    "duration": 4.961
  },
  {
    "text": "which we did do on some of our um",
    "start": 1307.36,
    "duration": 5.12
  },
  {
    "text": "lowerend uh SKs. uh but they do have",
    "start": 1309.76,
    "duration": 4.399
  },
  {
    "text": "some problems with exposure and light",
    "start": 1312.48,
    "duration": 4.559
  },
  {
    "text": "leaking. Um and while we did find a",
    "start": 1314.159,
    "duration": 5.201
  },
  {
    "text": "acceptable solution for this at the end,",
    "start": 1317.039,
    "duration": 3.601
  },
  {
    "text": "uh it's something that we wanted to",
    "start": 1319.36,
    "duration": 2.72
  },
  {
    "text": "avoid if we could especially on some of",
    "start": 1320.64,
    "duration": 4.8
  },
  {
    "text": "the higherend uh targets like Xbox at 30",
    "start": 1322.08,
    "duration": 5.68
  },
  {
    "text": "Hz. And of course you have that issue of",
    "start": 1325.44,
    "duration": 4.0
  },
  {
    "text": "reflections disappearing as things start",
    "start": 1327.76,
    "duration": 3.68
  },
  {
    "text": "leaving the screen. Uh so ultimately",
    "start": 1329.44,
    "duration": 4.239
  },
  {
    "text": "here's we did another mod here where we",
    "start": 1331.44,
    "duration": 4.0
  },
  {
    "text": "uh modified it to do a hybrid approach.",
    "start": 1333.679,
    "duration": 3.921
  },
  {
    "text": "So we kept the full screen uh screen",
    "start": 1335.44,
    "duration": 3.68
  },
  {
    "text": "space reflections and then we ended up",
    "start": 1337.6,
    "duration": 3.04
  },
  {
    "text": "doing a down sampling for the lumen",
    "start": 1339.12,
    "duration": 2.88
  },
  {
    "text": "hardware. we pretty much worked on a",
    "start": 1340.64,
    "duration": 3.44
  },
  {
    "text": "quad and we'd write out a mask. So,",
    "start": 1342.0,
    "duration": 3.2
  },
  {
    "text": "anything that didn't get the screen",
    "start": 1344.08,
    "duration": 2.479
  },
  {
    "text": "space, we would then go and take the",
    "start": 1345.2,
    "duration": 3.359
  },
  {
    "text": "coarser lumin reflections and that",
    "start": 1346.559,
    "duration": 4.881
  },
  {
    "text": "worked fairly well. Um, especially on",
    "start": 1348.559,
    "duration": 5.921
  },
  {
    "text": "still or, you know, water with little",
    "start": 1351.44,
    "duration": 4.96
  },
  {
    "text": "movement or pretty flat, you couldn't",
    "start": 1354.48,
    "duration": 3.439
  },
  {
    "text": "tell the difference. And even on some of",
    "start": 1356.4,
    "duration": 3.04
  },
  {
    "text": "the really rougher stuff, it it barely",
    "start": 1357.919,
    "duration": 3.76
  },
  {
    "text": "showed up. And on this particular scene",
    "start": 1359.44,
    "duration": 4.0
  },
  {
    "text": "on Series S, it saved about8",
    "start": 1361.679,
    "duration": 4.401
  },
  {
    "text": "milliseconds, which is a big win.",
    "start": 1363.44,
    "duration": 4.88
  },
  {
    "text": "Uh, and another thing that I feel or",
    "start": 1366.08,
    "duration": 3.52
  },
  {
    "text": "artists are constantly getting tripped",
    "start": 1368.32,
    "duration": 3.12
  },
  {
    "text": "up about is single layer water by",
    "start": 1369.6,
    "duration": 3.76
  },
  {
    "text": "default is always a perfect mirror for",
    "start": 1371.44,
    "duration": 4.0
  },
  {
    "text": "reflections. Uh, so a lot of times they",
    "start": 1373.36,
    "duration": 3.76
  },
  {
    "text": "would paint single layer water or they",
    "start": 1375.44,
    "duration": 2.96
  },
  {
    "text": "put down a single air water plane and",
    "start": 1377.12,
    "duration": 3.439
  },
  {
    "text": "then they paint in some muck like in the",
    "start": 1378.4,
    "duration": 5.36
  },
  {
    "text": "um the swamp to try to get timing back",
    "start": 1380.559,
    "duration": 5.12
  },
  {
    "text": "unaware that that would still do a full",
    "start": 1383.76,
    "duration": 4.0
  },
  {
    "text": "lumin reflection trace. Uh, this is",
    "start": 1385.679,
    "duration": 4.081
  },
  {
    "text": "another place where I end up adding in a",
    "start": 1387.76,
    "duration": 3.76
  },
  {
    "text": "mod to do another max roughness trace",
    "start": 1389.76,
    "duration": 4.799
  },
  {
    "text": "that we tied to scalability.",
    "start": 1391.52,
    "duration": 5.76
  },
  {
    "text": "So moving along to shadows.",
    "start": 1394.559,
    "duration": 6.321
  },
  {
    "text": "Um so on a vowed we did a a variety of",
    "start": 1397.28,
    "duration": 5.519
  },
  {
    "text": "options for shadows or or a collection",
    "start": 1400.88,
    "duration": 4.64
  },
  {
    "text": "of techniques. Uh we used virtual shadow",
    "start": 1402.799,
    "duration": 4.88
  },
  {
    "text": "maps for our directional map. Uh we used",
    "start": 1405.52,
    "duration": 3.68
  },
  {
    "text": "ray tracing for our local lights",
    "start": 1407.679,
    "duration": 4.321
  },
  {
    "text": "whenever we had ray tracing. And we used",
    "start": 1409.2,
    "duration": 4.32
  },
  {
    "text": "uh contact shadows for everything that",
    "start": 1412.0,
    "duration": 3.039
  },
  {
    "text": "was small along the ground or when we",
    "start": 1413.52,
    "duration": 3.68
  },
  {
    "text": "were doing our conversation lighting.",
    "start": 1415.039,
    "duration": 4.481
  },
  {
    "text": "Um, not to be too surprised by this, but",
    "start": 1417.2,
    "duration": 3.92
  },
  {
    "text": "shadows ended up being the bulk of our",
    "start": 1419.52,
    "duration": 2.96
  },
  {
    "text": "performance struggles even before we",
    "start": 1421.12,
    "duration": 3.12
  },
  {
    "text": "switched to ray tracing shadows, which",
    "start": 1422.48,
    "duration": 3.92
  },
  {
    "text": "actually saved us, and they contain a",
    "start": 1424.24,
    "duration": 5.04
  },
  {
    "text": "bulk of our modifications and additions.",
    "start": 1426.4,
    "duration": 5.36
  },
  {
    "text": "So, virtual shadow maps, you know, right",
    "start": 1429.28,
    "duration": 3.68
  },
  {
    "text": "off the bat, they're better than",
    "start": 1431.76,
    "duration": 2.64
  },
  {
    "text": "cascade. There was no reason not to use",
    "start": 1432.96,
    "duration": 3.12
  },
  {
    "text": "them when we switched, especially with",
    "start": 1434.4,
    "duration": 3.92
  },
  {
    "text": "Nanite. They're kind of required. Um,",
    "start": 1436.08,
    "duration": 4.32
  },
  {
    "text": "and they worked really well for the",
    "start": 1438.32,
    "duration": 3.04
  },
  {
    "text": "directional light. They allowed for",
    "start": 1440.4,
    "duration": 2.72
  },
  {
    "text": "those vast distant far shadows in our",
    "start": 1441.36,
    "duration": 4.559
  },
  {
    "text": "vistas and saved us there. But",
    "start": 1443.12,
    "duration": 4.08
  },
  {
    "text": "performance-wise, they do require",
    "start": 1445.919,
    "duration": 3.201
  },
  {
    "text": "nanite. If you're using VSSM, you have",
    "start": 1447.2,
    "duration": 3.28
  },
  {
    "text": "to use nanite to get any sort of",
    "start": 1449.12,
    "duration": 2.72
  },
  {
    "text": "performance. Uh, and if you're using",
    "start": 1450.48,
    "duration": 2.96
  },
  {
    "text": "nanite, you really should use VSMs",
    "start": 1451.84,
    "duration": 2.8
  },
  {
    "text": "unless you're doing some sort of rate",
    "start": 1453.44,
    "duration": 4.239
  },
  {
    "text": "tracing. But even then, we can find we",
    "start": 1454.64,
    "duration": 4.399
  },
  {
    "text": "still struggled with performance quite a",
    "start": 1457.679,
    "duration": 3.6
  },
  {
    "text": "bit. Uh, anything that wasn't nanite or",
    "start": 1459.039,
    "duration": 5.601
  },
  {
    "text": "skinned meshes at the time uh hurt uh as",
    "start": 1461.279,
    "duration": 4.721
  },
  {
    "text": "well as anything that was per pixel",
    "start": 1464.64,
    "duration": 3.12
  },
  {
    "text": "evaluation in nanite. So, your mass",
    "start": 1466.0,
    "duration": 3.679
  },
  {
    "text": "materials, your WPO, your pixel death",
    "start": 1467.76,
    "duration": 3.2
  },
  {
    "text": "offset. And that's one of the reasons",
    "start": 1469.679,
    "duration": 2.88
  },
  {
    "text": "why we worked really really hard to get",
    "start": 1470.96,
    "duration": 3.04
  },
  {
    "text": "rid of as many mass materials as",
    "start": 1472.559,
    "duration": 4.0
  },
  {
    "text": "possible and turn off our WO as early as",
    "start": 1474.0,
    "duration": 4.159
  },
  {
    "text": "possible.",
    "start": 1476.559,
    "duration": 3.521
  },
  {
    "text": "Additionally, shadow pen numbers uh with",
    "start": 1478.159,
    "duration": 4.161
  },
  {
    "text": "virtual shadow maps have a cost. Uh they",
    "start": 1480.08,
    "duration": 3.599
  },
  {
    "text": "have to sample the shadow map multiple",
    "start": 1482.32,
    "duration": 3.12
  },
  {
    "text": "times and use that to get softer uh",
    "start": 1483.679,
    "duration": 3.681
  },
  {
    "text": "shadows. And so that's another thing you",
    "start": 1485.44,
    "duration": 4.239
  },
  {
    "text": "have to keep in mind.",
    "start": 1487.36,
    "duration": 3.679
  },
  {
    "text": "That said, we did find a couple",
    "start": 1489.679,
    "duration": 2.801
  },
  {
    "text": "modifications that we thought we'd share",
    "start": 1491.039,
    "duration": 2.561
  },
  {
    "text": "that really helped with our virtual",
    "start": 1492.48,
    "duration": 3.84
  },
  {
    "text": "shadow maps. Uh the first, and these are",
    "start": 1493.6,
    "duration": 4.24
  },
  {
    "text": "actually pretty easy modifications we",
    "start": 1496.32,
    "duration": 3.599
  },
  {
    "text": "made, so they work really well. Uh the",
    "start": 1497.84,
    "duration": 4.24
  },
  {
    "text": "first is just reducing the number of uh",
    "start": 1499.919,
    "duration": 3.601
  },
  {
    "text": "shadow rays you're shooting at a",
    "start": 1502.08,
    "duration": 3.36
  },
  {
    "text": "distance. I think this is for us this",
    "start": 1503.52,
    "duration": 3.36
  },
  {
    "text": "was about one line. We just take the",
    "start": 1505.44,
    "duration": 3.04
  },
  {
    "text": "scene depth, log it by 10, and then",
    "start": 1506.88,
    "duration": 3.679
  },
  {
    "text": "adjust accordingly. And on series S in",
    "start": 1508.48,
    "duration": 3.84
  },
  {
    "text": "this particular shot, it saved about",
    "start": 1510.559,
    "duration": 4.401
  },
  {
    "text": "half a millisecond. That's a good win.",
    "start": 1512.32,
    "duration": 5.12
  },
  {
    "text": "Uh even more so, we found another mod in",
    "start": 1514.96,
    "duration": 4.079
  },
  {
    "text": "the Nanite instance calling where we",
    "start": 1517.44,
    "duration": 2.88
  },
  {
    "text": "could actually callull shadows under a",
    "start": 1519.039,
    "duration": 3.281
  },
  {
    "text": "certain pixel threshold and get a lot",
    "start": 1520.32,
    "duration": 3.839
  },
  {
    "text": "back. Uh so in the top and the bottom",
    "start": 1522.32,
    "duration": 3.599
  },
  {
    "text": "there's a difference of no calling",
    "start": 1524.159,
    "duration": 4.241
  },
  {
    "text": "versus a calling radius of 24. It's",
    "start": 1525.919,
    "duration": 3.921
  },
  {
    "text": "really hard to tell the difference if",
    "start": 1528.4,
    "duration": 3.6
  },
  {
    "text": "you're looking right at them. You might",
    "start": 1529.84,
    "duration": 3.52
  },
  {
    "text": "be able to see it in the back with some",
    "start": 1532.0,
    "duration": 3.84
  },
  {
    "text": "of the the pillars. Um, and on Series S",
    "start": 1533.36,
    "duration": 4.24
  },
  {
    "text": "in this particular scene, it saved us",
    "start": 1535.84,
    "duration": 3.839
  },
  {
    "text": "over three milliseconds. So, this was a",
    "start": 1537.6,
    "duration": 4.559
  },
  {
    "text": "huge savings for us and it was for one",
    "start": 1539.679,
    "duration": 6.081
  },
  {
    "text": "to two lines of code.",
    "start": 1542.159,
    "duration": 5.361
  },
  {
    "text": "Additionally, because we were doing ray",
    "start": 1545.76,
    "duration": 3.919
  },
  {
    "text": "tracing and our rate tracing loads uh",
    "start": 1547.52,
    "duration": 3.759
  },
  {
    "text": "were generally much lower than our",
    "start": 1549.679,
    "duration": 3.761
  },
  {
    "text": "actual rasterization laws, uh we ended",
    "start": 1551.279,
    "duration": 4.801
  },
  {
    "text": "up reusing these guys a lot for um our",
    "start": 1553.44,
    "duration": 4.239
  },
  {
    "text": "directional lights. Uh in this",
    "start": 1556.08,
    "duration": 3.199
  },
  {
    "text": "particular scene, we were able to save",
    "start": 1557.679,
    "duration": 3.441
  },
  {
    "text": "almost a millisecond by using our ray",
    "start": 1559.279,
    "duration": 3.601
  },
  {
    "text": "traced skinned meshes instead of our",
    "start": 1561.12,
    "duration": 3.84
  },
  {
    "text": "rasterization ones. And again, it's",
    "start": 1562.88,
    "duration": 3.52
  },
  {
    "text": "really hard to tell the difference if",
    "start": 1564.96,
    "duration": 4.64
  },
  {
    "text": "you're comparing them side by side. And",
    "start": 1566.4,
    "duration": 5.68
  },
  {
    "text": "then fairly in the project, we al also",
    "start": 1569.6,
    "duration": 4.88
  },
  {
    "text": "added another smaller setting um where",
    "start": 1572.08,
    "duration": 4.56
  },
  {
    "text": "we were able to adjust uh the light",
    "start": 1574.48,
    "duration": 4.559
  },
  {
    "text": "source radius on VSMS to reduce the",
    "start": 1576.64,
    "duration": 3.84
  },
  {
    "text": "protection cost there. And we use this",
    "start": 1579.039,
    "duration": 3.681
  },
  {
    "text": "for our series S or series X 60 Hz and",
    "start": 1580.48,
    "duration": 4.64
  },
  {
    "text": "lower NPCs.",
    "start": 1582.72,
    "duration": 4.959
  },
  {
    "text": "So, rate trace shadows. Um, the theory",
    "start": 1585.12,
    "duration": 4.0
  },
  {
    "text": "behind this and why we ended up",
    "start": 1587.679,
    "duration": 3.201
  },
  {
    "text": "exploring them was that our local light",
    "start": 1589.12,
    "duration": 3.919
  },
  {
    "text": "VSSM invalidation was proving incredibly",
    "start": 1590.88,
    "duration": 4.24
  },
  {
    "text": "costly. Anytime you have a dynamic",
    "start": 1593.039,
    "duration": 3.681
  },
  {
    "text": "object going through a local light, it",
    "start": 1595.12,
    "duration": 2.799
  },
  {
    "text": "would invalidate it and it would want to",
    "start": 1596.72,
    "duration": 4.0
  },
  {
    "text": "re rerender all of its shadow maps.",
    "start": 1597.919,
    "duration": 5.521
  },
  {
    "text": "Unreal does have the static separate to",
    "start": 1600.72,
    "duration": 4.8
  },
  {
    "text": "kind of count for account for this, but",
    "start": 1603.44,
    "duration": 3.359
  },
  {
    "text": "it doubles your memory, which is",
    "start": 1605.52,
    "duration": 2.56
  },
  {
    "text": "something we couldn't afford on the",
    "start": 1606.799,
    "duration": 3.521
  },
  {
    "text": "consoles. So, we had to figure out other",
    "start": 1608.08,
    "duration": 4.079
  },
  {
    "text": "solutions. And and that's really where",
    "start": 1610.32,
    "duration": 3.76
  },
  {
    "text": "RA tracing it, you know, came in. We're",
    "start": 1612.159,
    "duration": 3.601
  },
  {
    "text": "only tracing the pixels we see on",
    "start": 1614.08,
    "duration": 3.12
  },
  {
    "text": "screen. We're not worrying about stuff",
    "start": 1615.76,
    "duration": 2.96
  },
  {
    "text": "behind characters or things that are",
    "start": 1617.2,
    "duration": 3.68
  },
  {
    "text": "oluded. Um, just trace what's on the",
    "start": 1618.72,
    "duration": 4.4
  },
  {
    "text": "screen. Uh, additionally, with ray",
    "start": 1620.88,
    "duration": 3.76
  },
  {
    "text": "tracing shadows, you get free shadow",
    "start": 1623.12,
    "duration": 3.84
  },
  {
    "text": "numbers. So, that's always nice. Um, and",
    "start": 1624.64,
    "duration": 3.519
  },
  {
    "text": "since we're already using hardware",
    "start": 1626.96,
    "duration": 2.48
  },
  {
    "text": "lumen, we didn't have to worry about",
    "start": 1628.159,
    "duration": 2.961
  },
  {
    "text": "adding in any additional passes in the",
    "start": 1629.44,
    "duration": 4.0
  },
  {
    "text": "scene. Just our ray tracing stuff and",
    "start": 1631.12,
    "duration": 3.76
  },
  {
    "text": "then everything else was already paid",
    "start": 1633.44,
    "duration": 3.92
  },
  {
    "text": "for and accounted for. It also had the",
    "start": 1634.88,
    "duration": 4.0
  },
  {
    "text": "nice benefit of allowing for some sort",
    "start": 1637.36,
    "duration": 3.679
  },
  {
    "text": "of partial shadowing solutions uh where",
    "start": 1638.88,
    "duration": 4.56
  },
  {
    "text": "we could have uh things in the VSSM",
    "start": 1641.039,
    "duration": 3.921
  },
  {
    "text": "shadow and not in the rate tracing",
    "start": 1643.44,
    "duration": 4.479
  },
  {
    "text": "shadow. So something like um you know",
    "start": 1644.96,
    "duration": 5.12
  },
  {
    "text": "the tops of a cave so they could receive",
    "start": 1647.919,
    "duration": 3.921
  },
  {
    "text": "shadows but they wouldn't actually cast",
    "start": 1650.08,
    "duration": 3.28
  },
  {
    "text": "any on the local lights by just removing",
    "start": 1651.84,
    "duration": 3.28
  },
  {
    "text": "them from the rate tracing scene. We did",
    "start": 1653.36,
    "duration": 4.319
  },
  {
    "text": "this fairly often with trees to save",
    "start": 1655.12,
    "duration": 4.4
  },
  {
    "text": "time.",
    "start": 1657.679,
    "duration": 3.36
  },
  {
    "text": "So a little bit more about our rate",
    "start": 1659.52,
    "duration": 2.88
  },
  {
    "text": "tracing. Uh this is something we",
    "start": 1661.039,
    "duration": 2.721
  },
  {
    "text": "actually implemented quite late in the",
    "start": 1662.4,
    "duration": 3.6
  },
  {
    "text": "project uh and about after our 5.3",
    "start": 1663.76,
    "duration": 4.56
  },
  {
    "text": "upgrade. So a little uh over about a",
    "start": 1666.0,
    "duration": 5.2
  },
  {
    "text": "year out from ship. Uh we ended up using",
    "start": 1668.32,
    "duration": 5.12
  },
  {
    "text": "it for all local lights uh whenever rate",
    "start": 1671.2,
    "duration": 4.56
  },
  {
    "text": "tracing is enabled due to performance.",
    "start": 1673.44,
    "duration": 4.0
  },
  {
    "text": "We ended up using a custom pass and",
    "start": 1675.76,
    "duration": 4.56
  },
  {
    "text": "noiser that we wrote. Um the stock",
    "start": 1677.44,
    "duration": 4.959
  },
  {
    "text": "Unreal rate trace shadows at least in 53",
    "start": 1680.32,
    "duration": 5.04
  },
  {
    "text": "were not very uh performant for us. Uh",
    "start": 1682.399,
    "duration": 5.28
  },
  {
    "text": "they pretty much use a full screen",
    "start": 1685.36,
    "duration": 4.48
  },
  {
    "text": "dispatch and render target per light. So",
    "start": 1687.679,
    "duration": 3.681
  },
  {
    "text": "if you've got eight lights, that's eight",
    "start": 1689.84,
    "duration": 2.88
  },
  {
    "text": "full screen passes and eight render",
    "start": 1691.36,
    "duration": 3.039
  },
  {
    "text": "targets that it keeps off to den",
    "start": 1692.72,
    "duration": 3.679
  },
  {
    "text": "noiseise, which was not something we",
    "start": 1694.399,
    "duration": 4.081
  },
  {
    "text": "could afford.",
    "start": 1696.399,
    "duration": 3.841
  },
  {
    "text": "Additionally, we ended up having to",
    "start": 1698.48,
    "duration": 4.0
  },
  {
    "text": "create an inline volumetric fog version",
    "start": 1700.24,
    "duration": 4.64
  },
  {
    "text": "for our ray trace shadows since uh that",
    "start": 1702.48,
    "duration": 4.079
  },
  {
    "text": "just used the regular ray tracing shader",
    "start": 1704.88,
    "duration": 4.0
  },
  {
    "text": "and we got rid of those. Um and but we",
    "start": 1706.559,
    "duration": 3.84
  },
  {
    "text": "were actually then able to refactor the",
    "start": 1708.88,
    "duration": 3.44
  },
  {
    "text": "volumetric fog function just enough that",
    "start": 1710.399,
    "duration": 3.601
  },
  {
    "text": "we could kick off the shadows early on",
    "start": 1712.32,
    "duration": 3.68
  },
  {
    "text": "it and then hide their cost behind async",
    "start": 1714.0,
    "duration": 4.0
  },
  {
    "text": "lumen. Uh most of the time we ended up",
    "start": 1716.0,
    "duration": 4.72
  },
  {
    "text": "using our volutric fog um shadows. We",
    "start": 1718.0,
    "duration": 5.44
  },
  {
    "text": "were in levels like this where we didn't",
    "start": 1720.72,
    "duration": 4.24
  },
  {
    "text": "actually have a directional light. So",
    "start": 1723.44,
    "duration": 3.839
  },
  {
    "text": "our async uh lumen pass would ended up",
    "start": 1724.96,
    "duration": 4.079
  },
  {
    "text": "going running quite long compared to the",
    "start": 1727.279,
    "duration": 3.28
  },
  {
    "text": "graphics. And so we ended up getting",
    "start": 1729.039,
    "duration": 3.201
  },
  {
    "text": "rate trace volumetric fog shadows for",
    "start": 1730.559,
    "duration": 3.521
  },
  {
    "text": "free.",
    "start": 1732.24,
    "duration": 3.76
  },
  {
    "text": "So a little bit more about our custom",
    "start": 1734.08,
    "duration": 4.319
  },
  {
    "text": "pass. Uh it's similar in theory to the",
    "start": 1736.0,
    "duration": 4.799
  },
  {
    "text": "VSSM one pass projection. Uh we pretty",
    "start": 1738.399,
    "duration": 4.321
  },
  {
    "text": "much use the cold light grid, trace the",
    "start": 1740.799,
    "duration": 3.201
  },
  {
    "text": "shadows and then write them back into a",
    "start": 1742.72,
    "duration": 3.28
  },
  {
    "text": "pack shadow mask. Uh this came about",
    "start": 1744.0,
    "duration": 3.679
  },
  {
    "text": "before megalytes was a thing and even",
    "start": 1746.0,
    "duration": 3.44
  },
  {
    "text": "now mega lights is still experimental so",
    "start": 1747.679,
    "duration": 4.0
  },
  {
    "text": "it works quite well for us. Um we",
    "start": 1749.44,
    "duration": 4.08
  },
  {
    "text": "supported eight lights per pixel by",
    "start": 1751.679,
    "duration": 4.24
  },
  {
    "text": "default and this was more just a don't",
    "start": 1753.52,
    "duration": 4.0
  },
  {
    "text": "go crazy with things lighting artists",
    "start": 1755.919,
    "duration": 3.36
  },
  {
    "text": "and they were able to work with it means",
    "start": 1757.52,
    "duration": 5.36
  },
  {
    "text": "very well. We had two modes. Uh we had a",
    "start": 1759.279,
    "duration": 5.841
  },
  {
    "text": "full screen pass where we allowed for",
    "start": 1762.88,
    "duration": 4.24
  },
  {
    "text": "more or one or more samples per pixels",
    "start": 1765.12,
    "duration": 4.159
  },
  {
    "text": "per light. Uh which we used on high-end",
    "start": 1767.12,
    "duration": 5.2
  },
  {
    "text": "PCs. And then we had a checkerboard uh",
    "start": 1769.279,
    "duration": 6.241
  },
  {
    "text": "mode for consoles and lower uh quality",
    "start": 1772.32,
    "duration": 4.4
  },
  {
    "text": "things where we would render a",
    "start": 1775.52,
    "duration": 2.8
  },
  {
    "text": "checkerboard and then we would upscale",
    "start": 1776.72,
    "duration": 3.12
  },
  {
    "text": "and reconstruct and then retrace",
    "start": 1778.32,
    "duration": 3.28
  },
  {
    "text": "whatever we weren't confident with. Uh",
    "start": 1779.84,
    "duration": 3.28
  },
  {
    "text": "this ended up being quite a bit under",
    "start": 1781.6,
    "duration": 3.76
  },
  {
    "text": "one sample per pixel per light. And we",
    "start": 1783.12,
    "duration": 4.159
  },
  {
    "text": "use this, like I said, on Xbox. And on",
    "start": 1785.36,
    "duration": 3.84
  },
  {
    "text": "Xbox Series S, it would on average save",
    "start": 1787.279,
    "duration": 4.721
  },
  {
    "text": "about 1 to one and a half milliseconds.",
    "start": 1789.2,
    "duration": 4.16
  },
  {
    "text": "And here you can see where all the",
    "start": 1792.0,
    "duration": 5.559
  },
  {
    "text": "shadows are coming from and whatnot.",
    "start": 1793.36,
    "duration": 4.199
  },
  {
    "text": "So, some comparison shots. Uh, first up,",
    "start": 1797.6,
    "duration": 6.319
  },
  {
    "text": "we have uh this one from Fior uh with in",
    "start": 1800.399,
    "duration": 5.441
  },
  {
    "text": "in alpha. We were sitting at about 40",
    "start": 1803.919,
    "duration": 4.721
  },
  {
    "text": "milliseconds on series S 30 Hz uh with",
    "start": 1805.84,
    "duration": 4.959
  },
  {
    "text": "about 11 milliseconds in our VSSM shadow",
    "start": 1808.64,
    "duration": 3.68
  },
  {
    "text": "depths and 8 milliseconds on our",
    "start": 1810.799,
    "duration": 3.201
  },
  {
    "text": "projections.",
    "start": 1812.32,
    "duration": 3.599
  },
  {
    "text": "After we had uh made our change to ray",
    "start": 1814.0,
    "duration": 3.44
  },
  {
    "text": "tracing, we were able to get this down",
    "start": 1815.919,
    "duration": 3.921
  },
  {
    "text": "to about 25 milliseconds, spending 3",
    "start": 1817.44,
    "duration": 4.16
  },
  {
    "text": "milliseconds on our VSSM shadow depths",
    "start": 1819.84,
    "duration": 3.92
  },
  {
    "text": "and 3 milliseconds on our ray tracing.",
    "start": 1821.6,
    "duration": 3.36
  },
  {
    "text": "Um and then our projection was an",
    "start": 1823.76,
    "duration": 3.76
  },
  {
    "text": "initial tube for VSSM. If we turned off",
    "start": 1824.96,
    "duration": 4.56
  },
  {
    "text": "rate tracing and just said, okay, let's",
    "start": 1827.52,
    "duration": 4.399
  },
  {
    "text": "just see what the content was. Uh our",
    "start": 1829.52,
    "duration": 4.24
  },
  {
    "text": "rate tracing was still faster than our",
    "start": 1831.919,
    "duration": 4.64
  },
  {
    "text": "VSSMs by about 4 milliseconds. Uh with",
    "start": 1833.76,
    "duration": 5.36
  },
  {
    "text": "the VSSM cost shooting back up to 9.5",
    "start": 1836.559,
    "duration": 4.72
  },
  {
    "text": "and an additional 2 milliseconds for um",
    "start": 1839.12,
    "duration": 4.159
  },
  {
    "text": "projections and filtering. If you were",
    "start": 1841.279,
    "duration": 3.681
  },
  {
    "text": "to compare it to the stock Unreal rate",
    "start": 1843.279,
    "duration": 3.841
  },
  {
    "text": "traceray shadows, uh frame time was even",
    "start": 1844.96,
    "duration": 4.719
  },
  {
    "text": "worse, uh it was about 34 milliseconds",
    "start": 1847.12,
    "duration": 4.4
  },
  {
    "text": "where you'd be spending 18 milliseconds",
    "start": 1849.679,
    "duration": 4.24
  },
  {
    "text": "on rate tracing and denoising. So, it",
    "start": 1851.52,
    "duration": 3.6
  },
  {
    "text": "was definitely worthwhile to write that",
    "start": 1853.919,
    "duration": 2.961
  },
  {
    "text": "pass.",
    "start": 1855.12,
    "duration": 3.2
  },
  {
    "text": "Uh here's another example from",
    "start": 1856.88,
    "duration": 3.76
  },
  {
    "text": "Nakukubell.",
    "start": 1858.32,
    "duration": 5.28
  },
  {
    "text": "Uh alpha frame time for series 30 Hz was",
    "start": 1860.64,
    "duration": 6.24
  },
  {
    "text": "about 37.5 milliseconds uh with 13",
    "start": 1863.6,
    "duration": 5.52
  },
  {
    "text": "milliseconds of VSM shadow depths and",
    "start": 1866.88,
    "duration": 4.96
  },
  {
    "text": "1.5 for projections. And the volutric",
    "start": 1869.12,
    "duration": 4.559
  },
  {
    "text": "fog at this point was sequential with",
    "start": 1871.84,
    "duration": 4.719
  },
  {
    "text": "the rest of it. Our final frame time",
    "start": 1873.679,
    "duration": 5.041
  },
  {
    "text": "with all of our changes was about 23 a",
    "start": 1876.559,
    "duration": 4.24
  },
  {
    "text": "little over 23 milliseconds. And we were",
    "start": 1878.72,
    "duration": 4.24
  },
  {
    "text": "spending 3.5 milliseconds on array trace",
    "start": 1880.799,
    "duration": 3.681
  },
  {
    "text": "shadows. And we had no VSMs at this",
    "start": 1882.96,
    "duration": 2.64
  },
  {
    "text": "point since there was no directional",
    "start": 1884.48,
    "duration": 2.64
  },
  {
    "text": "light.",
    "start": 1885.6,
    "duration": 2.88
  },
  {
    "text": "And these 2 milliseconds we were",
    "start": 1887.12,
    "duration": 3.039
  },
  {
    "text": "spending for the volutric shadows were",
    "start": 1888.48,
    "duration": 3.52
  },
  {
    "text": "free. They were, you know, hidden behind",
    "start": 1890.159,
    "duration": 4.721
  },
  {
    "text": "our async lumin costs. Uh again, turning",
    "start": 1892.0,
    "duration": 5.76
  },
  {
    "text": "off ray tracing and just using VSMS, uh",
    "start": 1894.88,
    "duration": 5.679
  },
  {
    "text": "we would jump up to 25 a.5 milliseconds.",
    "start": 1897.76,
    "duration": 4.56
  },
  {
    "text": "uh spending about 9.3 milliseconds on",
    "start": 1900.559,
    "duration": 3.281
  },
  {
    "text": "our shadow depths. And this is roughly",
    "start": 1902.32,
    "duration": 3.28
  },
  {
    "text": "what we saw is that the more characters",
    "start": 1903.84,
    "duration": 3.28
  },
  {
    "text": "and dynamic objects in the lighting",
    "start": 1905.6,
    "duration": 2.959
  },
  {
    "text": "scene, the more you would get back from",
    "start": 1907.12,
    "duration": 4.399
  },
  {
    "text": "ray tracing.",
    "start": 1908.559,
    "duration": 4.321
  },
  {
    "text": "So a little bit a couple more notes",
    "start": 1911.519,
    "duration": 5.441
  },
  {
    "text": "about rate tracing. Um so on 53 not all",
    "start": 1912.88,
    "duration": 5.76
  },
  {
    "text": "of the passes were on async. Some of",
    "start": 1916.96,
    "duration": 3.04
  },
  {
    "text": "them were still in the graphics queue.",
    "start": 1918.64,
    "duration": 3.36
  },
  {
    "text": "We moved everything over to async and",
    "start": 1920.0,
    "duration": 3.519
  },
  {
    "text": "this worked out well and it was pretty",
    "start": 1922.0,
    "duration": 3.519
  },
  {
    "text": "easy. Uh we also ended up moving the",
    "start": 1923.519,
    "duration": 3.601
  },
  {
    "text": "rate uh rate tracing scene update",
    "start": 1925.519,
    "duration": 3.28
  },
  {
    "text": "earlier in the frame. By default, it",
    "start": 1927.12,
    "duration": 3.52
  },
  {
    "text": "ran, I think, over the base pass. We",
    "start": 1928.799,
    "duration": 3.441
  },
  {
    "text": "moved it to run over the prez and anti",
    "start": 1930.64,
    "duration": 4.56
  },
  {
    "text": "visbuffer, and this saved us time.",
    "start": 1932.24,
    "duration": 4.88
  },
  {
    "text": "Uh, we did end up preventing landscapes",
    "start": 1935.2,
    "duration": 3.359
  },
  {
    "text": "from rebuilding every frame, which is",
    "start": 1937.12,
    "duration": 4.0
  },
  {
    "text": "the default behavior. Uh, this is done",
    "start": 1938.559,
    "duration": 4.96
  },
  {
    "text": "so that you can keep Basses in sync with",
    "start": 1941.12,
    "duration": 4.88
  },
  {
    "text": "their the landscape streaming. Uh, and",
    "start": 1943.519,
    "duration": 4.241
  },
  {
    "text": "in cases of really bad streaming",
    "start": 1946.0,
    "duration": 3.36
  },
  {
    "text": "performance, we do notice that they can",
    "start": 1947.76,
    "duration": 3.759
  },
  {
    "text": "get out of sync. Uh, but no one's really",
    "start": 1949.36,
    "duration": 4.559
  },
  {
    "text": "seemed to care or call out the issues.",
    "start": 1951.519,
    "duration": 4.0
  },
  {
    "text": "So, I guess it's really not that much of",
    "start": 1953.919,
    "duration": 3.36
  },
  {
    "text": "an issue.",
    "start": 1955.519,
    "duration": 3.601
  },
  {
    "text": "Uh in general we did find that raid",
    "start": 1957.279,
    "duration": 3.28
  },
  {
    "text": "tracing saved us memory over distance",
    "start": 1959.12,
    "duration": 3.84
  },
  {
    "text": "fields which was a big win. Uh our peak",
    "start": 1960.559,
    "duration": 4.401
  },
  {
    "text": "memory usage in DS on series S was about",
    "start": 1962.96,
    "duration": 4.0
  },
  {
    "text": "300 megabytes. Uh if we were doing",
    "start": 1964.96,
    "duration": 3.599
  },
  {
    "text": "distance fields we probably would have",
    "start": 1966.96,
    "duration": 4.48
  },
  {
    "text": "been about five or 600 megabytes more or",
    "start": 1968.559,
    "duration": 4.401
  },
  {
    "text": "total. So savings of a couple hundred",
    "start": 1971.44,
    "duration": 3.599
  },
  {
    "text": "megabytes there. And we were also able",
    "start": 1972.96,
    "duration": 4.64
  },
  {
    "text": "to avoid any large GPU spikes um from",
    "start": 1975.039,
    "duration": 4.48
  },
  {
    "text": "distance fields updates if we loaded in",
    "start": 1977.6,
    "duration": 5.76
  },
  {
    "text": "new world partition streaming cells.",
    "start": 1979.519,
    "duration": 5.841
  },
  {
    "text": "That said, uh, RA tracing does have a",
    "start": 1983.36,
    "duration": 4.559
  },
  {
    "text": "higher CPU cost, at least a 53. Uh, and",
    "start": 1985.36,
    "duration": 4.159
  },
  {
    "text": "this was ultimately the reason why we",
    "start": 1987.919,
    "duration": 3.681
  },
  {
    "text": "couldn't afford it on Xbox Series S or",
    "start": 1989.519,
    "duration": 4.801
  },
  {
    "text": "Series X at 60 Hz. Our CPU's times for",
    "start": 1991.6,
    "duration": 3.919
  },
  {
    "text": "collecting the rate tracing scene were",
    "start": 1994.32,
    "duration": 2.88
  },
  {
    "text": "just too high that they were pushing us",
    "start": 1995.519,
    "duration": 4.481
  },
  {
    "text": "over. Uh, and we needed to keep those as",
    "start": 1997.2,
    "duration": 5.599
  },
  {
    "text": "low as we could.",
    "start": 2000.0,
    "duration": 4.159
  },
  {
    "text": "So, a little bit more on virtual",
    "start": 2002.799,
    "duration": 3.76
  },
  {
    "text": "textures. Actually, making good time.",
    "start": 2004.159,
    "duration": 3.921
  },
  {
    "text": "Um, pretty much all of our textures in",
    "start": 2006.559,
    "duration": 3.041
  },
  {
    "text": "our game used the virtual texture",
    "start": 2008.08,
    "duration": 4.16
  },
  {
    "text": "system. Uh, with the exception of VFX",
    "start": 2009.6,
    "duration": 5.919
  },
  {
    "text": "and RA RVT textures. Uh, those we needed",
    "start": 2012.24,
    "duration": 4.72
  },
  {
    "text": "pretty much in uh, right away and",
    "start": 2015.519,
    "duration": 4.0
  },
  {
    "text": "couldn't wait for feedback. They gave us",
    "start": 2016.96,
    "duration": 4.8
  },
  {
    "text": "more textures at a higher resolution and",
    "start": 2019.519,
    "duration": 3.76
  },
  {
    "text": "lowered and fixed our memory usage,",
    "start": 2021.76,
    "duration": 3.759
  },
  {
    "text": "which was always nice. Uh, but they did",
    "start": 2023.279,
    "duration": 3.52
  },
  {
    "text": "have the negative effect of making us",
    "start": 2025.519,
    "duration": 2.721
  },
  {
    "text": "texture address bound pretty much",
    "start": 2026.799,
    "duration": 3.76
  },
  {
    "text": "everywhere we used them. Um, we weren't",
    "start": 2028.24,
    "duration": 4.0
  },
  {
    "text": "able to benefit from the vertex pixel",
    "start": 2030.559,
    "duration": 3.761
  },
  {
    "text": "shader pre-caching, so they hit the",
    "start": 2032.24,
    "duration": 4.0
  },
  {
    "text": "texture addressing pretty hard. Uh,",
    "start": 2034.32,
    "duration": 3.28
  },
  {
    "text": "additionally, we had to spend extra",
    "start": 2036.24,
    "duration": 4.24
  },
  {
    "text": "effort on balancing the pools.",
    "start": 2037.6,
    "duration": 5.679
  },
  {
    "text": "Um, you know, we ended up trying and",
    "start": 2040.48,
    "duration": 4.64
  },
  {
    "text": "segregating our our textures a bit. You",
    "start": 2043.279,
    "duration": 2.961
  },
  {
    "text": "know, all of our character textures that",
    "start": 2045.12,
    "duration": 3.759
  },
  {
    "text": "we could, we threw into BC 7s at 1K and",
    "start": 2046.24,
    "duration": 4.72
  },
  {
    "text": "environments at DXT1 and 2K. And this",
    "start": 2048.879,
    "duration": 3.441
  },
  {
    "text": "was really cuz we had found that a lot",
    "start": 2050.96,
    "duration": 2.959
  },
  {
    "text": "of times our environment textures, even",
    "start": 2052.32,
    "duration": 3.2
  },
  {
    "text": "when we weren't over subscribed, were",
    "start": 2053.919,
    "duration": 3.281
  },
  {
    "text": "kicking out our character textures. And",
    "start": 2055.52,
    "duration": 3.2
  },
  {
    "text": "we needed those guys to be resident as",
    "start": 2057.2,
    "duration": 3.36
  },
  {
    "text": "we would cut from uh gameplay into",
    "start": 2058.72,
    "duration": 3.04
  },
  {
    "text": "conversation so we wouldn't see the",
    "start": 2060.56,
    "duration": 3.2
  },
  {
    "text": "texture streaming. Um, in the future,",
    "start": 2061.76,
    "duration": 3.919
  },
  {
    "text": "it'd be nice if we could find a way to",
    "start": 2063.76,
    "duration": 3.599
  },
  {
    "text": "uh keep them all in the same pool, but",
    "start": 2065.679,
    "duration": 3.761
  },
  {
    "text": "still have ways of segregating them. Uh,",
    "start": 2067.359,
    "duration": 3.04
  },
  {
    "text": "so that's something we'll probably look",
    "start": 2069.44,
    "duration": 3.04
  },
  {
    "text": "at in the future.",
    "start": 2070.399,
    "duration": 3.44
  },
  {
    "text": "Additionally, we had to spend extra",
    "start": 2072.48,
    "duration": 2.879
  },
  {
    "text": "effort to make sure that only the pools",
    "start": 2073.839,
    "duration": 3.681
  },
  {
    "text": "we wanted were created. Uh, by default,",
    "start": 2075.359,
    "duration": 4.32
  },
  {
    "text": "you get 15 pools max and then you hard",
    "start": 2077.52,
    "duration": 4.24
  },
  {
    "text": "crash. You can, of course, increase this",
    "start": 2079.679,
    "duration": 3.601
  },
  {
    "text": "to 31, but you're doubling your",
    "start": 2081.76,
    "duration": 3.2
  },
  {
    "text": "overhead, which in a memory constrained",
    "start": 2083.28,
    "duration": 3.92
  },
  {
    "text": "environment isn't ideal. Um, and a lot",
    "start": 2084.96,
    "duration": 4.159
  },
  {
    "text": "of times it's very easy to create pools",
    "start": 2087.2,
    "duration": 3.84
  },
  {
    "text": "you don't want. Uh one of the easiest",
    "start": 2089.119,
    "duration": 4.401
  },
  {
    "text": "examples is uh our artist would hook up",
    "start": 2091.04,
    "duration": 5.2
  },
  {
    "text": "the default engine virtual texture or um",
    "start": 2093.52,
    "duration": 5.76
  },
  {
    "text": "default engine uh normal texture which",
    "start": 2096.24,
    "duration": 6.08
  },
  {
    "text": "is a 1x1 texture that is an RGBA 8 which",
    "start": 2099.28,
    "duration": 5.36
  },
  {
    "text": "means we are now creating an RGBA pool",
    "start": 2102.32,
    "duration": 5.12
  },
  {
    "text": "that we don't want. Uh so we ended up",
    "start": 2104.64,
    "duration": 4.8
  },
  {
    "text": "doing the simple thing. We created a 2x",
    "start": 2107.44,
    "duration": 3.28
  },
  {
    "text": "two that we could then block compress",
    "start": 2109.44,
    "duration": 2.72
  },
  {
    "text": "and then fit in the pool we wanted it in",
    "start": 2110.72,
    "duration": 2.879
  },
  {
    "text": "and use that. But that was something",
    "start": 2112.16,
    "duration": 3.04
  },
  {
    "text": "that it's very easy to create one you",
    "start": 2113.599,
    "duration": 4.961
  },
  {
    "text": "don't need. Uh we did also uh run into",
    "start": 2115.2,
    "duration": 5.2
  },
  {
    "text": "some weird issues uh with the material",
    "start": 2118.56,
    "duration": 4.0
  },
  {
    "text": "layering system in virtual textures. Um",
    "start": 2120.4,
    "duration": 6.8
  },
  {
    "text": "if our artist used a um a texture in the",
    "start": 2122.56,
    "duration": 6.64
  },
  {
    "text": "base function or material function for",
    "start": 2127.2,
    "duration": 3.6
  },
  {
    "text": "the virtual or for the layered system",
    "start": 2129.2,
    "duration": 3.52
  },
  {
    "text": "and then relied on that, it would never",
    "start": 2130.8,
    "duration": 4.48
  },
  {
    "text": "actually get properly added to the uh",
    "start": 2132.72,
    "duration": 4.16
  },
  {
    "text": "texture array that needs to pre-cache",
    "start": 2135.28,
    "duration": 3.36
  },
  {
    "text": "before you load the material. Uh so",
    "start": 2136.88,
    "duration": 3.36
  },
  {
    "text": "you'd end up with a a race condition",
    "start": 2138.64,
    "duration": 3.04
  },
  {
    "text": "between the texture loading and the",
    "start": 2140.24,
    "duration": 2.879
  },
  {
    "text": "material loading. And if you got the",
    "start": 2141.68,
    "duration": 2.88
  },
  {
    "text": "material loaded first, you'd get an",
    "start": 2143.119,
    "duration": 3.681
  },
  {
    "text": "invalid virtual texture binding which",
    "start": 2144.56,
    "duration": 3.6
  },
  {
    "text": "would persist until that materials",
    "start": 2146.8,
    "duration": 2.96
  },
  {
    "text": "reloaded. A lot of times that meant we",
    "start": 2148.16,
    "duration": 2.8
  },
  {
    "text": "were getting bad normals on our",
    "start": 2149.76,
    "duration": 4.56
  },
  {
    "text": "characters because those were missed.",
    "start": 2150.96,
    "duration": 4.879
  },
  {
    "text": "So wrapping up a little bit with some",
    "start": 2154.32,
    "duration": 3.279
  },
  {
    "text": "final thoughts first on the stuff we",
    "start": 2155.839,
    "duration": 3.201
  },
  {
    "text": "went, you know, if there's one thing I'd",
    "start": 2157.599,
    "duration": 2.961
  },
  {
    "text": "say in general, especially as a smaller",
    "start": 2159.04,
    "duration": 2.88
  },
  {
    "text": "team, don't finding an engine works",
    "start": 2160.56,
    "duration": 3.44
  },
  {
    "text": "really, really well.",
    "start": 2161.92,
    "duration": 4.159
  },
  {
    "text": "You know, for Nanite, definitely prefer",
    "start": 2164.0,
    "duration": 3.76
  },
  {
    "text": "more geometry and simpler materials. We",
    "start": 2166.079,
    "duration": 4.481
  },
  {
    "text": "found work a lot more or a lot better.",
    "start": 2167.76,
    "duration": 5.28
  },
  {
    "text": "uh if you can avoid any of the per pixel",
    "start": 2170.56,
    "duration": 4.799
  },
  {
    "text": "evaluation costs whenever you can. So",
    "start": 2173.04,
    "duration": 5.68
  },
  {
    "text": "your mass materials PDO and turn off WP",
    "start": 2175.359,
    "duration": 5.361
  },
  {
    "text": "whenever you can.",
    "start": 2178.72,
    "duration": 3.6
  },
  {
    "text": "Uh of course limiting your material",
    "start": 2180.72,
    "duration": 3.2
  },
  {
    "text": "variances also helps. This will help",
    "start": 2182.32,
    "duration": 5.039
  },
  {
    "text": "rate tracing as well. But uh Nanet likes",
    "start": 2183.92,
    "duration": 5.28
  },
  {
    "text": "to draw on materialwide things. So if",
    "start": 2187.359,
    "duration": 2.961
  },
  {
    "text": "you can have the least amount of them,",
    "start": 2189.2,
    "duration": 2.24
  },
  {
    "text": "you'll have the least amount of draw",
    "start": 2190.32,
    "duration": 2.88
  },
  {
    "text": "calls there. Um and if you can do",
    "start": 2191.44,
    "duration": 4.8
  },
  {
    "text": "variations through CPDs, do it. And of",
    "start": 2193.2,
    "duration": 4.08
  },
  {
    "text": "course, make sure you're working with",
    "start": 2196.24,
    "duration": 2.4
  },
  {
    "text": "world partition to control what is",
    "start": 2197.28,
    "duration": 3.44
  },
  {
    "text": "loaded. Nani can rasterize a lot really",
    "start": 2198.64,
    "duration": 3.68
  },
  {
    "text": "fast, but it still can get clogged down",
    "start": 2200.72,
    "duration": 2.96
  },
  {
    "text": "if you're trying to render a lot of",
    "start": 2202.32,
    "duration": 3.92
  },
  {
    "text": "small things that don't need to be. For",
    "start": 2203.68,
    "duration": 4.72
  },
  {
    "text": "lumen, definitely I' I'd say make sure",
    "start": 2206.24,
    "duration": 3.599
  },
  {
    "text": "to pay attention to what is in your",
    "start": 2208.4,
    "duration": 3.28
  },
  {
    "text": "surface cache. Uh like I said, it's",
    "start": 2209.839,
    "duration": 4.641
  },
  {
    "text": "really easy to waste space there. And of",
    "start": 2211.68,
    "duration": 4.56
  },
  {
    "text": "course, it's it's important to fine-tune",
    "start": 2214.48,
    "duration": 3.599
  },
  {
    "text": "with the sears, but be careful and make",
    "start": 2216.24,
    "duration": 3.119
  },
  {
    "text": "sure you're aware of what they're doing",
    "start": 2218.079,
    "duration": 3.121
  },
  {
    "text": "and keeping track of them. Changing them",
    "start": 2219.359,
    "duration": 3.76
  },
  {
    "text": "all in one go, you can make get yourself",
    "start": 2221.2,
    "duration": 4.159
  },
  {
    "text": "into a lot of trouble.",
    "start": 2223.119,
    "duration": 3.681
  },
  {
    "text": "And in general, I'd say it's a lot",
    "start": 2225.359,
    "duration": 3.361
  },
  {
    "text": "easier to go from hardware to software",
    "start": 2226.8,
    "duration": 3.44
  },
  {
    "text": "than software to hardware. So if you're",
    "start": 2228.72,
    "duration": 4.08
  },
  {
    "text": "starting a project, uh, I'd say error on",
    "start": 2230.24,
    "duration": 4.08
  },
  {
    "text": "the side of starting with hardware. It's",
    "start": 2232.8,
    "duration": 3.36
  },
  {
    "text": "a lot easier to go downgrade yourself to",
    "start": 2234.32,
    "duration": 3.44
  },
  {
    "text": "software than it is to add back in the",
    "start": 2236.16,
    "duration": 4.0
  },
  {
    "text": "hardware support later on.",
    "start": 2237.76,
    "duration": 4.16
  },
  {
    "text": "For shadows, definitely don't be",
    "start": 2240.16,
    "duration": 4.959
  },
  {
    "text": "beholden to a single solution. Um, VSSM",
    "start": 2241.92,
    "duration": 4.56
  },
  {
    "text": "work great for the directional light we",
    "start": 2245.119,
    "duration": 2.641
  },
  {
    "text": "found, but they definitely can struggle",
    "start": 2246.48,
    "duration": 3.92
  },
  {
    "text": "with local lights. Uh, ray trace shadows",
    "start": 2247.76,
    "duration": 3.68
  },
  {
    "text": "on the other hand work really well with",
    "start": 2250.4,
    "duration": 2.48
  },
  {
    "text": "the local lights, your point lights,",
    "start": 2251.44,
    "duration": 3.919
  },
  {
    "text": "your uh, spot lights, your rect lights.",
    "start": 2252.88,
    "duration": 4.08
  },
  {
    "text": "So, if you can and you're already doing",
    "start": 2255.359,
    "duration": 4.081
  },
  {
    "text": "it, look into that. And of course,",
    "start": 2256.96,
    "duration": 4.639
  },
  {
    "text": "contact shadows, don't sleep on them.",
    "start": 2259.44,
    "duration": 4.32
  },
  {
    "text": "Um, they seem to have a bad rap,",
    "start": 2261.599,
    "duration": 3.52
  },
  {
    "text": "especially at our studio as being",
    "start": 2263.76,
    "duration": 3.599
  },
  {
    "text": "expensive, but they end up being a lot",
    "start": 2265.119,
    "duration": 3.841
  },
  {
    "text": "cheaper than the other options, so I",
    "start": 2267.359,
    "duration": 3.841
  },
  {
    "text": "don't know why you wouldn't.",
    "start": 2268.96,
    "duration": 4.08
  },
  {
    "text": "Um, virtual textures, you know, they're",
    "start": 2271.2,
    "duration": 3.2
  },
  {
    "text": "liberating, but they're not free. And of",
    "start": 2273.04,
    "duration": 4.88
  },
  {
    "text": "course, keep an eye on your pools.",
    "start": 2274.4,
    "duration": 5.76
  },
  {
    "text": "Some other final things that are just",
    "start": 2277.92,
    "duration": 3.679
  },
  {
    "text": "agnostic to it that we found worked",
    "start": 2280.16,
    "duration": 4.0
  },
  {
    "text": "really really well. Of course, uh",
    "start": 2281.599,
    "duration": 4.0
  },
  {
    "text": "establishing your benchmark hardware",
    "start": 2284.16,
    "duration": 3.12
  },
  {
    "text": "early on is is you know really",
    "start": 2285.599,
    "duration": 3.681
  },
  {
    "text": "important. We feel uh consoles are ideal",
    "start": 2287.28,
    "duration": 3.52
  },
  {
    "text": "for this. They have fixed costs. You",
    "start": 2289.28,
    "duration": 2.48
  },
  {
    "text": "don't have to worry about any other",
    "start": 2290.8,
    "duration": 2.64
  },
  {
    "text": "processes kicking in nor are you at the",
    "start": 2291.76,
    "duration": 5.52
  },
  {
    "text": "whims of you know uh drivers from",
    "start": 2293.44,
    "duration": 6.399
  },
  {
    "text": "graphics cards. You know for us we chose",
    "start": 2297.28,
    "duration": 4.48
  },
  {
    "text": "the Xbox Series S. And this we found out",
    "start": 2299.839,
    "duration": 4.321
  },
  {
    "text": "worked really really well. Uh, and of",
    "start": 2301.76,
    "duration": 3.68
  },
  {
    "text": "course finding a parody in performance",
    "start": 2304.16,
    "duration": 3.04
  },
  {
    "text": "when shipping on multiple devices works",
    "start": 2305.44,
    "duration": 3.44
  },
  {
    "text": "great too. You know, find the s the",
    "start": 2307.2,
    "duration": 3.6
  },
  {
    "text": "settings on Xbox Series X that kind of",
    "start": 2308.88,
    "duration": 3.92
  },
  {
    "text": "mimic the performance you want on Series",
    "start": 2310.8,
    "duration": 4.4
  },
  {
    "text": "S and then go from there and it'll keep",
    "start": 2312.8,
    "duration": 5.12
  },
  {
    "text": "them more or less in line.",
    "start": 2315.2,
    "duration": 4.879
  },
  {
    "text": "Uh, for definitely I would say disable",
    "start": 2317.92,
    "duration": 4.08
  },
  {
    "text": "dynamic resolution during development.",
    "start": 2320.079,
    "duration": 5.04
  },
  {
    "text": "Uh, in my opinion, it should be there to",
    "start": 2322.0,
    "duration": 6.079
  },
  {
    "text": "cover spikes uh in game play and whatnot",
    "start": 2325.119,
    "duration": 4.881
  },
  {
    "text": "on the and not cover up non-performance.",
    "start": 2328.079,
    "duration": 3.201
  },
  {
    "text": "And if you've got this on during",
    "start": 2330.0,
    "duration": 3.04
  },
  {
    "text": "development, you more or less kind of",
    "start": 2331.28,
    "duration": 3.44
  },
  {
    "text": "have your head in the sand. You with no",
    "start": 2333.04,
    "duration": 3.2
  },
  {
    "text": "real idea of what the GPU is doing and",
    "start": 2334.72,
    "duration": 2.96
  },
  {
    "text": "what the state it's in. So having that",
    "start": 2336.24,
    "duration": 3.28
  },
  {
    "text": "turned off and being actually aware of",
    "start": 2337.68,
    "duration": 3.76
  },
  {
    "text": "where the GPU is and where you stand is",
    "start": 2339.52,
    "duration": 4.16
  },
  {
    "text": "important. And when you actually do",
    "start": 2341.44,
    "duration": 4.24
  },
  {
    "text": "start uh optimizing and looking at your",
    "start": 2343.68,
    "duration": 4.88
  },
  {
    "text": "frame time, uh make sure to turn off,",
    "start": 2345.68,
    "duration": 4.8
  },
  {
    "text": "you know, async work when you're",
    "start": 2348.56,
    "duration": 4.0
  },
  {
    "text": "optimizing passes. It will overlap and",
    "start": 2350.48,
    "duration": 3.76
  },
  {
    "text": "skew timing. So a lot of times you'll be",
    "start": 2352.56,
    "duration": 2.72
  },
  {
    "text": "like, \"Oh, I'm making progress.\" And",
    "start": 2354.24,
    "duration": 2.16
  },
  {
    "text": "then you're like, \"Actually, I'm not.\"",
    "start": 2355.28,
    "duration": 4.16
  },
  {
    "text": "It's just how the work overlapped.",
    "start": 2356.4,
    "duration": 5.12
  },
  {
    "text": "You know, definitely also always be",
    "start": 2359.44,
    "duration": 4.24
  },
  {
    "text": "profiling. Uh we had weekly performance",
    "start": 2361.52,
    "duration": 4.0
  },
  {
    "text": "meetings where we would sit down and we",
    "start": 2363.68,
    "duration": 3.28
  },
  {
    "text": "would play the game or more",
    "start": 2365.52,
    "duration": 2.88
  },
  {
    "text": "specifically, we'd have a QA person play",
    "start": 2366.96,
    "duration": 2.639
  },
  {
    "text": "the game and we watched and made",
    "start": 2368.4,
    "duration": 3.84
  },
  {
    "text": "comments. Um and that was great for",
    "start": 2369.599,
    "duration": 4.161
  },
  {
    "text": "keeping an eye on what was actually",
    "start": 2372.24,
    "duration": 3.04
  },
  {
    "text": "going on in the game. We could take",
    "start": 2373.76,
    "duration": 3.76
  },
  {
    "text": "captures during it and we had just even",
    "start": 2375.28,
    "duration": 3.839
  },
  {
    "text": "if we weren't necessarily fixing things,",
    "start": 2377.52,
    "duration": 3.2
  },
  {
    "text": "we at least knew what was going on and",
    "start": 2379.119,
    "duration": 3.681
  },
  {
    "text": "where things would change. Uh, we also",
    "start": 2380.72,
    "duration": 3.68
  },
  {
    "text": "had an autoplayer system, which I highly",
    "start": 2382.8,
    "duration": 4.08
  },
  {
    "text": "recommend getting if you haven't. Um, it",
    "start": 2384.4,
    "duration": 4.48
  },
  {
    "text": "helps keep track of you making progress",
    "start": 2386.88,
    "duration": 3.84
  },
  {
    "text": "and allowed us to really kind of fill",
    "start": 2388.88,
    "duration": 4.16
  },
  {
    "text": "out the world where gameplay wasn't uh",
    "start": 2390.72,
    "duration": 5.119
  },
  {
    "text": "catching it. And of course, keep and",
    "start": 2393.04,
    "duration": 4.64
  },
  {
    "text": "revisit old captures is another one that",
    "start": 2395.839,
    "duration": 4.24
  },
  {
    "text": "I I would definitely recommend. Um, you",
    "start": 2397.68,
    "duration": 4.48
  },
  {
    "text": "know, we took a lot of pix captures",
    "start": 2400.079,
    "duration": 5.52
  },
  {
    "text": "during uh development and it's really",
    "start": 2402.16,
    "duration": 6.4
  },
  {
    "text": "easy for you to make big engine changes",
    "start": 2405.599,
    "duration": 4.24
  },
  {
    "text": "where they're upgrading the engine or a",
    "start": 2408.56,
    "duration": 2.72
  },
  {
    "text": "bunch of content goes in and have",
    "start": 2409.839,
    "duration": 2.721
  },
  {
    "text": "performance regressions. If you're",
    "start": 2411.28,
    "duration": 2.559
  },
  {
    "text": "keeping old captures and you",
    "start": 2412.56,
    "duration": 2.64
  },
  {
    "text": "occasionally check them, you can see",
    "start": 2413.839,
    "duration": 2.721
  },
  {
    "text": "those regressions and you can catch them",
    "start": 2415.2,
    "duration": 3.6
  },
  {
    "text": "and you can fix them. Uh for us",
    "start": 2416.56,
    "duration": 4.4
  },
  {
    "text": "specifically, an example is we had our",
    "start": 2418.8,
    "duration": 4.559
  },
  {
    "text": "super sampler. Um you know, we were",
    "start": 2420.96,
    "duration": 5.84
  },
  {
    "text": "using FSR uh 2 on Xbox and at some point",
    "start": 2423.359,
    "duration": 5.441
  },
  {
    "text": "we had upgraded to FSR3 and we actually",
    "start": 2426.8,
    "duration": 4.16
  },
  {
    "text": "had a performance regression down to uh",
    "start": 2428.8,
    "duration": 4.64
  },
  {
    "text": "3 milliseconds from our our top or so or",
    "start": 2430.96,
    "duration": 3.84
  },
  {
    "text": "maybe it was a whole millisecond of",
    "start": 2433.44,
    "duration": 2.8
  },
  {
    "text": "difference. Uh and we didn't catch it",
    "start": 2434.8,
    "duration": 3.039
  },
  {
    "text": "for a while. It was only going back and",
    "start": 2436.24,
    "duration": 3.44
  },
  {
    "text": "looking at an old capture that were like",
    "start": 2437.839,
    "duration": 4.801
  },
  {
    "text": "we regressed here and what's going on.",
    "start": 2439.68,
    "duration": 4.64
  },
  {
    "text": "And then we found comparing it, well,",
    "start": 2442.64,
    "duration": 2.959
  },
  {
    "text": "there wasn't much difference when we",
    "start": 2444.32,
    "duration": 3.6
  },
  {
    "text": "went from FSR three or two to three. So,",
    "start": 2445.599,
    "duration": 4.0
  },
  {
    "text": "let's just go back to two. And we saved",
    "start": 2447.92,
    "duration": 3.84
  },
  {
    "text": "ourselves some time there.",
    "start": 2449.599,
    "duration": 4.801
  },
  {
    "text": "Uh, and with that, I'm pretty much all",
    "start": 2451.76,
    "duration": 4.24
  },
  {
    "text": "done. And I'd just like to say thank you",
    "start": 2454.4,
    "duration": 2.8
  },
  {
    "text": "to all these people who helped me with",
    "start": 2456.0,
    "duration": 3.44
  },
  {
    "text": "my presentation and everything. Uh, and",
    "start": 2457.2,
    "duration": 3.52
  },
  {
    "text": "actually have time for questions. So,",
    "start": 2459.44,
    "duration": 5.96
  },
  {
    "text": "that's really nice. Thank you.",
    "start": 2460.72,
    "duration": 4.68
  },
  {
    "text": "[Applause]",
    "start": 2466.12,
    "duration": 4.38
  }
]