WEBVTT

1
00:00:00.000 --> 00:00:08.480
In the final part of our tutorial we're going to talk about ways to optimize smoke, liquid,

2
00:00:08.480 --> 00:00:10.439
and fire effects.

3
00:00:10.439 --> 00:00:15.939
And the manner in which we're really going to primarily focus has to deal with taking

4
00:00:15.939 --> 00:00:24.839
our very complex fire, smoke, or liquid effects and baking them down into a series of images

5
00:00:24.839 --> 00:00:29.920
that can then be played back in real time to give the illusion that this really complex

6
00:00:29.920 --> 00:00:35.359
behavior is happening when in fact we are basically pre-computing that behavior to a

7
00:00:35.359 --> 00:00:38.920
texture frame by frame and then playing it back.

8
00:00:38.920 --> 00:00:43.120
This is commonly for all the flip book, but here is what the texture would look like.

9
00:00:43.120 --> 00:00:48.359
So we'd start it here at frame zero and we'd go eight by eight, which would give us 64.

10
00:00:48.359 --> 00:00:55.119
So this is it turning on and then going down and we would get something, it's not video

11
00:00:55.119 --> 00:00:57.640
here, but something like this that we can then play back.

12
00:00:57.640 --> 00:01:02.000
Now to do this inside of Niagara, it's actually very simple.

13
00:01:02.000 --> 00:01:07.159
All we need to do is come up to the editor and the effect we want and enable the baker.

14
00:01:07.159 --> 00:01:10.879
Once we click on the little button, we're going to get exposed some tools that will

15
00:01:10.879 --> 00:01:21.159
allow us to basically select our file name, position a camera, set the size that we want

16
00:01:21.159 --> 00:01:24.319
the output object to, and then actually render that out.

17
00:01:24.319 --> 00:01:28.719
And here's an image of that work.

18
00:01:28.719 --> 00:01:31.479
Or I should say tool set.

19
00:01:31.479 --> 00:01:33.959
Let's go ahead and pop over to the editor and look at how to do this.

20
00:01:33.959 --> 00:01:34.959
I'm going to hit control space.

21
00:01:34.959 --> 00:01:38.719
I'm going to bring up my NS gas fire and just double click on it.

22
00:01:38.719 --> 00:01:41.760
Remember, we can do this with pretty much any effect.

23
00:01:41.760 --> 00:01:45.799
Just keep in mind that some effects will be easier to capture than others.

24
00:01:45.799 --> 00:01:49.000
Again, we're going to bring up our baker here.

25
00:01:49.000 --> 00:01:50.000
So there we go.

26
00:01:50.000 --> 00:01:52.239
I'm going to come down and do the front viewport.

27
00:01:52.239 --> 00:01:58.120
It's just going to make it easier to kind of like zoom in on stuff.

28
00:01:58.120 --> 00:02:01.400
And I don't know why it is not.

29
00:02:01.400 --> 00:02:02.400
There we go.

30
00:02:02.400 --> 00:02:05.439
I'm going to go click back to perspective to zoom in a little bit.

31
00:02:05.439 --> 00:02:12.800
It will not be this crazy when we go to look and render this out.

32
00:02:12.800 --> 00:02:16.400
Sorry, I'm horrible at saying and working on stuff at the same time.

33
00:02:16.400 --> 00:02:17.400
So here we go.

34
00:02:17.400 --> 00:02:20.879
We're going to set this to 512 by 512.

35
00:02:20.879 --> 00:02:22.479
This should give us a little bit more resolution.

36
00:02:22.479 --> 00:02:24.120
There we go.

37
00:02:24.120 --> 00:02:35.280
And then if we come down to, there is a camera setting here somewhere that will allow us

38
00:02:36.120 --> 00:02:43.199
to adjust our previews.

39
00:02:43.199 --> 00:02:47.039
And maybe I'm not.

40
00:02:47.039 --> 00:02:52.199
Ah, here we go.

41
00:02:52.199 --> 00:02:53.199
That's what I was looking for.

42
00:02:53.199 --> 00:02:54.199
It's right next to it.

43
00:02:54.199 --> 00:02:58.240
The reason I want to do this is I want to bring this down a little bit so I get the

44
00:02:58.240 --> 00:03:00.319
smoke a little bit closer.

45
00:03:00.319 --> 00:03:01.319
There we go.

46
00:03:01.319 --> 00:03:02.319
The smoke and the fire.

47
00:03:02.319 --> 00:03:03.319
All right.

48
00:03:03.359 --> 00:03:12.439
We're also going to give this a name of, call this T underscore fire underscore sub UV.

49
00:03:12.439 --> 00:03:15.919
And then when we're ready to bake this, all we need to do is press this little bake button

50
00:03:15.919 --> 00:03:16.919
here.

51
00:03:16.919 --> 00:03:17.919
This is really cool.

52
00:03:17.919 --> 00:03:20.400
It's going to bake it and then we're going to see it rendered out right here.

53
00:03:20.400 --> 00:03:23.199
It just needs a second to stream in.

54
00:03:23.199 --> 00:03:25.719
But this is the textured output.

55
00:03:25.719 --> 00:03:27.359
We can actually look at that.

56
00:03:27.359 --> 00:03:30.240
There's our texture right here to save all the alpha.

57
00:03:30.240 --> 00:03:33.600
So you can see here it starts and then goes all the way down through.

58
00:03:33.600 --> 00:03:38.560
What we're going to do next is we are going to make a material out of this.

59
00:03:38.560 --> 00:03:42.960
All we need to really do is just change the blend mode to translucent and then connect

60
00:03:42.960 --> 00:03:45.400
the alpha here into the opacity.

61
00:03:45.400 --> 00:03:46.800
So let's do that now.

62
00:03:46.800 --> 00:03:52.560
So we're going to right control space to open up the content browser.

63
00:03:52.560 --> 00:03:53.560
Right click.

64
00:03:53.560 --> 00:03:54.560
We're going to look for our material.

65
00:03:54.560 --> 00:03:59.960
I go this mat underscore sub UV underscore fire.

66
00:03:59.960 --> 00:04:02.560
And let's double click on that to open it up.

67
00:04:02.560 --> 00:04:05.879
And I'm just going to select this right here.

68
00:04:05.879 --> 00:04:09.240
And a quick way to quickly add this is to hold down the T key and left click that I

69
00:04:09.240 --> 00:04:10.740
have that texture sample.

70
00:04:10.740 --> 00:04:17.680
We're going to click the RGB into base the A and to our opacity and then set our blend

71
00:04:17.680 --> 00:04:25.600
mode here to translucent, which maybe we are RGB A. There we go RGB A and let's hit apply

72
00:04:25.600 --> 00:04:27.079
and save.

73
00:04:27.079 --> 00:04:28.720
So that is good.

74
00:04:28.720 --> 00:04:34.040
The next thing that we need to do is we're going to make a new particle system inside

75
00:04:34.040 --> 00:04:35.040
of the learning content.

76
00:04:35.040 --> 00:04:39.120
We're going to select a sub UV animation and hit create.

77
00:04:39.120 --> 00:04:42.840
And let's go ahead and do that now.

78
00:04:42.840 --> 00:04:45.600
So again, right click Niagara system.

79
00:04:45.600 --> 00:04:49.120
We're going to come here to learning content and then our sub UV animation.

80
00:04:49.120 --> 00:04:58.020
We're going to hit create in S underscore fire sub UV.

81
00:04:58.180 --> 00:05:00.859
Then let's double click on that to open it up.

82
00:05:00.859 --> 00:05:05.779
And all we need to do to this is just change the material.

83
00:05:05.779 --> 00:05:15.779
We're going to enable cut out cut out as a way to optimize the unused part of your

84
00:05:15.779 --> 00:05:17.219
translucent geometry.

85
00:05:17.219 --> 00:05:22.939
It basically cuts the geometry to fit more or less kind of the outline of your smoke

86
00:05:22.939 --> 00:05:23.939
or your fire.

87
00:05:23.939 --> 00:05:27.299
This is a way to just optimize this in our particular case.

88
00:05:27.300 --> 00:05:31.020
This isn't going to matter as much as it would if we were using multiple effects.

89
00:05:31.020 --> 00:05:34.819
But anyway, we're going to set that up and then we're also going to change the uniform

90
00:05:34.819 --> 00:05:37.860
sprite size to 500 to make it a little bit larger.

91
00:05:37.860 --> 00:05:43.500
So let's go ahead and we can close the baker for now.

92
00:05:43.500 --> 00:05:45.860
And then our system overview right here are material.

93
00:05:45.860 --> 00:05:47.500
I'm going to hit control space.

94
00:05:47.500 --> 00:05:50.620
We're going to grab our mat sub UV fire.

95
00:05:50.620 --> 00:05:52.019
Bring that in right there.

96
00:05:52.019 --> 00:05:53.019
Okay.

97
00:05:53.019 --> 00:05:55.740
And that's actually our fire working right there.

98
00:05:55.740 --> 00:05:57.420
Now there are a couple of other things.

99
00:05:57.420 --> 00:06:03.460
So we can do our cut out.

100
00:06:03.460 --> 00:06:06.900
Up there it is right there.

101
00:06:06.900 --> 00:06:11.620
And what we'll need to do is change this to the red channel.

102
00:06:11.620 --> 00:06:14.460
And that will give us our cut out here.

103
00:06:14.460 --> 00:06:15.579
All right.

104
00:06:15.579 --> 00:06:22.660
And then we're going to go to our initialize particle and set our size here to 500.

105
00:06:22.660 --> 00:06:23.780
It's going to make things a little bit bigger.

106
00:06:23.780 --> 00:06:26.660
So we'll compile and save that.

107
00:06:26.660 --> 00:06:30.180
And I'm just going to move this out of the way so I can bring it into the world.

108
00:06:30.180 --> 00:06:31.180
So there we go.

109
00:06:31.180 --> 00:06:34.780
There is our fire.

110
00:06:34.780 --> 00:06:39.260
And he does not seem to be working for some reason.

111
00:06:39.260 --> 00:06:42.580
Let's save this and browse really quick.

112
00:06:42.580 --> 00:06:44.780
Oh, it's because I have real time off.

113
00:06:44.780 --> 00:06:45.780
There we go.

114
00:06:45.780 --> 00:06:47.700
You need to turn that real time renderer back on.

115
00:06:47.700 --> 00:06:50.820
And there is our fire.

116
00:06:50.819 --> 00:06:52.779
Let me just delete this.

117
00:06:52.779 --> 00:06:53.779
So there we go.

118
00:06:53.779 --> 00:07:00.099
Again, it's not looking the best because I just did a very simplistic render.

119
00:07:00.099 --> 00:07:07.219
But if you were to apply a little bit more time and a few other just a couple of these,

120
00:07:07.219 --> 00:07:12.420
you could get some actual really good results using this particular method.

121
00:07:12.420 --> 00:07:19.500
And again, this is extraordinarily cheap compared to running the actual fire effect like this

122
00:07:19.500 --> 00:07:20.500
right here.

123
00:07:20.779 --> 00:07:24.899
So you know, you are losing a little bit of depth and things like that.

124
00:07:24.899 --> 00:07:28.699
But again, this could be used as something like, you know, for a level of detail when

125
00:07:28.699 --> 00:07:30.980
it's really far away, something like that.

126
00:07:30.980 --> 00:07:37.860
Or there's a bunch of use cases where being able to use the baker right here can really

127
00:07:37.860 --> 00:07:46.579
help optimize your effects, no matter if they use liquid or just standard particle effects.

128
00:07:46.579 --> 00:07:50.859
You can use this for any type of effect inside of Niagara to help optimize it.

129
00:07:50.859 --> 00:07:52.219
So this is our end result.

