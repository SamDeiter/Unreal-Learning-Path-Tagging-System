WEBVTT

1
00:00:00.000 --> 00:00:06.440
In this section, we will wrap up the custom body workflow by going over step 5, where

2
00:00:06.440 --> 00:00:13.240
we validate the results, check for seam issues, and generate the final DNA and export the

3
00:00:13.240 --> 00:00:16.000
head LODs as FBX.

4
00:00:16.000 --> 00:00:20.280
So let's jump back into Maya and execute step 5.

5
00:00:20.280 --> 00:00:25.480
Back inside of Maya, now that this process is complete and with the new skin weights

6
00:00:25.480 --> 00:00:32.240
written to the DNA file, we can now check the results with step 5.

7
00:00:32.240 --> 00:00:37.439
Select line 202 to 211 and execute it.

8
00:00:37.439 --> 00:00:43.400
This will load the new DNA and constrain the head core joint hierarchy to the body so that

9
00:00:43.400 --> 00:00:48.560
we can check the results to see if the skin weight merge was successful.

10
00:00:48.560 --> 00:00:54.159
Now that this is finished loading, in the viewport, I will switch to the top view to

11
00:00:54.159 --> 00:00:56.079
bring this closer.

12
00:00:56.079 --> 00:01:04.719
Then in the Outliner, I will collapse the head group and then collapse the head geometry

13
00:01:04.719 --> 00:01:08.159
and hide all of the other LODs.

14
00:01:08.159 --> 00:01:11.280
And then I will hide the spine.

15
00:01:11.280 --> 00:01:17.959
I will switch over to Rotate mode and then I will select the body rig root and make the

16
00:01:17.959 --> 00:01:21.679
joints visible.

17
00:01:21.679 --> 00:01:28.139
I will select the arm joint and I will rotate the arm to check and see if there are any

18
00:01:28.139 --> 00:01:33.939
seam issues in the front.

19
00:01:33.939 --> 00:01:39.199
And then turn the body around and check the back area.

20
00:01:39.199 --> 00:01:43.759
We can see that the skin weight merge was successful and that there are no gaps at the

21
00:01:43.760 --> 00:01:48.160
seam lines between the head mesh and body.

22
00:01:48.160 --> 00:01:54.040
If you notice a line along the seam area, this indicates a difference in normals.

23
00:01:54.040 --> 00:01:57.760
Matching the normals would be the last step of this workflow.

24
00:01:57.760 --> 00:02:01.439
For this character, the normals have already been matched.

25
00:02:01.439 --> 00:02:08.360
Now before we move on to the final step, let's do a quick review of step 5.

26
00:02:08.360 --> 00:02:14.080
Step 5 validates the results by constraining the head core joint hierarchies to the body

27
00:02:14.080 --> 00:02:16.280
to test.

28
00:02:16.280 --> 00:02:21.960
Select all of step 5 from line 202 to 211 and execute it.

29
00:02:21.960 --> 00:02:26.360
This will connect the skeletal hierarchies and we can check the skin weights by moving

30
00:02:26.360 --> 00:02:30.160
the joints located along the neck seam line.

31
00:02:30.160 --> 00:02:35.360
We can select the clavicles and rotate them to ensure that no gaps appear at the seam

32
00:02:35.360 --> 00:02:37.960
between the body and head mesh.

33
00:02:37.960 --> 00:02:40.960
For this character, the normals have already been matched.

34
00:02:40.960 --> 00:02:45.600
However, if you are using your own metahuman character, you will need to match the normals

35
00:02:45.600 --> 00:02:47.439
at this point.

36
00:02:47.439 --> 00:02:54.879
If everything looks good, the next step is to export the final DNA head LODs as FBX.

37
00:02:54.879 --> 00:02:58.520
So let's return to Maya and complete this workflow.

38
00:02:58.520 --> 00:03:04.680
Back inside of Maya, we can now run the export to FBX portion of this script.

39
00:03:04.680 --> 00:03:11.360
Select this entire section from line 218 to 225 and execute it.

40
00:03:11.360 --> 00:03:16.520
This process will extract joint information from the body rig to extend the joints that

41
00:03:16.520 --> 00:03:19.439
are described in the DNA file.

42
00:03:19.439 --> 00:03:25.040
This will add the root joint, the spine, the neck, and the shoulder joints.

43
00:03:25.040 --> 00:03:30.719
And then it will export 1 FBX per LOD and assign shaders.

44
00:03:30.719 --> 00:03:35.599
As we wait for this process to complete, let's do a quick review of the export FBX

45
00:03:35.599 --> 00:03:37.560
step.

46
00:03:37.560 --> 00:03:42.719
The export FBX portion of this script will extend the joint information from the body

47
00:03:42.719 --> 00:03:45.960
rig to the DNA derived joints.

48
00:03:45.960 --> 00:03:50.680
This will grab the joint information from the body rig and extend it to the DNA derived

49
00:03:50.680 --> 00:03:54.680
joints and add the root, spine, neck, and shoulder joints.

50
00:03:54.680 --> 00:04:01.760
They will then export 1 FBX per LOD and assign shaders to each of the head geometry assets.

51
00:04:01.760 --> 00:04:06.719
The images on this slide demonstrate what the final head LOD FBX will look like for

52
00:04:06.719 --> 00:04:08.140
LOD 0.

53
00:04:08.140 --> 00:04:14.600
We can see how the skeleton has been updated from our atomic savage DNA to the final DNA.

54
00:04:14.600 --> 00:04:19.960
Now that the custom body workflow is complete, let's return to Maya one last time to locate

55
00:04:19.959 --> 00:04:26.639
the assets we will need to bring into Unreal Engine and finalize the rig.

56
00:04:26.639 --> 00:04:30.120
Back in Maya, all of the LODs have been exported.

57
00:04:30.120 --> 00:04:36.519
In the export folder, we have the final DNA file and all of the head LOD FBX files and

58
00:04:36.519 --> 00:04:40.279
the body skeletal mesh with the modified skin weights.

59
00:04:40.279 --> 00:04:44.639
Inside of the viewport, we can see that the skeleton has been updated.

60
00:04:44.639 --> 00:04:49.279
And if we go to the Outliner and select the head mesh, if I go to the right over here

61
00:04:49.279 --> 00:04:54.239
and open up the Attributes Editor, we will see that a shader has been applied to the

62
00:04:54.239 --> 00:04:56.919
head and labeled correctly.

63
00:04:56.919 --> 00:05:01.199
And this is also the case for all of the other head geometry assets.

64
00:05:01.199 --> 00:05:07.000
We are now ready to bring all of these assets into Unreal Engine and finalize our character.

65
00:05:07.000 --> 00:05:11.359
Now let's wrap up this section by reviewing the assets that we will be bringing into Unreal

66
00:05:11.359 --> 00:05:13.359
Engine.

67
00:05:13.359 --> 00:05:18.599
The assets located in the export folder that will be brought into Unreal Engine include the

68
00:05:18.600 --> 00:05:25.600
final metahuman DNA file, the exported head LODs as FBX, and the separated body mesh and

69
00:05:25.600 --> 00:05:28.760
skeleton with the updated skin weights.

70
00:05:28.760 --> 00:05:33.200
The body and head FBX will be Y up in Maya, which is fine.

71
00:05:33.200 --> 00:05:38.120
Now that we have everything we need in order to finalize our customizations, in the next

72
00:05:38.120 --> 00:05:43.160
section we will delve into our hands-on exercise and go through the steps of bringing these

73
00:05:43.160 --> 00:05:44.840
assets into Unreal Engine.

