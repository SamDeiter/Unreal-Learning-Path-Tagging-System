WEBVTT

1
00:00:00.000 --> 00:00:06.960
In this section, we will continue going over the steps for using the custom body workflow.

2
00:00:06.960 --> 00:00:11.400
We will first initialize the script and load everything into memory.

3
00:00:11.400 --> 00:00:14.460
And then we will execute step one and step two.

4
00:00:14.460 --> 00:00:18.440
So let's go over initializing the script first.

5
00:00:18.440 --> 00:00:23.199
The steps to initialize the script are to first ensure you have pasted the entire API

6
00:00:23.199 --> 00:00:26.879
interface script into the script editor.

7
00:00:26.879 --> 00:00:31.599
Then select the script from line 1 to 72 and execute it.

8
00:00:31.599 --> 00:00:37.960
To set the DNA calibration path and paths for the working folder, select line 75 to

9
00:00:37.960 --> 00:00:40.879
105 and execute that.

10
00:00:40.879 --> 00:00:45.299
Let's jump into Maya and go through this.

11
00:00:45.299 --> 00:00:49.439
Inside of Maya, we will begin by initializing the script.

12
00:00:49.439 --> 00:00:55.759
I'm going to scroll down here, past all this code and references to other scripts, and

13
00:00:55.759 --> 00:01:02.920
I'm going to select everything from line 72 all the way up to 1 and then we'll execute

14
00:01:02.920 --> 00:01:05.719
this to load this into memory.

15
00:01:05.719 --> 00:01:09.379
Now I want to set the paths to the directories.

16
00:01:09.379 --> 00:01:16.400
So I will select everything from line 75 to 106 and execute this.

17
00:01:16.400 --> 00:01:19.359
We can now start executing each step.

18
00:01:19.359 --> 00:01:25.180
Let's begin with step one, which will position and scale the head rig for integration.

19
00:01:25.180 --> 00:01:32.140
Over here, I will select the first portion of step one from line 114 to 126 and execute

20
00:01:32.140 --> 00:01:36.260
it.

21
00:01:36.260 --> 00:01:43.760
Once this is finished loading, over here, this will load the body combined rig into

22
00:01:43.760 --> 00:01:45.460
the scene.

23
00:01:45.460 --> 00:01:52.380
It has taken a copy of the head LOD zero from the MetaHumanDNA head mesh over here and named

24
00:01:52.379 --> 00:01:55.780
it position and scale mesh.

25
00:01:55.780 --> 00:02:01.379
If we had not used the previous DNA calibration script, the mesh would be much smaller and

26
00:02:01.379 --> 00:02:04.259
would probably be somewhere over here.

27
00:02:04.259 --> 00:02:09.379
For this portion of step one, we would select the position and scale mesh and just as we

28
00:02:09.379 --> 00:02:14.699
had done with the locator, we would manually position and scale it.

29
00:02:14.699 --> 00:02:19.900
The next step is to run the second part of step one.

30
00:02:20.020 --> 00:02:26.099
Select this section over here from line 133 to 146 and execute it.

31
00:02:26.099 --> 00:02:32.020
This will bake the position and scale to a new MetaHumanDNA file named updatedScale,

32
00:02:32.020 --> 00:02:36.280
which will be added to the output folder in the DNA files folder.

33
00:02:36.280 --> 00:02:42.340
It will then load the updatedScaleDNA with the body rig into a new scene.

34
00:02:42.340 --> 00:02:49.340
Now that it is loaded, if I select the head group from this new DNA file, on the right

35
00:02:50.060 --> 00:02:56.580
over here, if we had made adjustments, we will see that there would be no transform values

36
00:02:56.580 --> 00:02:59.620
as those have been baked into the DNA.

37
00:02:59.620 --> 00:03:05.259
Another thing this command will do is it will match the head mesh and skeleton position

38
00:03:05.259 --> 00:03:08.140
with the body skeleton position.

39
00:03:08.140 --> 00:03:14.939
Now before we move on to step two, let's do a quick review of what we just covered.

40
00:03:14.939 --> 00:03:18.819
Step one will position and scale the head rig for integration.

41
00:03:18.859 --> 00:03:24.419
Select the first portion of step one from line 113 to 126 and run it.

42
00:03:24.419 --> 00:03:29.459
This will load the MetaHumanDNA head meshes and joints and the body rig Maya file into

43
00:03:29.459 --> 00:03:30.900
a new scene.

44
00:03:30.900 --> 00:03:36.900
A copy of the LOD0 head geometry named position and scale mesh will appear.

45
00:03:36.900 --> 00:03:41.099
Since the atomic savage character has already been scaled and positioned from the previous

46
00:03:41.099 --> 00:03:46.819
workflow, the images on the right demonstrate what the unmodified version of the atomic

47
00:03:46.819 --> 00:03:49.780
savage DNA head mesh would look like.

48
00:03:49.780 --> 00:03:54.019
From here we would need to position and scale the head.

49
00:03:54.019 --> 00:03:59.019
Using the position and scale mesh, we would manually position and scale the head, as is

50
00:03:59.019 --> 00:04:01.900
shown in the images on the bottom right.

51
00:04:01.900 --> 00:04:06.620
This is similar to how we used the locator in the previous workflow, with the values

52
00:04:06.620 --> 00:04:08.979
being almost the same.

53
00:04:08.979 --> 00:04:13.900
Once we are happy with the scale and position, we can run the second portion of step one

54
00:04:13.980 --> 00:04:17.180
from line 133 to 137.

55
00:04:17.180 --> 00:04:21.899
This portion of the script will bake the position and scale to a new DNA file named

56
00:04:21.899 --> 00:04:23.540
updated scale.

57
00:04:23.540 --> 00:04:31.540
We can then review the new DNA file by running the last portion of step one to load the DNA.

58
00:04:31.540 --> 00:04:38.660
Once we run the last portion of step one from line 143 to 146, this will load the updated

59
00:04:38.660 --> 00:04:42.980
scale DNA file and the body rig into a new scene.

60
00:04:43.060 --> 00:04:47.819
What we can see in the images on the bottom right is that the mesh and joint positioning

61
00:04:47.819 --> 00:04:51.460
of the new DNA matches the body rig position.

62
00:04:51.460 --> 00:04:56.500
Again, this is very similar to the previous workflow we went over, where it scales and

63
00:04:56.500 --> 00:04:58.660
translates the rig.

64
00:04:58.660 --> 00:05:03.620
Now let's take a look at step two before we jump back into Maya.

65
00:05:03.620 --> 00:05:08.939
For step two, if we were using the original atomic savage metahuman DNA file, for the

66
00:05:08.939 --> 00:05:14.339
first portion of this step, we would create a new neutral mesh using the updated scale

67
00:05:14.339 --> 00:05:19.060
DNA file in order to blend the neck area with the body.

68
00:05:19.060 --> 00:05:23.620
The images on this slide demonstrate what this process would look like if we were to

69
00:05:23.620 --> 00:05:27.139
use the original atomic savage DNA file.

70
00:05:27.139 --> 00:05:32.579
The first and second image show what the neck seam would look like after step one, and the

71
00:05:32.579 --> 00:05:37.420
third image shows what the neck seam would look like after we have authored a new neutral

72
00:05:37.420 --> 00:05:38.899
mesh.

73
00:05:38.899 --> 00:05:44.620
Using the LOD0 head mesh from the updated scale DNA file, we would blend the neck vertex

74
00:05:44.620 --> 00:05:50.939
positions from the body with the neck area, and then export this as an obj file.

75
00:05:50.939 --> 00:05:54.179
We would then place it in the assets folder.

76
00:05:54.179 --> 00:06:00.620
If using your own character, let's go over the steps for creating the new neutral mesh.

77
00:06:00.620 --> 00:06:06.459
To create a new neutral mesh with the updated neck seam, in a new Maya scene, use the DNA

78
00:06:06.459 --> 00:06:11.979
viewer run in Maya script to load the updated scale DNA file.

79
00:06:11.979 --> 00:06:18.699
For the meshes option, assemble only the head LOD0 mesh and leave everything else unchecked,

80
00:06:18.699 --> 00:06:21.740
as shown in the image on the bottom left.

81
00:06:21.740 --> 00:06:28.019
From there, take the head LOD0 mesh and manually fit the neck geometry in order to integrate

82
00:06:28.019 --> 00:06:32.299
it with the body while respecting the edges and loops.

83
00:06:32.300 --> 00:06:37.900
Once the head mesh is properly fitted to the body, export that as an obj file and add

84
00:06:37.900 --> 00:06:41.980
the new head mesh to the assets folder.

85
00:06:41.980 --> 00:06:48.180
Back in Maya after the new neutral mesh has been created and placed in the assets folder,

86
00:06:48.180 --> 00:06:53.620
next we want to ensure that the path for the new neutral mesh obj file is correct on line

87
00:06:53.620 --> 00:06:56.220
156.

88
00:06:56.220 --> 00:07:04.380
From there, select everything from line 153 to 175 and execute it.

89
00:07:04.380 --> 00:07:10.900
This will update the DNA using the new neutral mesh obj file and then match the core joints

90
00:07:10.900 --> 00:07:15.660
of the spine, neck, and shoulders to the body rig.

91
00:07:15.660 --> 00:07:22.180
It will then load a new Maya scene so that we can inspect it.

92
00:07:22.180 --> 00:07:28.620
Now that this is finished loading, I am going to go into top view and I'm going to show

93
00:07:28.620 --> 00:07:32.459
the skeleton.

94
00:07:32.459 --> 00:07:40.340
I will select the head group so that we can see the skeleton and then select the body.

95
00:07:40.340 --> 00:07:44.620
And if we inspect the skeletons, we will see that the head joints are now aligned with

96
00:07:44.620 --> 00:07:48.379
the body, which is exactly what we wanted.

97
00:07:48.379 --> 00:07:53.620
Now let's do a quick review of step 2 before moving on.

98
00:07:53.620 --> 00:07:59.339
For step 2, once the new neutral mesh has been authored, using the updated scale DNA

99
00:07:59.339 --> 00:08:03.779
and then add it to the assets folder, make sure that the path to the new neutral mesh

100
00:08:03.779 --> 00:08:11.620
has been set correctly and then select everything from line 153 to 175 and execute it.

101
00:08:11.620 --> 00:08:17.620
This will update the DNA using the new neutral mesh obj file and the core joints of the spine,

102
00:08:17.620 --> 00:08:21.139
neck, and shoulders will match the body rig.

103
00:08:21.139 --> 00:08:25.740
With the head joints aligned with the body joints, as demonstrated in the images on the

104
00:08:25.740 --> 00:08:29.540
right, we can then proceed to step 3.

105
00:08:29.540 --> 00:08:31.579
Now that's it for this section.

106
00:08:31.579 --> 00:08:35.820
In the next section, we will continue going through the rest of the steps for the custom

107
00:08:35.820 --> 00:08:36.820
body workflow.

