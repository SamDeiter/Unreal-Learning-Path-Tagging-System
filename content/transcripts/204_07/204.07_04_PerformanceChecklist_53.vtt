WEBVTT

1
00:00:00.000 --> 00:00:05.120
Hi everyone, in this lesson we're going to take a look at Niagara Optimization.

2
00:00:05.120 --> 00:00:10.040
We're going to first look at our performance checklist that we can hit when it comes to

3
00:00:10.040 --> 00:00:13.359
developing and creating our effects for our scene.

4
00:00:13.359 --> 00:00:14.359
So let's get started.

5
00:00:14.359 --> 00:00:19.920
One of the things you can use and create when it comes to Niagara is create a Niagara effect

6
00:00:19.920 --> 00:00:20.920
type.

7
00:00:20.920 --> 00:00:25.039
Now that Niagara effect type can be found under effects and then you'll find Niagara

8
00:00:25.039 --> 00:00:26.480
effect type.

9
00:00:26.480 --> 00:00:32.320
This Niagara effect type will then be loaded into our scene in Niagara underneath our system

10
00:00:32.320 --> 00:00:36.920
effect type in our overview node.

11
00:00:36.920 --> 00:00:43.500
So this overview node is the blue node here that has a lot of our heavy lifting settings

12
00:00:43.500 --> 00:00:48.320
in here that we can control and we're going to go to system and then we're going to load

13
00:00:48.320 --> 00:00:50.640
our Niagara effect type here.

14
00:00:50.640 --> 00:00:54.840
Let's go and take a look at this in Unreal and I'll show you how to set this up.

15
00:00:54.840 --> 00:00:58.720
So to create a Niagara effect type we're going to right click here and we're going

16
00:00:58.720 --> 00:01:04.200
to go to our effects and we're going to go to advanced and you'll see a Niagara effect

17
00:01:04.200 --> 00:01:05.200
type.

18
00:01:05.200 --> 00:01:10.439
I'm going to click on this and we'll just call this demo so Niagara effect type and

19
00:01:10.439 --> 00:01:16.080
then we'll do demo and I'm just going to enter double click on it and you can see that we

20
00:01:16.080 --> 00:01:18.560
have several properties to choose from.

21
00:01:18.560 --> 00:01:22.320
Some of the key properties and workflows which we'll also point out in the slides is

22
00:01:22.319 --> 00:01:27.199
being able to control our system scalability in which we can hit plus here, open this up

23
00:01:27.199 --> 00:01:34.359
and we can choose how we want to degrade or I should say dumb down the effect in our scene.

24
00:01:34.359 --> 00:01:38.959
There's also visibility calling that we can control and there's also budget scaling that

25
00:01:38.959 --> 00:01:40.959
we can also edit.

26
00:01:40.959 --> 00:01:44.000
You'll see there's a emitter scalability settings also.

27
00:01:44.000 --> 00:01:50.119
We can hit a plus here, open this up and also choose low, medium, high for our needs.

28
00:01:50.120 --> 00:01:54.000
We're going to take a look at one that I've already built and exactly where to put things.

29
00:01:54.000 --> 00:01:57.480
You'll notice there's also validation as well as performance.

30
00:01:57.480 --> 00:02:02.439
This performance allows us to be able to control a thing called Niagara baseline control basic

31
00:02:02.439 --> 00:02:08.120
which we can load in performance and if we load this in here we can now open this up

32
00:02:08.120 --> 00:02:12.640
and we'll be able to look at a baseline control that is in here to be able to control number

33
00:02:12.640 --> 00:02:16.520
of instances, test duration as well as the overall system.

34
00:02:16.719 --> 00:02:21.080
If you were to load a system in here that we need to be able to reference.

35
00:02:21.080 --> 00:02:26.760
Let's go ahead and take a look at this at our effect in general in our scene.

36
00:02:26.760 --> 00:02:29.320
In my scene here I have an effect placed in here.

37
00:02:29.320 --> 00:02:34.120
I'm going to double click on this effect and we're going to go to our overall overview

38
00:02:34.120 --> 00:02:35.960
here of our effect here.

39
00:02:35.960 --> 00:02:38.080
You'll notice things slowed down just a little bit there.

40
00:02:38.080 --> 00:02:41.520
What do you can actually help in and I do recommend this when you are working with your

41
00:02:41.520 --> 00:02:46.520
effect is to just pause or even stop that playback.

42
00:02:46.520 --> 00:02:48.880
That's going to make things run a bit easier.

43
00:02:48.880 --> 00:02:54.280
This is our Niagara overview node and in here we're going to load it underneath our effect

44
00:02:54.280 --> 00:02:59.240
type and you also want to make sure you turn on your fixed bounds when you're assembling

45
00:02:59.240 --> 00:03:00.240
everything.

46
00:03:00.240 --> 00:03:05.920
This is where you're going to load it and that reference that effect type that we had

47
00:03:05.920 --> 00:03:08.200
created and the settings we put in there.

48
00:03:08.199 --> 00:03:14.119
Now our effect is going to reference that in outputting what we need.

49
00:03:14.119 --> 00:03:21.560
So again this allows us to control when it spawns, its scalability and its overall performance.

50
00:03:21.560 --> 00:03:26.000
Again, like I said, you want to make sure you turn on fixed bounds.

51
00:03:26.000 --> 00:03:28.319
Most systems should use it.

52
00:03:28.319 --> 00:03:34.319
It's cheaper and required for GPU emitters and make sure the bounds are not bigger than

53
00:03:34.319 --> 00:03:35.560
they need to be.

54
00:03:35.560 --> 00:03:39.439
Let me tell you what I'm talking about here because when you mess with your bounds you

55
00:03:39.439 --> 00:03:43.319
can mess with your overall look and feel and performance of your object.

56
00:03:43.319 --> 00:03:47.080
We're also going to talk a little bit about resolution too.

57
00:03:47.080 --> 00:03:52.240
So again fixed bounds can be found right here underneath our effect type and then you can

58
00:03:52.240 --> 00:03:55.360
control how that fixed bounds is played out.

59
00:03:55.360 --> 00:04:00.480
What I do want to mention, what you heard me just say about resolution and you'll hear

60
00:04:00.480 --> 00:04:05.280
me mention this several times because it's very important to consider, you need to consider

61
00:04:05.280 --> 00:04:11.680
the size of your overall effect versus, and we can pick on this particular one here, your

62
00:04:11.680 --> 00:04:14.680
overall effect versus your resolution.

63
00:04:14.680 --> 00:04:21.160
Now you can control the overall size of your object and how it actually relates to your

64
00:04:21.160 --> 00:04:22.319
scene.

65
00:04:22.319 --> 00:04:28.680
Now that size directly correlates with your resolution max axes.

66
00:04:28.680 --> 00:04:31.399
So notice mine is at 192.

67
00:04:31.399 --> 00:04:38.879
So if I increase the size of my world space size and I don't necessarily increase my resolution,

68
00:04:38.879 --> 00:04:44.839
I'm going to get hit with some pixels and you'll see the kind of the voxel or pixelation

69
00:04:44.839 --> 00:04:48.079
happening with our effect and you want to be careful with that.

70
00:04:48.079 --> 00:04:55.239
So you need to fine tune and balance between the size of your object and world space versus

71
00:04:55.239 --> 00:04:57.879
your resolution max axis.

72
00:04:57.879 --> 00:05:00.439
So it's really important to not forget that.

73
00:05:00.480 --> 00:05:06.120
Now because my computer is pretty strong graphically, I could probably bump this up to 200, maybe

74
00:05:06.120 --> 00:05:10.240
get close to 300 and be okay, but this is where we want to control it.

75
00:05:10.240 --> 00:05:15.920
Now you can control that resolution inside of the effect itself, but I don't recommend

76
00:05:15.920 --> 00:05:16.920
it.

77
00:05:16.920 --> 00:05:19.480
This is kind of where you want to be able to dial things down.

78
00:05:19.480 --> 00:05:24.000
And again, your world space, if you make it too big, you're spreading that effect a little

79
00:05:24.000 --> 00:05:29.639
bit too thin and you could get major pixelation if you're not careful, but it also depends

80
00:05:29.639 --> 00:05:31.839
on the effect itself.

81
00:05:31.839 --> 00:05:38.639
Also make sure the warmup in the system properties, warmup time, warmup tick count is set to zero.

82
00:05:38.639 --> 00:05:44.719
Warmup is extremely expensive and it causes hitches and only works on CPU emitters.

83
00:05:44.719 --> 00:05:46.399
So keep that in mind.

84
00:05:46.399 --> 00:05:51.919
Check each emitter scalability setting and make sure that they are on the right platform,

85
00:05:51.919 --> 00:05:53.439
turn off what is not needed.

86
00:05:53.439 --> 00:05:56.439
So if you don't need it, turn that off for sure.

87
00:05:57.319 --> 00:06:02.839
Again, if you're using the component renderer experimental in scalability, leave cinematic

88
00:06:02.839 --> 00:06:04.959
and epic on.

89
00:06:04.959 --> 00:06:11.040
Check system scalability overrides and edit them as needed, not needed in all effects,

90
00:06:11.040 --> 00:06:16.480
overrides used to, they are used to adjust plane and effect timing.

91
00:06:16.480 --> 00:06:20.319
Note more for interactive and final pixel.

92
00:06:20.319 --> 00:06:25.279
So in a case of ICV effects, you may not necessarily have to touch these.

93
00:06:25.279 --> 00:06:26.279
That's it with this video.

94
00:06:26.279 --> 00:06:30.159
In the next video, we're going to take a look at debugging your Niagara effect.

95
00:06:30.159 --> 00:06:31.159
Thanks again.

