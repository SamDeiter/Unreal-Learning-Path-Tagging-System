WEBVTT

1
00:00:00.000 --> 00:00:02.240
Hi everyone.

2
00:00:02.240 --> 00:00:05.960
In this lesson, we're going to go and take a look at the baking tool inside of Niagara.

3
00:00:05.960 --> 00:00:07.560
So let's get started.

4
00:00:07.560 --> 00:00:11.880
In Unreal, we have the ability to use tools to bake our effects.

5
00:00:11.880 --> 00:00:14.160
So they're great, especially for items from a distance.

6
00:00:14.160 --> 00:00:22.199
So keep that in mind because it does keep things lighter, but there is a breakdown resolution-wise.

7
00:00:22.199 --> 00:00:25.760
So you kind of want to keep these in the distance, so they can't be helpful.

8
00:00:25.760 --> 00:00:29.679
The only thing you can really run into here that you also have to be careful with is how

9
00:00:29.679 --> 00:00:31.839
your loop is run.

10
00:00:31.839 --> 00:00:37.960
Now for obvious reasons, a liquid effect, a fog effect, a particle effect is not going

11
00:00:37.960 --> 00:00:39.460
to loop exactly.

12
00:00:39.460 --> 00:00:43.519
So you want to make sure when you set it, how long your duration speed, or I should say

13
00:00:43.519 --> 00:00:46.600
duration seconds, are going to be.

14
00:00:46.600 --> 00:00:53.640
Now this baker, let's go and look at it in Unreal, is again, it's pretty new and it

15
00:00:53.640 --> 00:00:59.240
can be kind of experimental, but you can also run the option of exporting your images,

16
00:00:59.280 --> 00:01:04.799
which I mentioned from the last lecture, high resolution EXR and put them on a plate

17
00:01:04.799 --> 00:01:07.400
and make it so that there's an alpha involved.

18
00:01:07.400 --> 00:01:12.439
But you can also use this one, which again, can be used, but for things in the distance,

19
00:01:12.439 --> 00:01:16.159
and you want to make sure you know exactly how long that shot's going to be.

20
00:01:16.159 --> 00:01:21.560
If you're using ICB effects, in case and point, if you know how long that shot's going to

21
00:01:21.560 --> 00:01:25.840
be, you can match up your effect to know when it's actually going to come to an end.

22
00:01:25.880 --> 00:01:29.200
Otherwise, a loop is going to run into some trouble.

23
00:01:29.200 --> 00:01:31.799
So let's go ahead and jump into Unreal and take a look at that.

24
00:01:32.799 --> 00:01:35.320
So here in Unreal, I have the effect up front.

25
00:01:35.320 --> 00:01:39.680
This is grabbing, and I just positioned my camera a certain way in the baker, which I'll

26
00:01:39.680 --> 00:01:40.320
show you.

27
00:01:40.320 --> 00:01:46.640
But you can see this is actually a pretty decent effect, but it is very short, and it

28
00:01:46.640 --> 00:01:51.480
being very short, you have to determine what you want from this effect and how long your

29
00:01:51.480 --> 00:01:52.800
seconds are going to be.

30
00:01:53.159 --> 00:01:56.000
You also need to keep in mind how things are getting cut off.

31
00:01:56.159 --> 00:02:03.120
How big in your original effect is your bounding box, your scale.

32
00:02:03.920 --> 00:02:07.319
And you'll notice here on this fire effect kind of comes to a ceiling.

33
00:02:07.319 --> 00:02:10.079
So if I wanted to, I could open this up a little bit.

34
00:02:10.599 --> 00:02:15.479
But again, like I mentioned before, you need to consider your resolution because as you

35
00:02:15.479 --> 00:02:20.199
make the scale bigger for that effect, your resolution could take a hit and you could

36
00:02:20.199 --> 00:02:21.199
get some pixelation.

37
00:02:21.439 --> 00:02:26.079
But in the case of baking and it's in the distance, you may not have to worry about

38
00:02:26.079 --> 00:02:30.199
that as much because you really are just trying to give the illusion of something.

39
00:02:30.560 --> 00:02:32.759
And this actually, this one came out pretty good.

40
00:02:33.119 --> 00:02:34.719
But again, it is very short.

41
00:02:35.159 --> 00:02:37.759
So let's go ahead and take a look at this effect up close.

42
00:02:38.079 --> 00:02:41.439
What we can do is do the same effect when it comes to the fire.

43
00:02:41.919 --> 00:02:43.560
So let's go and double click on this guy.

44
00:02:47.159 --> 00:02:49.239
And we'll go to the baker here.

45
00:02:49.239 --> 00:02:50.639
So let's open up the baker.

46
00:02:52.199 --> 00:02:57.039
So the baker is going to show me kind of a low level version of what I have.

47
00:02:57.039 --> 00:02:59.479
And it's actually not too bad in this particular case.

48
00:03:00.079 --> 00:03:06.799
But you will see in here that you do need to make sure you take an account how you

49
00:03:06.799 --> 00:03:07.959
position your camera.

50
00:03:08.000 --> 00:03:08.919
That's very important.

51
00:03:09.399 --> 00:03:11.799
So you want to make sure that it's centered.

52
00:03:11.799 --> 00:03:17.359
If it isn't centered, you could run into the problem of things not being able to be

53
00:03:17.639 --> 00:03:18.679
looking like you want.

54
00:03:18.679 --> 00:03:20.000
You'll get some bad clipping.

55
00:03:20.719 --> 00:03:26.159
So what I mean by that, if we left click, we can move our camera around this 3D space.

56
00:03:26.599 --> 00:03:31.759
And this will drag left click and drag allow us to be able to position things like we want.

57
00:03:32.159 --> 00:03:36.159
Another one you can do is middle click and drag to pan.

58
00:03:36.159 --> 00:03:40.479
So if I middle mouse click, I can pan back and forth to get the right positioning.

59
00:03:40.479 --> 00:03:43.240
And then we also can right click and drag to zoom.

60
00:03:43.599 --> 00:03:46.960
So if I right click, I can zoom in and out on this effect.

61
00:03:47.320 --> 00:03:51.719
And may get a pretty decent look visually for my output.

62
00:03:52.159 --> 00:03:56.080
Now, again, you also need to keep in mind the size that you're outputting when you

63
00:03:56.080 --> 00:03:57.520
decide to use this baker.

64
00:03:58.159 --> 00:04:00.560
Also click F to center the frame.

65
00:04:00.560 --> 00:04:05.640
So if I click in here and keep my finger on the F key, I can center on the effect.

66
00:04:05.640 --> 00:04:07.080
Now we're a little bit too close.

67
00:04:07.400 --> 00:04:09.640
So we're going to have to move back a little bit there.

68
00:04:09.640 --> 00:04:15.760
So let's go in wheel mouse there and a little back and try actually right mouse there.

69
00:04:16.680 --> 00:04:20.199
And middle mouse to get that positioning.

70
00:04:20.719 --> 00:04:24.759
So you have to keep those things in mind when you're actually baking these that things

71
00:04:24.759 --> 00:04:29.279
are not getting cut off because they will easily get cut off if you're not careful.

72
00:04:29.639 --> 00:04:34.000
And again, you can see the top of my bounding box being hit by the smoke.

73
00:04:34.000 --> 00:04:38.639
So you also need to take an account your size, which I mentioned or scale,

74
00:04:38.759 --> 00:04:40.120
which I mentioned earlier.

75
00:04:41.360 --> 00:04:45.199
So in the settings, which we'll talk about in Unreal and go back and forth

76
00:04:45.199 --> 00:04:49.839
with the slides, we have to make sure we take an account our perspective or

77
00:04:49.839 --> 00:04:52.039
or throw front positioning or throw back.

78
00:04:52.039 --> 00:04:56.199
So you can literally punch these numbers in, but you can also control your texture

79
00:04:56.199 --> 00:04:57.279
size too.

80
00:04:57.639 --> 00:05:00.680
You do need to take an account what this spreadsheet is going to be.

81
00:05:00.680 --> 00:05:05.360
Because in this case, you want to make sure that your dimensions are of the equal

82
00:05:05.360 --> 00:05:08.079
size to what you want this to be.

83
00:05:08.079 --> 00:05:12.680
Because honestly, it's going to make a little spreadsheet for you and you have

84
00:05:12.680 --> 00:05:13.560
to do that math.

85
00:05:13.920 --> 00:05:19.720
So for ideal behavior, you want to set your textures size to a power of two and

86
00:05:19.720 --> 00:05:24.519
the frames per dimension to be a number that divides evenly into that texture

87
00:05:24.519 --> 00:05:25.079
size.

88
00:05:25.600 --> 00:05:26.639
Let me show you what I mean.

89
00:05:28.319 --> 00:05:33.360
In this one that I've already created, you can actually see a just a quick

90
00:05:33.360 --> 00:05:35.680
glimpse of this particular effect.

91
00:05:35.680 --> 00:05:39.120
I did it from a side view, which I thought worked pretty nice.

92
00:05:39.959 --> 00:05:44.680
But you want to make sure that in your Atlas texture size, and again, here we

93
00:05:44.680 --> 00:05:48.160
have the, the live sim and the big sim.

94
00:05:48.199 --> 00:05:49.399
You can do a comparable.

95
00:05:49.720 --> 00:05:52.879
We want to make sure that we increase the resolution to our needs.

96
00:05:52.879 --> 00:05:57.360
Now, if it's way in the distance, you could probably get away with doing 128.

97
00:05:57.600 --> 00:06:01.759
But in our case, we might want it a little bit higher so we could do a 512.

98
00:06:02.160 --> 00:06:07.240
Now the problem with the 512 is you're going to bump up your resolution

99
00:06:07.240 --> 00:06:07.840
dramatically.

100
00:06:07.840 --> 00:06:10.199
Notice we went to 496.

101
00:06:10.560 --> 00:06:15.920
We also can turn off our playback here in the regular mode and just make it so

102
00:06:15.920 --> 00:06:17.840
that's just running through our Baker sim.

103
00:06:18.160 --> 00:06:24.160
And you can see it playback here down below compared to over here, which is

104
00:06:24.160 --> 00:06:25.600
going to eat up a bit of memory.

105
00:06:26.120 --> 00:06:27.160
Now that's pretty high.

106
00:06:27.199 --> 00:06:29.040
We probably don't need 4096.

107
00:06:29.199 --> 00:06:31.199
So we could probably do 256.

108
00:06:31.960 --> 00:06:35.840
Nicely, it does a bit of the math for us, but you want to keep this again in a

109
00:06:35.839 --> 00:06:37.679
power of two, like mentioned before.

110
00:06:39.199 --> 00:06:43.119
Let's switch back to our gas fire here and let's actually make a bake for this

111
00:06:43.119 --> 00:06:44.239
particular asset.

112
00:06:44.879 --> 00:06:47.879
Now, again, we're going to follow the same rules here and we're going to change

113
00:06:47.879 --> 00:06:49.679
your resolution to 256.

114
00:06:50.159 --> 00:06:55.399
Now, when I set this to 256 by 256, again, the resolution increases, but you

115
00:06:55.399 --> 00:06:58.359
also want to make sure that the, there is a wrap in here.

116
00:06:58.359 --> 00:07:02.319
This is what I find to be the best options to choose from.

117
00:07:03.159 --> 00:07:07.240
You can go in here and change these to clamp or mirror the effect if you want

118
00:07:07.240 --> 00:07:09.959
to, but we're going to keep that as a wrap.

119
00:07:10.439 --> 00:07:15.560
So you'll see there's also the out, the Atlas asset path format.

120
00:07:15.600 --> 00:07:18.040
Let's actually pause this playback here for a second.

121
00:07:18.639 --> 00:07:22.000
The Atlas asset path format here.

122
00:07:22.240 --> 00:07:25.240
So we've chosen this particular area where it's going to output.

123
00:07:25.600 --> 00:07:28.159
Now you'll notice if you scroll down just a little bit, there's a frame

124
00:07:28.160 --> 00:07:34.000
asset path format we could use too, as well as a frame export path format.

125
00:07:34.640 --> 00:07:39.640
So these also can be assets that you want to send out the door and reference

126
00:07:39.640 --> 00:07:40.800
them as you need them.

127
00:07:41.280 --> 00:07:45.000
And you'll be able to have those assets for you as a backup.

128
00:07:45.400 --> 00:07:49.160
One thing I do want to point out too is your frames per dimension.

129
00:07:49.520 --> 00:07:54.160
If you don't have these high enough, things can get choppy and won't look as

130
00:07:54.160 --> 00:07:58.040
smooth, but if you have them too high based on your resolution,

131
00:07:58.280 --> 00:08:00.320
things also can get pixelated.

132
00:08:00.480 --> 00:08:02.400
So there's kind of a give and take with that.

133
00:08:02.960 --> 00:08:05.040
So let's go and run this bake simulation.

134
00:08:05.080 --> 00:08:08.200
Now it's going to make a baker folder for you when you do it.

135
00:08:08.439 --> 00:08:10.040
You'll notice there's warnings here.

136
00:08:10.040 --> 00:08:14.560
It says a midder gas control is not set to deterministic results.

137
00:08:14.760 --> 00:08:16.080
We'll vary each bake.

138
00:08:16.400 --> 00:08:23.200
So what this means when you're working with your asset is that we need to go

139
00:08:23.200 --> 00:08:26.520
into the emitter itself and go to determinism here.

140
00:08:26.519 --> 00:08:30.079
And this is going to make sure we get the same results with the same effect here.

141
00:08:30.680 --> 00:08:32.360
And that should get rid of that issue.

142
00:08:32.480 --> 00:08:36.879
Now you may run into some with new versions of the effect.

143
00:08:36.879 --> 00:08:40.079
If you import it, if you've got new version of Unreal and you get bringing it

144
00:08:40.079 --> 00:08:43.039
to your scene, you may run into some of these issues where you'll get like,

145
00:08:43.039 --> 00:08:45.480
hey, this is different now.

146
00:08:45.519 --> 00:08:48.919
This may give you weird results to keep that in mind.

147
00:08:48.919 --> 00:08:50.439
So I turned on the determinism.

148
00:08:50.919 --> 00:08:53.919
It should actually make that error go away.

149
00:08:54.319 --> 00:08:58.319
So let me go ahead and fix this particular issue where it says GPU is incorrectly

150
00:08:58.319 --> 00:09:01.479
running particle update script on the particle spawn.

151
00:09:01.479 --> 00:09:02.679
Now we had a couple of these.

152
00:09:02.879 --> 00:09:04.279
This is the first one that I fixed.

153
00:09:04.599 --> 00:09:05.759
I'm going to the second one.

154
00:09:06.079 --> 00:09:10.000
And this is due to the previous GPU code gen.

155
00:09:10.199 --> 00:09:11.799
So be careful though.

156
00:09:11.799 --> 00:09:16.279
When you turn these on, you could actually make your effect not work anymore.

157
00:09:17.199 --> 00:09:19.559
And that just means something has been disconnected.

158
00:09:19.799 --> 00:09:22.919
This doesn't mean it's completely a wash that you can't use it.

159
00:09:23.279 --> 00:09:27.319
It just means you may have to go in there and fix a couple of these issues that

160
00:09:27.319 --> 00:09:28.959
may be persisting because of it.

161
00:09:29.199 --> 00:09:33.199
But again, I turned on the determinism here and that should fix some of the issues.

162
00:09:33.360 --> 00:09:35.599
And I simply looked it up into my effect.

163
00:09:35.879 --> 00:09:37.719
And we go ahead and fix this issue here.

164
00:09:40.559 --> 00:09:41.000
There we go.

165
00:09:41.000 --> 00:09:41.879
Fire is coming back.

166
00:09:42.120 --> 00:09:45.959
Now, for some reason, you do fix an issue and it's still giving you issue,

167
00:09:46.039 --> 00:09:47.199
still giving you a problem.

168
00:09:47.399 --> 00:09:50.879
You can hit control Z and try to live with it and see if you can manage it.

169
00:09:51.120 --> 00:09:54.120
Just be careful with that because if you have a lot of dependencies,

170
00:09:54.439 --> 00:09:55.720
that could become an issue.

171
00:09:56.759 --> 00:09:59.600
Now, you'll notice that error has gone away, which is fantastic.

172
00:09:59.679 --> 00:10:03.399
Let's actually check the other one too, because he was kind of the problem in the

173
00:10:03.399 --> 00:10:03.879
baker.

174
00:10:05.360 --> 00:10:06.639
Let's go to his baker.

175
00:10:08.639 --> 00:10:09.519
I may have closed it.

176
00:10:11.159 --> 00:10:12.000
Let me see here.

177
00:10:12.039 --> 00:10:13.120
Go to the baker tab.

178
00:10:13.120 --> 00:10:13.519
There it is.

179
00:10:14.000 --> 00:10:14.240
Yep.

180
00:10:14.360 --> 00:10:14.879
It went away.

181
00:10:15.120 --> 00:10:15.919
Fantastic.

182
00:10:15.919 --> 00:10:16.399
It's gone.

183
00:10:16.799 --> 00:10:19.559
So you can see that can actually clear that up pretty easily.

184
00:10:20.159 --> 00:10:21.119
So we have this here.

185
00:10:21.119 --> 00:10:23.759
Let's go and run this bake at 256.

186
00:10:23.759 --> 00:10:25.919
Now, again, you can go higher like you saw me do.

187
00:10:25.919 --> 00:10:27.599
We can go to 4k even.

188
00:10:28.319 --> 00:10:31.879
Let's turn off that playback again, because that is eating a bit of memory.

189
00:10:32.799 --> 00:10:34.079
And let's go ahead and make this up.

190
00:10:38.719 --> 00:10:40.319
You have to give it a little bit of time.

191
00:10:40.319 --> 00:10:43.119
It'll pixelate it first and then it will kick in.

192
00:10:43.119 --> 00:10:46.839
I paused it just in case things I had too many processes going in the background.

193
00:10:47.239 --> 00:10:48.679
But it's actually not too bad.

194
00:10:48.719 --> 00:10:49.759
That's pretty good.

195
00:10:50.120 --> 00:10:53.959
Let's go and take a look at this material and how this works on the other side of

196
00:10:53.959 --> 00:10:54.399
things.

197
00:10:55.639 --> 00:10:58.479
So I went to my content folder here and just typed in baker.

198
00:10:58.879 --> 00:11:01.679
Probably should have been a little more specific where to put it, but you can

199
00:11:01.679 --> 00:11:05.039
actually see that it's made individual files too.

200
00:11:05.039 --> 00:11:05.839
If I needed it.

201
00:11:06.039 --> 00:11:07.519
So that's actually pretty handy.

202
00:11:07.719 --> 00:11:09.239
So that's secondary control.

203
00:11:09.239 --> 00:11:15.439
If we go to it really quick in Unreal, looking at our window, you'll actually

204
00:11:15.480 --> 00:11:19.200
see here again, you can do individual assets if you need to.

205
00:11:19.680 --> 00:11:22.640
Plus you can also do it for the Atlas if you need to.

206
00:11:22.880 --> 00:11:26.800
So that's pretty handy if you wanted to edit them and tweak them after the fact.

207
00:11:27.080 --> 00:11:28.280
You have that option.

208
00:11:28.960 --> 00:11:33.280
You can add more to it if you needed to, or take it into an editing software like

209
00:11:33.280 --> 00:11:33.960
Photoshop.

210
00:11:34.240 --> 00:11:36.400
You can actually do a little bit of adjusting.

211
00:11:36.600 --> 00:11:38.400
So back in my content folder here.

212
00:11:38.800 --> 00:11:39.680
We'll take a look here.

213
00:11:39.880 --> 00:11:44.040
Again, you can see the individual assets, but let's look at the Atlas here.

214
00:11:44.399 --> 00:11:46.279
And this actually came out pretty nice.

215
00:11:46.639 --> 00:11:48.199
Pretty decent resolution.

216
00:11:48.399 --> 00:11:50.480
Again, you do see the top where it hits.

217
00:11:50.679 --> 00:11:53.319
So you've got to be aware of that when you're building these effects.

218
00:11:53.319 --> 00:11:56.919
Again, where your box begins and ends on your object.

219
00:11:57.360 --> 00:12:01.519
Now connecting this to the materials, what we need to do next and to be able to

220
00:12:01.519 --> 00:12:03.120
place it where we need to place it.

221
00:12:03.879 --> 00:12:07.360
Before we fully jump into that, I want to make sure I point out a few things.

222
00:12:07.719 --> 00:12:09.879
You'll notice that there was a source binding at the top.

223
00:12:09.919 --> 00:12:11.399
Make sure that's set to none.

224
00:12:11.959 --> 00:12:16.600
And again, you can choose your scene color HDR values if you want to when

225
00:12:16.600 --> 00:12:20.079
generating your texture, and you can determine where that texture is going to

226
00:12:21.240 --> 00:12:24.360
be plus the size, which we talked about the size control.

227
00:12:24.679 --> 00:12:26.959
You can also show where that's going to end up.

228
00:12:27.559 --> 00:12:30.959
It will see a texture graphic in our slides, but in this case, you can

229
00:12:30.959 --> 00:12:34.039
actually just simply click on the magnifying glass and you'll see where

230
00:12:34.039 --> 00:12:35.039
Atlas is loaded.

231
00:12:35.600 --> 00:12:37.199
Pretty nice and pretty convenient.

232
00:12:37.640 --> 00:12:42.640
And again, the frames paths can also be adjusted and where you want those to lie.

233
00:12:43.600 --> 00:12:47.320
Now, just remember, if you generate a new one, it's going to be replaced

234
00:12:47.320 --> 00:12:50.520
unless you designate where that new one is going to be at.

235
00:12:51.000 --> 00:12:54.040
If you don't, it will simply just right right over it.

236
00:12:54.640 --> 00:12:55.600
That's it with this one.

237
00:12:55.600 --> 00:12:59.280
In the next video, we're going to go ahead and set up the material and the

238
00:12:59.280 --> 00:13:02.400
particle and connect those all together to get the flipbook to work.

239
00:13:02.680 --> 00:13:03.200
Thanks again.

