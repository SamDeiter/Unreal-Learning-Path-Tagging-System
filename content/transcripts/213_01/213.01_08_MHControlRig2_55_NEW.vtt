WEBVTT

1
00:00:00.000 --> 00:00:07.759
In this section, we continue by taking a look at how we can use the face control rig with

2
00:00:07.759 --> 00:00:13.679
the face pose library to create animations using a forward solve, and then we will go

3
00:00:13.679 --> 00:00:19.559
over how we can adjust an existing animation with the face control rig using a backward

4
00:00:19.559 --> 00:00:20.559
solve.

5
00:00:20.559 --> 00:00:27.240
So, let's jump into Unreal Engine and begin exploring the face control rig.

6
00:00:27.239 --> 00:00:34.600
When using the face control rig, make sure that the gizmo is set to translate and is

7
00:00:34.600 --> 00:00:40.640
in local space and snapping is turned off.

8
00:00:40.640 --> 00:00:47.799
Since the face board has over 200 controls, one way to quickly pose the face is to use

9
00:00:47.799 --> 00:00:50.799
the face pose library.

10
00:00:50.799 --> 00:00:56.920
To do this, in the animation panel, select poses.

11
00:00:56.920 --> 00:01:03.160
The pose library is located in the metahumans common folder, so in order to add that in

12
00:01:03.160 --> 00:01:11.519
here, right click over here and select add existing folder to view.

13
00:01:11.519 --> 00:01:15.000
I have already added the metahumans folder in here.

14
00:01:15.000 --> 00:01:22.359
Now, I will open up the metahumans folder, then open up the common folder, then open

15
00:01:22.359 --> 00:01:29.200
up the second common folder, then open up the pose library folder, and select the face

16
00:01:29.200 --> 00:01:31.359
folder.

17
00:01:31.359 --> 00:01:38.079
Inside of here, we can select from a variety of expressions and visims.

18
00:01:38.079 --> 00:01:44.200
If I open up the expressions folder, inside of here, we can choose a face pose we want

19
00:01:44.200 --> 00:01:46.000
to add.

20
00:01:46.000 --> 00:01:49.319
I will double click on this pose.

21
00:01:49.319 --> 00:01:53.719
Right below, I will click on select controls.

22
00:01:53.719 --> 00:01:59.280
Then with key checked on, I will select paste the pose.

23
00:01:59.280 --> 00:02:03.599
That pose will be keyframed in sequencer.

24
00:02:03.599 --> 00:02:10.919
We can move a few frames over and select another pose.

25
00:02:10.919 --> 00:02:18.400
Double click on another pose, and since select controls is still enabled, we can select paste

26
00:02:18.480 --> 00:02:20.680
the pose.

27
00:02:20.680 --> 00:02:27.640
And this is how we can use the face pose library to quickly pose and create animations using

28
00:02:27.640 --> 00:02:30.840
a forward solve.

29
00:02:30.840 --> 00:02:39.960
Now before we move on, let's do a quick review of what we just covered.

30
00:02:39.960 --> 00:02:45.280
When using the face control rig, you may find it helpful to also go through all of the face

31
00:02:45.280 --> 00:02:50.120
controls in order to learn what each control does.

32
00:02:50.120 --> 00:02:56.159
For a detailed breakdown on each of the face controls, you can reference the facial description

33
00:02:56.159 --> 00:03:02.800
standard portion of the metahuman documentation, and that is linked in the resources portion

34
00:03:02.800 --> 00:03:05.199
of this course.

35
00:03:05.199 --> 00:03:10.520
Now let's jump back into Unreal Engine and go over how we can use the metahuman control

36
00:03:10.520 --> 00:03:17.560
rigs for a backward solve.

37
00:03:17.560 --> 00:03:21.120
Now let's use a backward solve.

38
00:03:21.120 --> 00:03:24.840
First we need to delete the face control rig.

39
00:03:24.840 --> 00:03:31.240
Now I will add an animation track by going to the plus sign on the face component, and

40
00:03:31.240 --> 00:03:39.200
then go to animation and select the mh face animation sequence.

41
00:03:39.199 --> 00:03:43.759
This is 644 frames.

42
00:03:43.759 --> 00:03:53.079
Next I will change the sequencer length by going down here, and I will enter 644.

43
00:03:53.079 --> 00:03:58.719
I will now use the end bracket to change the length of the sequence, and now I will go

44
00:03:58.719 --> 00:04:04.120
to the start of the sequence and play this.

45
00:04:04.120 --> 00:04:09.520
Now there may be some areas of this animation that you may want to adjust.

46
00:04:09.520 --> 00:04:15.159
In this case you can use a backward solve by baking the animation curves to the control

47
00:04:15.159 --> 00:04:16.680
rig.

48
00:04:16.680 --> 00:04:23.319
To do this I will go to the start of the sequence, I will right click on the face component,

49
00:04:23.319 --> 00:04:30.439
and then select bake to control rig, and select the face control rig.

50
00:04:30.439 --> 00:04:35.199
I will leave everything at default, and select create.

51
00:04:35.199 --> 00:04:41.000
Depending on the length of the animation this may take a moment.

52
00:04:41.000 --> 00:04:47.000
Once this process completes, we can see that this animation has been baked to the face

53
00:04:47.000 --> 00:04:50.120
control rig.

54
00:04:50.120 --> 00:04:57.959
Now we can either adjust the existing keys of this animation using the curve editor,

55
00:04:57.959 --> 00:05:04.879
or we can add on top of this animation using an additive backward solve.

56
00:05:04.879 --> 00:05:11.599
To add on top of this existing animation, let's go to the start of the sequence, and

57
00:05:11.599 --> 00:05:18.599
then go to the plus sign on the control rig track, and select additive.

58
00:05:18.599 --> 00:05:25.799
Now to create an offset, I will select the brow lateral control, then hold down shift

59
00:05:25.800 --> 00:05:33.319
and select the other brow lateral control, and then select the brow down controls.

60
00:05:33.319 --> 00:05:39.800
Now if I move these controls and set a key by pressing the letter S, this offset will

61
00:05:39.800 --> 00:05:44.680
remain throughout the entire animation.

62
00:05:44.680 --> 00:05:50.639
Another thing we can do is add animations to specific sections.

63
00:05:50.639 --> 00:05:59.360
If I scrub through this animation, and decide that at this section, when the character is

64
00:05:59.360 --> 00:06:07.379
smiling, I want to adjust the cheek raise controls only when the smile is occurring.

65
00:06:07.379 --> 00:06:15.899
I can select the cheek raise controls over here, and I will scrub back to the section

66
00:06:15.899 --> 00:06:19.599
right before the smile occurs.

67
00:06:19.600 --> 00:06:25.240
Here I will create a neutral key by pressing the letter S.

68
00:06:25.240 --> 00:06:31.920
Now I will go back to the section where the smile is occurring, and use the slider to

69
00:06:31.920 --> 00:06:37.120
move the controls, and set a key.

70
00:06:37.120 --> 00:06:45.680
I will now move a few frames over, and use the slider to decrease the cheek control values,

71
00:06:45.680 --> 00:06:49.840
and set another key.

72
00:06:49.840 --> 00:06:56.439
And this is how we can use an additive backward solve to either create an offset, or edit

73
00:06:56.439 --> 00:07:01.639
specific areas of an animation by adding on top of it.

74
00:07:01.639 --> 00:07:09.399
To export this as a new animation sequence, I will go all the way back to the top of a

75
00:07:10.399 --> 00:07:17.799
And then I will right click on the face component, and select Bake Animation Sequence.

76
00:07:17.799 --> 00:07:25.799
Now, before we move on, let's do a quick review of what we just covered.

77
00:07:25.799 --> 00:07:32.279
We have just taken a look at how we can edit an existing animation using a backward solve

78
00:07:32.279 --> 00:07:35.159
with the face control rig.

79
00:07:35.160 --> 00:07:42.080
For a backward solve, we first have to delete the default control rigs from Sequencer, and

80
00:07:42.080 --> 00:07:47.880
then assign an animation to either the face or body component.

81
00:07:47.880 --> 00:07:54.960
Then right click on the face or body component, and select Bake to control rig.

82
00:07:54.960 --> 00:08:02.240
From there, you can either use the curve editor to make adjustments to the animation curves,

83
00:08:02.319 --> 00:08:08.040
or use an additive layer to add on top of an existing animation.

84
00:08:08.040 --> 00:08:13.600
To create a new animation sequence with all of the changes that you've made, right click

85
00:08:13.600 --> 00:08:19.879
on the face or body component, and select Bake to animation sequence.

86
00:08:19.879 --> 00:08:25.800
Now that we have seen what we can achieve with the metahuman control rigs, let's move

87
00:08:25.800 --> 00:08:30.560
on to different ways we can apply animations to our metahuman characters.

